!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-hls"]=t(require("react")):e["react-hls"]=t(e.react)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),f=r(s),c=n(3),d=r(c),h=n(2),p=r(h),v=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hls=null,n}return o(t,e),l(t,[{key:"componentDidUpdate",value:function(){this._initPlayer()}},{key:"componentDidMount",value:function(){this._initPlayer()}},{key:"componentWillUnmount",value:function(){var e=this.hls;e&&e.destroy()}},{key:"_initPlayer",value:function(){this.hls&&this.hls.destroy();var e=this.props,t=e.url,n=e.autoplay,r=e.hlsConfig,i=this.refs.video,a=new p.default(r);a.loadSource(t),a.attachMedia(i),a.on(p.default.Events.MANIFEST_LOADED,function(e){console.log(e)}),a.on(p.default.Events.MANIFEST_PARSED,function(){n&&i.play()}),this.hls=a}},{key:"render",value:function(){var e=this.props.playerId,t=this.props;return f.default.createElement("div",{key:"react-hls-"+e,className:"player-area"},f.default.createElement("video",u({ref:"video",className:"hls-player",id:e,controls:t.controls,width:t.width,height:t.height,poster:t.poster},t.videoProps)))}}]),t}(f.default.Component);v.propTypes={url:d.default.string.isRequired,playerId:d.default.string.isRequired,autoplay:d.default.bool,hlsConfig:d.default.object,controls:d.default.bool,width:d.default.number,height:d.default.number,poster:d.default.string,videoProps:d.default.object},v.defaultProps={autoplay:!1,hlsConfig:{},controls:!0,width:500,height:375},t.default=v},function(e,t,n){var r,r;!function(t){e.exports=t()}(function(){var e;return function e(t,n,i){function a(u,l){if(!n[u]){if(!t[u]){var s="function"==typeof r&&r;if(!l&&s)return r(u,!0);if(o)return o(u,!0);var f=Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return a(n||e)},c,c.exports,e,t,n,i)}return n[u].exports}for(var o="function"==typeof r&&r,u=0;i.length>u;u++)a(i[u]);return a}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,a,l,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(n=this._events[e],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,l=0;r>l;l++)s[l].apply(this,a);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,a,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,n,r){!function(t){var i=/^([^#]*)(.*)$/,a=/^([^\?]*)(.*)$/,o=/^(([a-z]+:\/\/)?[^:\/]+(?::[0-9]+)?)?(\/?.*)$/i,u={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var n=null,r=null,l=i.exec(t);l&&(r=l[2],t=l[1]);var s=a.exec(t);s&&(n=s[2],t=s[1]);var f=i.exec(e);f&&(e=f[1]);var c=a.exec(e);c&&(e=c[1]);var d=o.exec(e);if(!d)throw Error("Error trying to parse base URL.");var h=d[2]||"",p=d[1]||"",v=d[3];0!==v.indexOf("/")&&""!==p&&(v="/"+v);var g=null;return g=/^\/\//.test(t)?h+u.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?p+"/"+u.buildAbsolutePath("",t.substring(1)):u.buildAbsolutePath(p+v,t),n&&(g+=n),r&&(g+=r),g},buildAbsolutePath:function(e,t){for(var n,r,i=t,a="",o=e.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),u=0;(r=o.indexOf("/../",u))>-1;u=r+n)n=/^\/(?:\.\.\/)*/.exec(o.slice(r))[0].length,a=(a+o.substring(u,r)).replace(RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return a+o.substr(u)}};"object"==typeof r&&"object"==typeof n?n.exports=u:"function"==typeof e&&e.amd?e([],function(){return u}):"object"==typeof r?r.URLToolkit=u:t.URLToolkit=u}(this)},{}],3:[function(e,t,n){var r=arguments[3],i=arguments[4],a=arguments[5],o=JSON.stringify;t.exports=function(e,t){function n(e){g[e]=!0;for(var t in i[e][1]){var r=i[e][1][t];g[r]||n(r)}}for(var u,l=Object.keys(a),s=0,f=l.length;f>s;s++){var c=l[s],d=a[c].exports;if(d===e||d&&d.default===e){u=c;break}}if(!u){u=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},s=0,f=l.length;f>s;s++){var c=l[s];h[c]=c}i[u]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),v={};v[u]=u,i[p]=[Function(["require"],"var f = require("+o(u)+");(f.default ? f.default : f)(self);"),v];var g={};n(p);var y="("+r+")({"+Object.keys(g).map(function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"}).join(",")+"},{},["+o(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return b;var _=m.createObjectURL(b),E=new Worker(_);return E.objectURL=_,E}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(30),h=r(d),p=e(26),v=e(45),g=e(9),y=r(g);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.FRAG_LOADING,s.default.FRAG_LOADED,s.default.FRAG_BUFFERED,s.default.ERROR));return n.lastLoadedFragLevel=0,n._autoLevelCapping=-1,n._nextAutoLevel=-1,n.hls=e,n.onCheck=n.abandonRulesCheck.bind(n),n}return o(t,e),u(t,[{key:"destroy",value:function(){this.clearTimer(),c.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var n=this.hls,r=e.frag.level,i=n.levels[r].details.live,a=n.config,o=void 0,u=void 0;i?(o=a.abrEwmaFastLive,u=a.abrEwmaSlowLive):(o=a.abrEwmaFastVoD,u=a.abrEwmaSlowVoD),this.bwEstimator=new y.default(n,u,o,a.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,n=this.fragCurrent,r=n.loader,i=this.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return v.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var a=r.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var o=performance.now()-a.trequest,u=Math.abs(t.playbackRate);if(o>500*n.duration/u){var l=e.levels,f=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),c=l[n.level],d=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,p=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*d/8)),g=t.currentTime,y=(p-a.loaded)/f,m=(h.default.bufferInfo(t,g,e.config.maxBufferHole).end-g)/u;if(2*n.duration/u>m&&y>m){var b=void 0,_=void 0;for(_=n.level-1;_>i;_--){if(b=n.duration*(l[_].realBitrate?Math.max(l[_].realBitrate,l[_].bitrate):l[_].bitrate)/(6.4*f),m>b)break}y>b&&(v.logger.warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+y.toFixed(1)+":"+m.toFixed(1)),e.nextLoadLevel=_,this.bwEstimator.sample(o,a.loaded),r.abort(),this.clearTimer(),e.trigger(s.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type){this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1;var n=this.hls.levels[t.level],r=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,i=(n.loaded?n.loaded.duration:0)+e.frag.duration;if(n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i),e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&1===n.loadCounter&&"main"===n.type&&(!n.bitrateTest||t.tload===t.tbuffered)){var r=t.tparsed-t.trequest;v.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(r,t.loaded),this.bitrateTestDelay=n.bitrateTest?r/1e3:0}}},{key:"onError",value:function(e){switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,n,r,i,a,o,u,l){for(var s=i;s>=r;s--){var f=l[s],c=f.details,d=c?c.totalduration/c.fragments.length:t,h=!!c&&c.live,p=void 0;p=s>e?u*n:o*n;var g=l[s].realBitrate?Math.max(l[s].realBitrate,l[s].bitrate):l[s].bitrate,y=g*d/p;if(v.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+s+"/"+Math.round(p)+"/"+g+"/"+d+"/"+a+"/"+y),p>g&&(!y||h||a>y))return s}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,n=this.hls,r=n.levels,i=n.config.minAutoBitrate;if(!(-1===e||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var a=this.nextABRAutoLevel;if(-1!==e&&(a=Math.min(e,a)),void 0!==i)for(var o=r[a].realBitrate?Math.max(r[a].realBitrate,r[a].bitrate):r[a].bitrate;i>o;)a++;return a},set:function(e){this._nextAutoLevel=e}},{key:"minAutoLevel",get:function(){for(var e=this.hls,t=e.levels,n=e.config.minAutoBitrate,r=t?t.length:0,i=0;r>i;i++){if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>n)return i}return 0}},{key:"maxAutoLevel",get:function(){var e=this.hls.levels,t=this._autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,n=e.levels,r=e.config,i=this.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,u=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,s=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,c=(h.default.bufferInfo(a,l,r.maxBufferHole).end-l)/s,d=this.findBestLevel(o,u,f,i,t,c,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(0>d){v.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=u?Math.min(u,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,y=r.abrBandWidthUpFactor;if(0===c){var m=this.bitrateTestDelay;if(m){p=(u?Math.min(u,r.maxLoadingDelay):r.maxLoadingDelay)-m,v.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=y=1}}return d=this.findBestLevel(o,u,f,i,t,c+p,g,y,n),Math.max(d,0)}return d}}]),t}(c.default)},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e(41),f=r(s),c=e(30),d=r(c),h=e(22),p=r(h),v=e(28),g=r(v),y=e(27),m=r(y),b=e(31),_=r(b),E=e(46),k=r(E),T=e(26),w=e(45),S={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"};n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,g.default.MEDIA_ATTACHED,g.default.MEDIA_DETACHING,g.default.AUDIO_TRACKS_UPDATED,g.default.AUDIO_TRACK_SWITCHING,g.default.AUDIO_TRACK_LOADED,g.default.KEY_LOADED,g.default.FRAG_LOADED,g.default.FRAG_PARSING_INIT_SEGMENT,g.default.FRAG_PARSING_DATA,g.default.FRAG_PARSED,g.default.ERROR,g.default.BUFFER_CREATED,g.default.BUFFER_APPENDED,g.default.BUFFER_FLUSHED,g.default.INIT_PTS_FOUND));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=S.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n}return o(t,e),l(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),m.default.prototype.destroy.call(this),this.state=S.STOPPED}},{key:"onInitPtsFound",value:function(e){var t=e.id,n=e.cc,r=e.initPTS;"main"===t&&(this.initPTS[n]=r,w.logger.log("InitPTS for cc:"+n+" found from video track:"+r),this.state===S.WAITING_INIT_PTS&&(w.logger.log("sending pending audio frag to demuxer"),this.state=S.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null))}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(w.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=S.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=S.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=S.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=S.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,n,r,i,a,o=this,l=this.hls,s=l.config,c=function(){switch(o.state){case S.ERROR:case S.PAUSED:case S.BUFFER_FLUSHING:break;case S.STARTING:o.state=S.WAITING_TRACK,o.loadedmetadata=!1;break;case S.IDLE:var u=o.tracks;if(!u)break;if(!o.media&&(o.startFragRequested||!s.startFragPrefetch))break;e=o.loadedmetadata?o.media.currentTime:o.nextLoadPosition;var c=o.mediaBuffer?o.mediaBuffer:o.media,h=d.default.bufferInfo(c,e,s.maxBufferHole),p=h.len,v=h.end,y=o.fragPrevious,m=s.maxMaxBufferLength,b=o.audioSwitch,_=o.trackId;if(m>p&&u.length>_){if(void 0===(n=u[_].details)){o.state=S.WAITING_TRACK;break}if(!b&&!n.live&&y&&y.sn===n.endSN&&(!o.media.seeking||y.duration/2>o.media.duration-v)){o.hls.trigger(g.default.BUFFER_EOS,{type:"audio"}),o.state=S.ENDED;break}var E=n.fragments,k=E.length,R=E[0].start,x=E[k-1].start+E[k-1].duration,A=void 0;if(b)if(n.live&&!n.PTSKnown)w.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),v=0;else if(v=e,n.PTSKnown&&R>e){if(R>=h.end&&!h.nextStart)return{v:void 0};w.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),o.media.currentTime=R+.05}if(R<v)!function(){var e=void 0,t=s.maxFragLookUpTolerance;x>v?(v>x-t&&(t=0),(e=f.default.search(E,function(e){return e.start+e.duration-t>v?e.start-t>v?-1:0:1}))||w.logger.log("frag not found @bufferEnd/start:"+v+"/"+R)):e=E[k-1],e&&(A=e,R=e.start,y&&A.level===y.level&&A.sn===y.sn&&(n.endSN>A.sn?(A=E[A.sn+1-n.startSN],w.logger.log("SN just loaded, load next one: "+A.sn)):A=null))}();else if(A=E[0],n.live&&A.loadIdx&&A.loadIdx===o.fragLoadIdx){var L=h.nextStart?h.nextStart:R;return w.logger.log("no alt audio available @currentTime:"+o.media.currentTime+", seeking @"+(L+.05)),o.media.currentTime=L+.05,{v:void 0}}if(A)if(null!=A.decryptdata.uri&&null==A.decryptdata.key)w.logger.log("Loading key for "+A.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+_),o.state=S.KEY_LOADING,l.trigger(g.default.KEY_LOADING,{frag:A});else{if(w.logger.log("Loading "+A.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+_+", currentTime:"+e+",bufferEnd:"+v.toFixed(3)),void 0!==o.fragLoadIdx?o.fragLoadIdx++:o.fragLoadIdx=0,A.loadCounter){A.loadCounter++;var O=s.fragLoadingLoopThreshold;if(A.loadCounter>O&&Math.abs(o.fragLoadIdx-A.loadIdx)<O)return l.trigger(g.default.ERROR,{type:T.ErrorTypes.MEDIA_ERROR,details:T.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:A}),{v:void 0}}else A.loadCounter=1;A.loadIdx=o.fragLoadIdx,o.fragCurrent=A,o.startFragRequested=!0,o.nextLoadPosition=A.start+A.duration,l.trigger(g.default.FRAG_LOADING,{frag:A}),o.state=S.FRAG_LOADING}}break;case S.WAITING_TRACK:t=o.tracks[o.trackId],t&&t.details&&(o.state=S.IDLE);break;case S.FRAG_LOADING_WAITING_RETRY:r=performance.now(),i=o.retryDate,c=o.media,a=c&&c.seeking,i&&i>r&&!a||(w.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),o.state=S.IDLE)}}();if("object"===(void 0===c?"undefined":u(c)))return c.v}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(w.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===S.ENDED&&(this.state=S.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){w.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=S.IDLE,this.fragCurrent=null,this.state=S.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=S.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration,a=0;if(w.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.live){var o=r.details;o&&t.fragments.length>0?(_.default.mergeDetails(o,t),a=t.fragments[0].start,w.logger.log(t.PTSKnown?"live audio playlist sliding:"+a.toFixed(3):"live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,w.logger.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,!this.startFragRequested){if(-1===this.startPosition){var u=t.startTimeOffset;isNaN(u)?this.startPosition=0:(w.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u)}this.nextLoadPosition=this.startPosition}this.state===S.WAITING_TRACK&&(this.state=S.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===S.KEY_LOADING&&(this.state=S.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent;if(this.state===S.FRAG_LOADING&&t&&"audio"===e.frag.type&&e.frag.level===t.level&&e.frag.sn===t.sn){this.state=S.PARSING,this.stats=e.stats;var n=this.tracks[this.trackId],r=n.details,i=r.totalduration,a=t.start,o=t.level,u=t.sn,l=t.cc,s=this.config.defaultAudioCodec||n.audioCodec;this.appended=!1,this.demuxer||(this.demuxer=new p.default(this.hls,"audio"));var f=this.initPTS[l];if(void 0!==f){this.pendingBuffering=!0,w.logger.log("Demuxing "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+o);this.demuxer.push(e.payload,s,null,a,l,o,u,i,t.decryptdata,!1,f)}else w.logger.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+u+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=e,this.state=S.WAITING_INIT_PTS}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S.PARSING){var n=e.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec="mp4a.40.2",r.id=e.id,this.hls.trigger(g.default.BUFFER_CODECS,n),w.logger.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var i=r.initSegment;if(i){var a={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(g.default.BUFFER_APPENDING,a))}this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent;n&&"audio"===e.id&&"audio"===e.type&&e.sn===n.sn&&e.level===n.level&&this.state===S.PARSING&&function(){var n=t.trackId,r=t.tracks[n],i=t.fragCurrent,a=t.hls;w.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),_.default.updateFragPTSDTS(r.details,i.sn,e.startPTS,e.endPTS);var o=t.audioSwitch,u=t.media,l=!1;if(o&&u)if(u.readyState){var s=u.currentTime;w.logger.log("switching audio track : currentTime:"+s),e.startPTS>s||(w.logger.log("switching audio track : flushing all audio"),t.state=S.BUFFER_FLUSHING,a.trigger(g.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),l=!0,t.audioSwitch=!1,a.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:n}))}else t.audioSwitch=!1,a.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:n});var f=t.pendingData;t.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&f.push({type:e.type,data:t,parent:"audio",content:"data"})}),!l&&f.length&&(f.forEach(function(e){t.pendingBuffering=!0,t.hls.trigger(g.default.BUFFER_APPENDING,e)}),t.pendingData=[],t.appended=!0)),t.tick()}()}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S.PARSING&&(this.stats.tparsed=performance.now(),this.state=S.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent){var t=this.state;t!==S.PARSING&&t!==S.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==S.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),n.trigger(g.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});w.logger.log("audio buffered : "+k.default.toString((this.mediaBuffer?this.mediaBuffer:this.media).buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(g.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=S.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case T.ErrorDetails.FRAG_LOAD_ERROR:case T.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(r.fragLoadingMaxRetry<n)w.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(g.default.ERROR,e),this.state=S.ERROR;else{this.fragLoadError=n,t.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);w.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=S.FRAG_LOADING_WAITING_RETRY}}break;case T.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case T.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case T.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case T.ErrorDetails.KEY_LOAD_ERROR:case T.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==S.ERROR&&(this.state=e.fatal?S.ERROR:S.IDLE,w.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."))}}},{key:"onBufferFlushed",value:function(){var e=this,t=this.pendingData;t&&t.length?(w.logger.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(g.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=S.PARSED):(this.state=S.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,w.logger.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(m.default)},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(45);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MANIFEST_LOADING,s.default.MANIFEST_LOADED,s.default.AUDIO_TRACK_LOADED));return n.ticks=0,n.ontick=n.tick.bind(n),n}return o(t,e),u(t,[{key:"destroy",value:function(){c.default.prototype.destroy.call(this)}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(s.default.AUDIO_TRACKS_UPDATED,{audioTracks:n});var i=0;n.forEach(function(e){if(e.default)return t.audioTrack=i,void(r=!0);i++}),!1===r&&n.length&&(d.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){this.tracks.length>e.id&&(d.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&this.tracks.length>e){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,d.logger.log("switching to audioTrack "+e);var t=this.tracks[e],n=this.hls,r=t.type,i=t.url,a={id:e,type:r,url:i};n.trigger(s.default.AUDIO_TRACK_SWITCH,a),n.trigger(s.default.AUDIO_TRACK_SWITCHING,a);var o=t.details;!i||void 0!==o&&!0!==o.live||(d.logger.log("(re)loading playlist for audioTrack "+e),n.trigger(s.default.AUDIO_TRACK_LOADING,{url:i,id:e}))}}},{key:"updateTrack",value:function(e){if(e>=0&&this.tracks.length>e){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,d.logger.log("updating audioTrack "+e);var t=this.tracks[e],n=t.url,r=t.details;!n||void 0!==r&&!0!==r.live||(d.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(s.default.AUDIO_TRACK_LOADING,{url:n,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(c.default)},{27:27,28:28,45:45}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(45),h=e(26);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHING,s.default.MEDIA_DETACHING,s.default.MANIFEST_PARSED,s.default.BUFFER_RESET,s.default.BUFFER_APPENDING,s.default.BUFFER_CODECS,s.default.BUFFER_EOS,s.default.BUFFER_FLUSHING,s.default.LEVEL_PTS_UPDATED,s.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return o(t,e),u(t,[{key:"destroy",value:function(){c.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var i=r.updating;try{r.abort()}catch(e){i=!0,d.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(d.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,n=e.video,r=0;e.altAudio&&(t||n)&&(r=(t?1:0)+(n?1:0),d.logger.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(n)}}},{key:"onMediaDetaching",value:function(){d.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){d.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(s.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){d.logger.log("media source opened"),this.hls.trigger(s.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;!t||this.sourceBufferNb>t&&0!==this.sourceBufferNb||(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){d.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){d.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;d.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce(function(e,n){return n.parent===t?e+1:e},0);this.hls.trigger(s.default.BUFFER_APPENDED,{parent:t,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){d.logger.error("sourceBuffer error:"+e),this.hls.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var i=e[r],a=i.levelCodec||i.codec,o=i.container+";codecs="+a;d.logger.log("creating sourceBuffer("+o+")");try{var u=t[r]=n.addSourceBuffer(o);u.addEventListener("updateend",this.onsbue),u.addEventListener("error",this.onsbe),this.tracks[r]={codec:a,container:i.container},i.buffer=u}catch(e){d.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:o})}}this.hls.trigger(s.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){d.logger.error("sourceBuffer error:",e.event),this.hls.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,d.logger.log(r+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}d.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){d.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,n=this.sourceBuffer,r=this._levelDuration;if(null!==r&&e&&t&&n&&0!==e.readyState&&"open"===t.readyState){for(var i in n)if(n[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var a=e.duration;(r>this._msDuration&&r>a||a===1/0||isNaN(a))&&(d.logger.log("Updating mediasource duration to "+r.toFixed(3)),this._msDuration=t.duration=r)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){d.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(s.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void d.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var i=r.type,a=t[i];a?a.updating?n.unshift(r):(a.ended=!1,this.parent=r.parent,a.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){d.logger.error("error while trying to append buffer:"+t.message),n.unshift(r);var o={type:h.ErrorTypes.MEDIA_ERROR};if(22===t.code)return this.segments=[],o.details=h.ErrorDetails.BUFFER_FULL_ERROR,o.fatal=!1,void e.trigger(s.default.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=h.ErrorDetails.BUFFER_APPEND_ERROR,o.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return d.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],o.fatal=!0,void e.trigger(s.default.ERROR,o);o.fatal=!1,e.trigger(s.default.ERROR,o)}}}}},{key:"flushBuffer",value:function(e,t,n){var r,i,a,o,u,l,s=this.sourceBuffer;if(Object.keys(s).length){if(d.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.appended>this.flushBufferCounter){for(var f in s)if(!n||f===n){if(r=s[f],r.ended=!1,r.updating)return d.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;r.buffered.length>i;i++)if(a=r.buffered.start(i),o=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(u=e,l=t):(u=Math.max(a,e),l=Math.min(o,t)),Math.min(l,o)-u>.5)return this.flushBufferCounter++,d.logger.log("flush "+f+" ["+u+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),r.remove(u,l),!1}catch(e){d.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else d.logger.warn("abort flushing too many retries");d.logger.log("buffer flushed")}return!0}}]),t}(c.default)},{26:26,27:27,28:28,45:45}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f);n.default=function(e){function t(e){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.FPS_DROP_LEVEL_CAPPING,s.default.MEDIA_ATTACHING,s.default.MANIFEST_PARSED))}return o(t,e),u(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var t=0,n=void 0,r=void 0,i=this.mediaWidth,a=this.mediaHeight,o=0,u=0;for(n=0;e>=n&&(r=this.levels[n],!this.isLevelRestricted(n))&&(t=n,o=r.width,u=r.height,o<i&&u<a);n++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(e))}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:"mediaWidth",get:function(){var e=void 0,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(c.default)},{27:27,28:28}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(44),o=function(e){return e&&e.__esModule?e:{default:e}}(a);n.default=function(){function e(t,n,i,a){r(this,e),this.hls=t,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new o.default(n),this.fast_=new o.default(i)}return i(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var n=8e3*t/e,r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}()},{44:44}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(45);n.default=function(e){function t(e){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHING))}return o(t,e),u(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,a=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,u=1e3*a/i,l=this.hls;if(l.trigger(s.default.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),u>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var f=l.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),0>=f||-1!==l.autoLevelCapping&&f>l.autoLevelCapping||(f-=1,l.trigger(s.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:l.currentLevel}),l.autoLevelCapping=f,l.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(c.default)},{27:27,28:28,45:45}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(45),h=e(26),p=e(30),v=r(p);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MANIFEST_LOADED,s.default.LEVEL_LOADED,s.default.FRAG_LOADED,s.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=n._autoLevelCapping=-1,n}return o(t,e),u(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,n=[],r=[],i={},a=!1,o=!1,u=this.hls,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),f=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(a=!0),l&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(o=!0);var t=i[e.bitrate];void 0===t?(i[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)}),a&&o?n.forEach(function(e){e.videoCodec&&r.push(e)}):r=n,r=r.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||f("audio",t))&&(!n||f("video",n))}),r.length){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var c=0;r.length>c;c++)if(r[c].bitrate===t){this._firstLevel=c,d.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}u.trigger(s.default.MANIFEST_PARSED,{levels:r,firstLevel:this._firstLevel,stats:e.stats,audio:o,video:a,altAudio:e.audioTracks.length>0})}else u.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:u.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&t.length>e){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(d.logger.log("switching to level "+e),this._level=e,this.hls.trigger(s.default.LEVEL_SWITCH,{level:e}));var n=t[e],r=n.details;if(!r||!0===r.live){var i=n.urlId;this.hls.trigger(s.default.LEVEL_LOADING,{url:n.url[i],level:e,id:i})}}else this.hls.trigger(s.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,n=this.hls,r=void 0,i=void 0,a=!1,o=n.abrController,u=o.minAutoLevel;switch(t){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:r=e.frag.level;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:r=e.context.level,a=!0;break;case h.ErrorDetails.REMUX_ALLOC_ERROR:r=e.level}if(void 0!==r){i=this._levels[r],i.loadError?i.loadError++:i.loadError=1;var l=i.url.length;if(l>1&&l>i.loadError)i.urlId=(i.urlId+1)%l,i.details=void 0,d.logger.warn("level controller,"+t+" for level "+r+": switching to redundant stream id "+i.urlId);else{if(-1===this._manualLevel&&r)d.logger.warn("level controller,"+t+": switch-down for next fragment"),o.nextAutoLevel=Math.max(u,r-1);else if(i&&i.details&&i.details.live)d.logger.warn("level controller,"+t+" on live stream, discard"),a&&(this._level=void 0);else if(t===h.ErrorDetails.LEVEL_LOAD_ERROR||t===h.ErrorDetails.LEVEL_LOAD_TIMEOUT){var f=n.media,c=f&&v.default.isBuffered(f,f.currentTime)&&v.default.isBuffered(f,f.currentTime+.5);if(c){var p=n.config.levelLoadingRetryDelay;d.logger.warn("level controller,"+t+", but media buffered, retry in "+p+"ms"),this.timer=setTimeout(this.ontick,p)}else d.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,n.trigger(s.default.ERROR,e)}}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var n=this._levels[t.level];n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var n=this._levels[t];n.loadError=0;var r=e.details;if(r.live){var i=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=n.details;a&&r.endSN===a.endSN&&(i/=2,d.logger.log("same live playlist, reload twice faster")),i-=performance.now()-e.stats.trequest,i=Math.max(1e3,Math.round(i)),d.logger.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(this.ontick,i)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],n=t.urlId;this.hls.trigger(s.default.LEVEL_LOADING,{url:t.url[n],level:e,id:n})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){-1!==e&&(e=Math.max(e,this.hls.abrController.minAutoLevel)),this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(c.default)},{26:26,27:27,28:28,30:30,45:45}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(41),s=r(l),f=e(30),c=r(f),d=e(22),h=r(d),p=e(28),v=r(p),g=e(27),y=r(g),m=e(31),b=r(m),_=e(46),E=r(_),k=e(26),T=e(45),w={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"};n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,v.default.MEDIA_ATTACHED,v.default.MEDIA_DETACHING,v.default.MANIFEST_LOADING,v.default.MANIFEST_PARSED,v.default.LEVEL_LOADED,v.default.KEY_LOADED,v.default.FRAG_LOADED,v.default.FRAG_LOAD_EMERGENCY_ABORTED,v.default.FRAG_PARSING_INIT_SEGMENT,v.default.FRAG_PARSING_DATA,v.default.FRAG_PARSED,v.default.ERROR,v.default.AUDIO_TRACK_SWITCHING,v.default.AUDIO_TRACK_SWITCHED,v.default.BUFFER_CREATED,v.default.BUFFER_APPENDED,v.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n._state=w.STOPPED,n.ontick=n.tick.bind(n),n}return o(t,e),u(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=w.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(T.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=w.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else T.logger.warn("cannot start loading as manifest not parsed yet"),this.state=w.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=w.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case w.ERROR:break;case w.BUFFER_FLUSHING:this.fragLoadError=0;break;case w.IDLE:if(!this._doTickIdle())return;break;case w.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=w.IDLE);break;case w.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(T.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=w.IDLE)}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&!n&&(this.startFragRequested||!t.startFragPrefetch))return!0;var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i],o=a.bitrate,u=void 0;u=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,u=Math.min(u,t.maxMaxBufferLength);var l=c.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),s=l.len;if(s>=u)return!0;T.logger.trace("buffer length of "+s.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var f=a.details;if(void 0===f||f.live&&this.levelLastLoaded!==i)return this.state=w.WAITING_LEVEL,!0;var d=this.fragPrevious;if(!f.live&&d&&d.sn===f.endSN&&n.duration-Math.max(l.end,d.start)<=Math.max(.2,d.duration/2)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(v.default.BUFFER_EOS,h),this.state=w.ENDED,!0}return this._fetchPayloadOrEos(r,l,f)}},{key:"_fetchPayloadOrEos",value:function(e,t,n){var r=this.fragPrevious,i=this.level,a=n.fragments,o=a.length;if(0===o)return!1;var u=a[0].start,l=a[o-1].start+a[o-1].duration,s=t.end,f=void 0;if(n.live){var c=this.config.initialLiveManifestSize;if(c>o)return T.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+c),!1;if(null===(f=this._ensureFragmentAtLivePoint(n,s,u,l,r,a,o)))return!1}else u>s&&(f=a[0]);return f||(f=this._findFragment(u,r,o,a,s,l,n)),!f||this._loadFragmentOrKey(f,i,n,e,s)}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,n,r,i,a,o){var u=this.hls.config,l=this.media,s=void 0,f=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-u.maxFragLookUpTolerance,r-f)){var c=this.liveSyncPosition=this.computeLivePosition(n,e);T.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+c.toFixed(3)),t=c,l&&l.readyState&&l.duration>c&&(l.currentTime=c)}if(e.PTSKnown&&t>r&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i){var d=i.sn+1;e.startSN>d||d>e.endSN||(s=a[d-e.startSN],T.logger.log("live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=a[Math.min(o-1,Math.round(o/2))],T.logger.log("live playlist, switching playlist, unknown, load middle frag : "+s.sn))}return s}},{key:"_findFragment",value:function(e,t,n,r,i,a,o){var u=this.hls.config,l=void 0,f=void 0,c=u.maxFragLookUpTolerance;if(a>i?(i>a-c&&(c=0),f=s.default.search(r,function(e){return e.start+e.duration-c>i?e.start-c>i&&e.start?-1:0:1})):f=r[n-1],f&&(l=f,f.start,t&&l.level===t.level&&l.sn===t.sn))if(o.endSN>l.sn){var d=t.deltaPTS,h=l.sn-o.startSN;d&&d>u.maxBufferHole&&t.dropped&&h?(l=r[h-1],T.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(l=r[h+1],T.logger.log("SN just loaded, load next one: "+l.sn))}else l=null;return l}},{key:"_loadFragmentOrKey",value:function(e,t,n,r,i){var a=this.hls,o=a.config;if(null==e.decryptdata.uri||null!=e.decryptdata.key){if(T.logger.log("Loading "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var u=o.fragLoadingLoopThreshold;if(e.loadCounter>u&&Math.abs(this.fragLoadIdx-e.loadIdx)<u)return a.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e}),!1}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,this.nextLoadPosition=e.start+e.duration,e.autoLevel=a.autoLevelEnabled,e.bitrateTest=this.bitrateTest,a.trigger(v.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new h.default(a,"main")),this.state=w.FRAG_LOADING,!0}T.logger.log("Loading key for "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t),this.state=w.KEY_LOADING,a.trigger(v.default.KEY_LOADING,{frag:e})}},{key:"getBufferRange",value:function(e){return s.default.search(this.bufferRange,function(t){return t.start>e?-1:e>t.end?1:0})}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(t=n.currentTime,t>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),c.default.isBuffered(n,t)?e=this.getBufferRange(t):c.default.isBuffered(n,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var r=e.frag;r!==this.fragPlaying&&(this.fragPlaying=r,this.hls.trigger(v.default.FRAG_CHANGED,{frag:r}))}}},{key:"immediateLevelSwitch",value:function(){if(T.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,c.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,n=void 0,r=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,n=this.getBufferRange(e.currentTime),n&&n.start>1&&this.flushMainBuffer(0,n.start-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,a=this.levels[i],o=this.fragLastKbps;t=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((r=this.getBufferRange(e.currentTime+t))&&(r=this.followingBufferRange(r))){var u=this.fragCurrent;u&&u.loader&&u.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.start,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=w.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(v.default.BUFFER_FLUSHING,n)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(T.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;if(T.logger.log("media seeking to "+t.toFixed(3)),this.state===w.FRAG_LOADING){var r=this.mediaBuffer?this.mediaBuffer:e,i=c.default.bufferInfo(r,t,this.config.maxBufferHole),a=this.fragCurrent;if(0===i.len&&a){var o=n.maxFragLookUpTolerance,u=a.start-o,l=a.start+a.duration+o;u>t||t>l?(a.loader&&(T.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=w.IDLE):T.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===w.ENDED&&(this.state=w.IDLE);e&&(this.lastCurrentTime=t),this.state!==w.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){T.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){T.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){T.logger.log("trigger BUFFER_RESET"),this.hls.trigger(v.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,n=!1,r=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&T.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,n=e.level,r=this.levels[n],i=t.totalduration,a=0;if(T.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=n,t.live){var o=r.details;o&&t.fragments.length>0?(b.default.mergeDetails(o,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,o),T.logger.log(t.PTSKnown?"live playlist sliding:"+a.toFixed(3):"live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,T.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,this.hls.trigger(v.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=t.startTimeOffset;isNaN(u)?t.live?(this.startPosition=this.computeLivePosition(a,t),T.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(0>u&&(T.logger.log("negative start time offset "+u+", count from end of last fragment"),u=a+i+u),T.logger.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===w.WAITING_LEVEL&&(this.state=w.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===w.KEY_LOADING&&(this.state=w.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===w.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var r=e.stats,i=this.levels[t.level],a=i.details;if(T.logger.log("Loaded  "+t.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+t.level),this.bitrateTest=!1,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=w.IDLE,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(v.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else{this.state=w.PARSING,this.stats=r;var o=a.totalduration,u=isNaN(t.startDTS)?t.start:t.startDTS,l=t.level,s=t.sn,f=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(T.logger.log("swapping playlist audio codec"),void 0===f&&(f=this.lastAudioCodec),f&&(f=-1!==f.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,T.logger.log("Parsing "+s+" of ["+a.startSN+" ,"+a.endSN+"],level "+l+", cc "+t.cc);var c=this.demuxer;c||(c=this.demuxer=new h.default(this.hls,"main"));var d=this.media;c.push(e.payload,f,i.videoCodec,u,t.cc,l,s,o,t.decryptdata,!(d&&d.seeking)&&(a.PTSKnown||!a.live),null)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===w.PARSING){var n,r,i=e.tracks;if(i.audio&&this.altAudio&&delete i.audio,r=i.audio){var a=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(T.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===o.indexOf("firefox")&&(a="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==r.container&&(a="mp4a.40.2",T.logger.log("Android: force audio codec to "+a)),r.levelCodec=a,r.id=e.id}if(r=i.video,r&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=e.id),e.unique){var u={codec:"",levelCodec:""};for(n in e.tracks)r=i[n],u.container=r.container,u.codec&&(u.codec+=",",u.levelCodec+=","),r.codec&&(u.codec+=r.codec),r.levelCodec&&(u.levelCodec+=r.levelCodec);i={audiovideo:u}}this.hls.trigger(v.default.BUFFER_CODECS,i);for(n in i){r=i[n],T.logger.log("main track:"+n+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(v.default.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent;if(n&&"main"===e.id&&e.sn===n.sn&&e.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===w.PARSING){var r=this.levels[this.level],i=this.fragCurrent;T.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0));var a=b.default.updateFragPTSDTS(r.details,i.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),o=this.hls;o.trigger(v.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:a,type:e.type,start:e.startPTS,end:e.endPTS}),"video"===e.type&&(i.dropped=e.dropped),[e.data1,e.data2].forEach(function(n){n&&(t.appended=!0,t.pendingBuffering=!0,o.trigger(v.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===w.PARSING&&(this.stats.tparsed=performance.now(),this.state=w.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){T.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(T.logger.log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=w.IDLE}var i=this.hls;i.trigger(v.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(v.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(T.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=n,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,n=void 0,r=void 0,i=!1;for(var a in t){var o=t[a];"main"===o.id?(r=a,n=o,"video"===a&&(this.videoBuffer=t[a].buffer)):i=!0}i&&n?(T.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==w.PARSING&&t!==w.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){var e=this;if(!(this.state!==w.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;t&&function(){var n=e.mediaBuffer?e.mediaBuffer:e.media;T.logger.log("main buffered : "+E.default.toString(n.buffered));var r=e.bufferRange.filter(function(e){return c.default.isBuffered(n,(e.start+e.end)/2)});r.push({type:t.type,start:t.startPTS,end:t.endPTS,frag:t}),e.bufferRange=r.sort(function(e,t){return e.start-t.start}),e.fragPrevious=t;var i=e.stats;i.tbuffered=performance.now(),e.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),e.hls.trigger(v.default.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),e.state=w.IDLE}(),this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=this.media,r=n&&c.default.isBuffered(n,n.currentTime)&&c.default.isBuffered(n,n.currentTime+.5);switch(e.details){case k.ErrorDetails.FRAG_LOAD_ERROR:case k.ErrorDetails.FRAG_LOAD_TIMEOUT:case k.ErrorDetails.KEY_LOAD_ERROR:case k.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var a=this.config;if(a.fragLoadingMaxRetry>=i||r||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var o=Math.min(Math.pow(2,i-1)*a.fragLoadingRetryDelay,a.fragLoadingMaxRetryTimeout);T.logger.warn("mediaController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=w.FRAG_LOADING_WAITING_RETRY}else T.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(v.default.ERROR,e),this.state=w.ERROR}break;case k.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=w.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(v.default.ERROR,e),this.state=w.ERROR));break;case k.ErrorDetails.LEVEL_LOAD_ERROR:case k.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==w.ERROR&&(e.fatal?(this.state=w.ERROR,T.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===w.WAITING_LEVEL&&(this.state=w.IDLE));break;case k.ErrorDetails.BUFFER_FULL_ERROR:this.state!==w.PARSING&&this.state!==w.PARSED||(r?(this._reduceMaxBufferLength(t.duration),this.state=w.IDLE):(T.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;e>t.maxMaxBufferLength||(t.maxMaxBufferLength/=2,T.logger.warn("reduce max buffer length to "+t.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,n=this.mediaBuffer?this.mediaBuffer:e,r=n.buffered;if(this.loadedmetadata||!r.length||e.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var i=c.default.bufferInfo(e,t,0),a=!(e.paused||e.ended||0===e.buffered.length),o=t!==this.lastCurrentTime,u=this.config;if(o)this.stallReported&&(T.logger.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(a){var l=performance.now(),s=this.hls;if(this.stalled){var f=l-this.stalled,d=i.len,h=this.nudgeRetry||0;if(.5>=d&&f>1e3*u.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,T.logger.warn("playback stalling in low buffer @"+t),s.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:d}));var p=i.nextStart,g=p-t;if(p&&u.maxSeekHole>g&&g>0){this.nudgeRetry=++h;var y=h*u.nudgeOffset;T.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+p+" + nudge "+y),e.currentTime=p+y,this.stalled=void 0,s.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:p+y-t})}}else if(d>.5&&f>1e3*u.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,T.logger.warn("playback stalling in high buffer @"+t),s.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:d})),this.stalled=void 0,this.nudgeRetry=++h,u.nudgeMaxRetry>h){var m=e.currentTime,b=m+h*u.nudgeOffset;T.logger.log("adjust currentTime from "+m+" to "+b),e.currentTime=b,s.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else T.logger.error("still stuck in high buffer @"+t+" after "+u.nudgeMaxRetry+", raise fatal error"),s.trigger(v.default.ERROR,{type:k.ErrorTypes.MEDIA_ERROR,details:k.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=l,this.stallReported=!1}}else{this.loadedmetadata=!0;var _=this.startPosition,E=c.default.isBuffered(n,_);t===_&&E||(T.logger.log("target start position:"+_),E||(_=r.start(0),T.logger.log("target start position not buffered, seek to buffered.start(0) "+_)),T.logger.log("adjust currentTime from "+t+" to "+_),e.currentTime=_)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=w.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferRange=this.bufferRange.filter(function(t){return c.default.isBuffered(e,(t.start+t.end)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=w.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,T.logger.log("main stream:"+t+"->"+e),this.hls.trigger(v.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(y.default)},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(42),h=r(d);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.MEDIA_ATTACHING,s.default.MEDIA_DETACHING,s.default.FRAG_PARSING_USERDATA,s.default.MANIFEST_LOADING,s.default.FRAG_LOADED,s.default.LEVEL_SWITCH));if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.config.enableCEA708Captions){var r=n,o=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)};n.cea608Parser=new h.default(0,{newCue:function(e,t,n){if(!r.textTrack1){var i=r.getExistingTrack("1");i?(r.textTrack1=i,r.clearCurrentCues(r.textTrack1),o(r.textTrack1,r.media)):(r.textTrack1=r.createTextTrack("captions","English","en"),r.textTrack1.textTrack1=!0)}r.Cues.newCue(r.textTrack1,e,t,n)}},{newCue:function(e,t,n){if(!r.textTrack2){var i=r.getExistingTrack("2");i?(r.textTrack2=i,r.clearCurrentCues(r.textTrack2),o(r.textTrack2,r.media)):(r.textTrack2=r.createTextTrack("captions","Spanish","es"),r.textTrack2.textTrack2=!0)}r.Cues.newCue(r.textTrack2,e,t,n)}})}return n}return o(t,e),u(t,[{key:"clearCurrentCues",value:function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var n=0;t.textTracks.length>n;n++){var r=t.textTracks[n],i="textTrack"+e;if(!0===r[i])return r}return null}},{key:"createTextTrack",value:function(e,t,n){if(this.media)return this.media.addTextTrack(e,t,n)}},{key:"destroy",value:function(){c.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:"onLevelSwitch",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){if("main"===e.frag.type){var t=e.frag.start;t>this.lastPts||(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=t}}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;e.samples.length>t;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}}},{key:"extractCea608Data",value:function(e){for(var t,n,r,i,a,o=31&e[0],u=2,l=[],s=0;o>s;s++)t=e[u++],n=127&e[u++],r=127&e[u++],i=0!=(4&t),a=3&t,0===n&&0===r||i&&0===a&&(l.push(n),l.push(r));return l}}]),t}(c.default)},{27:27,28:28,42:42}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(t,n){r(this,e),this.subtle=t,this.aesIV=n}return i(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}()},{}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(){r(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return i(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;n.length>r;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix[0],r=this.subMix[1],i=this.subMix[2],a=this.subMix[3],o=this.invSubMix[0],u=this.invSubMix[1],l=this.invSubMix[2],s=this.invSubMix[3],f=new Uint32Array(256),c=0,d=0,h=0;for(h=0;256>h;h++)f[h]=128>h?h<<1:h<<1^283;for(h=0;256>h;h++){var p=d^d<<1^d<<2^d<<3^d<<4;p=p>>>8^255&p^99,e[c]=p,t[p]=c;var v=f[c],g=f[v],y=f[g],m=257*f[p]^16843008*p;n[c]=m<<24|m>>>8,r[c]=m<<16|m>>>16,i[c]=m<<8|m>>>24,a[c]=m,m=16843009*y^65537*g^257*v^16843008*c,o[p]=m<<24|m>>>8,u[p]=m<<16|m>>>16,l[p]=m<<8|m>>>24,s[p]=m,c?(c=v^f[f[f[y^v]]],d^=f[f[d]]):c=d=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;t.length>r&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw Error("Invalid aes key size="+i);var a=this.ksRows=4*(i+6+1),o=void 0,u=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),s=this.invKeySchedule=new Uint32Array(this.ksRows),f=this.sBox,c=this.rcon,d=this.invSubMix[0],h=this.invSubMix[1],p=this.invSubMix[2],v=this.invSubMix[3],g=void 0,y=void 0;for(o=0;a>o;o++)i>o?g=l[o]=t[o]:(y=g,o%i==0?(y=y<<8|y>>>24,y=f[y>>>24]<<24|f[y>>>16&255]<<16|f[y>>>8&255]<<8|f[255&y],y^=c[o/i|0]<<24):i>6&&o%i==4&&(y=f[y>>>24]<<24|f[y>>>16&255]<<16|f[y>>>8&255]<<8|f[255&y]),l[o]=g=(l[o-i]^y)>>>0);for(u=0;a>u;u++)o=a-u,y=3&u?l[o]:l[o-4],s[u]=4>u||4>=o?y:d[f[y>>>24]]^h[f[y>>>16&255]]^p[f[y>>>8&255]]^v[f[255&y]],s[u]=s[u]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,a=this.keySize+6,o=this.invKeySchedule,u=this.invSBox,l=this.invSubMix[0],s=this.invSubMix[1],f=this.invSubMix[2],c=this.invSubMix[3],d=this.uint8ArrayToUint32Array_(n),h=d[0],p=d[1],v=d[2],g=d[3],y=new Int32Array(e),m=new Int32Array(y.length),b=void 0,_=void 0,E=void 0,k=void 0,T=void 0,w=void 0,S=void 0,R=void 0,x=void 0,A=void 0,L=void 0,O=void 0;y.length>t;){for(x=this.networkToHostOrderSwap(y[t]),A=this.networkToHostOrderSwap(y[t+1]),L=this.networkToHostOrderSwap(y[t+2]),O=this.networkToHostOrderSwap(y[t+3]),T=x^o[0],w=O^o[1],S=L^o[2],R=A^o[3],r=4,i=1;a>i;i++)b=l[T>>>24]^s[w>>16&255]^f[S>>8&255]^c[255&R]^o[r],_=l[w>>>24]^s[S>>16&255]^f[R>>8&255]^c[255&T]^o[r+1],E=l[S>>>24]^s[R>>16&255]^f[T>>8&255]^c[255&w]^o[r+2],k=l[R>>>24]^s[T>>16&255]^f[w>>8&255]^c[255&S]^o[r+3],T=b,w=_,S=E,R=k,r+=4;b=u[T>>>24]<<24^u[w>>16&255]<<16^u[S>>8&255]<<8^u[255&R]^o[r],_=u[w>>>24]<<24^u[S>>16&255]<<16^u[R>>8&255]<<8^u[255&T]^o[r+1],E=u[S>>>24]<<24^u[R>>16&255]<<16^u[T>>8&255]<<8^u[255&w]^o[r+2],k=u[R>>>24]<<24^u[T>>16&255]<<16^u[w>>8&255]<<8^u[255&S]^o[r+3],r+=3,m[t]=this.networkToHostOrderSwap(b^h),m[t+1]=this.networkToHostOrderSwap(k^p),m[t+2]=this.networkToHostOrderSwap(E^v),m[t+3]=this.networkToHostOrderSwap(_^g),h=x,p=A,v=L,g=O,t+=4}return m.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}()},{}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(14),u=r(o),l=e(17),s=r(l),f=e(15),c=r(f),d=e(26),h=e(45);n.default=function(){function e(t,n){i(this,e),this.observer=t,this.config=n;try{var r=crypto||self.crypto;this.subtle=r.subtle||r.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return a(e,[{key:"decrypt",value:function(e,t,n,r){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){h.logger.log("JS AES decrypt");var a=this.decryptor;a||(this.decryptor=a=new c.default),a.expandKey(t),r(a.decrypt(e,0,n))}else!function(){h.logger.log("WebCrypto AES decrypt");var a=i.subtle;i.key!==t&&(i.key=t,i.fastAesKey=new s.default(a,t)),i.fastAesKey.expandKey().then(function(t){new u.default(a,n).decrypt(e,t).then(function(e){r(e)})}).catch(function(a){i.onWebCryptoError(a,e,t,n,r)})}()}},{key:"onWebCryptoError",value:function(e,t,n,r,i){this.config.enableSoftwareAES?(h.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(t,n,r,i)):(h.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}()},{14:14,15:15,17:17,26:26,45:45}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(t,n){r(this,e),this.subtle=t,this.key=n}return i(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}()},{}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(19),u=r(o),l=e(45),s=e(24),f=r(s);n.default=function(){function e(t,n,r,a,o){i(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=a,this.remuxer=new this.remuxerClass(t,n,a,o),this.insertDiscontinuity()}return a(e,[{key:"insertDiscontinuity",value:function(){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0}}},{key:"push",value:function(e,t,n,r,i,a,o,s,c,d){var h,p,v,g,y,m,b,_,E,k,T=new f.default(e),w=90*T.timeStamp,S=!1;for(i!==this.lastCC?(l.logger.log(this.id+" discontinuity detected"),this.lastCC=i,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):a!==this.lastLevel?(l.logger.log("audio track switch detected"),this.lastLevel=a,this.remuxer.switchLevel(),this.insertDiscontinuity()):o===this.lastSN+1&&(S=!0),h=this._aacTrack,this.lastSN=o,this.lastLevel=a,m=T.length,E=e.length;E-1>m&&(255!==e[m]||240!=(240&e[m+1]));m++);for(h.audiosamplerate||(p=u.default.getAudioConfig(this.observer,e,m,t),h.config=p.config,h.audiosamplerate=p.samplerate,h.channelCount=p.channelCount,h.codec=p.codec,h.manifestCodec=p.manifestCodec,h.duration=s,l.logger.log("parsed codec:"+h.codec+",rate:"+p.samplerate+",nb channel:"+p.channelCount)),y=0,g=9216e4/h.audiosamplerate;E>m+5&&(b=1&e[m+1]?7:9,v=(3&e[m+3])<<11|e[m+4]<<3|(224&e[m+5])>>>5,(v-=b)>0&&E>=m+b+v);)for(_=w+y*g,k={unit:e.subarray(m+b,m+b+v),pts:_,dts:_},h.samples.push(k),h.len+=v,m+=v+b,y++;E-1>m&&(255!==e[m]||240!=(240&e[m+1]));m++);this.remuxer.remux(a,o,i,h,{samples:[]},{samples:[{pts:w,dts:w,unit:T.payload}]},{samples:[]},r,S,c,d)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=new f.default(e);if(r.hasTimeStamp)for(t=r.length,n=e.length;n-1>t;t++)if(255===e[t]&&240==(240&e[t+1]))return!0;return!1}}]),e}()},{19:19,24:24,45:45}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(45),o=e(26);n.default=function(){function e(){r(this,e)}return i(e,null,[{key:"getAudioConfig",value:function(e,t,n,r){var i,u,l,s,f,c=navigator.userAgent.toLowerCase(),d=r,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return i=1+((192&t[n+2])>>>6),(u=(60&t[n+2])>>>2)>12?void e.trigger(Event.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u}):(s=(1&t[n+2])<<2,s|=(192&t[n+3])>>>6,a.logger.log("manifest codec:"+r+",ADTS data:type:"+i+",sampleingIndex:"+u+"["+h[u]+"Hz],channelConfig:"+s),/firefox/i.test(c)?6>u?(i=2,f=Array(2),l=u):(i=5,f=Array(4),l=u-3):-1!==c.indexOf("android")?(i=2,f=Array(2),l=u):(i=5,f=Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&u>=6?l=u-3:((r&&-1!==r.indexOf("mp4a.40.2")&&u>=6&&1===s||!r&&1===s)&&(i=2,f=Array(2)),l=u)),f[0]=i<<3,f[0]|=(14&u)>>1,f[1]|=(1&u)<<7,f[1]|=s<<3,5===i&&(f[1]|=(14&l)>>1,f[2]=(1&l)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:h[u],channelCount:s,codec:"mp4a.40."+i,manifestCodec:d})}}]),e}()},{26:26,45:45}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(28),u=r(o),l=e(26),s=e(16),f=r(s),c=e(18),d=r(c),h=e(25),p=r(h),v=e(38),g=r(v),y=e(39),m=r(y);n.default=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.hls=t,this.id=n,this.config=this.hls.config||a,this.typeSupported=r}return a(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,n,r,i,a,o,l,s,c,d){if(e.byteLength>0&&null!=s&&null!=s.key&&"AES-128"===s.method){null==this.decrypter&&(this.decrypter=new f.default(this.hls,this.config));var h,p=this;try{h=performance.now()}catch(e){h=Date.now()}this.decrypter.decrypt(e,s.key.buffer,s.iv.buffer,function(e){var s;try{s=performance.now()}catch(e){s=Date.now()}p.hls.trigger(u.default.FRAG_DECRYPTED,{level:a,sn:o,stats:{tstart:h,tdecrypt:s}}),p.pushDecrypted(new Uint8Array(e),t,n,r,i,a,o,l,c,d)})}else this.pushDecrypted(new Uint8Array(e),t,n,r,i,a,o,l,c,d)}},{key:"pushDecrypted",value:function(e,t,n,r,i,a,o,s,f,c){var h=this.demuxer;if(!h||i!==this.cc&&!h.probe(e)){var v=this.hls,y=this.id,b=this.config,_=this.typeSupported;if(p.default.probe(e))h=!0===this.typeSupported.mp2t?new p.default(v,y,m.default,b,_):new p.default(v,y,g.default,b,_),h.probe=p.default.probe;else{if(!d.default.probe(e))return void v.trigger(u.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,id:y,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});h=new d.default(v,y,g.default,b,_),h.probe=d.default.probe}this.demuxer=h}h.push(e,t,n,r,i,a,o,s,f,c),this.cc=i}}]),e}()},{16:16,18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(20),a=r(i),o=e(28),u=r(o),l=e(45),s=e(1),f=r(s);n.default=function(e){var t=new f.default;t.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",function(r){var i=r.data;switch(i.cmd){case"init":var o=JSON.parse(i.config);e.demuxer=new a.default(t,i.id,i.typeSupported,o);try{(0,l.enableLogs)(!0===o.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(i.data,i.audioCodec,i.videoCodec,i.timeOffset,i.cc,i.level,i.sn,i.duration,i.decryptdata,i.accurateTimeOffset,i.defaultInitPTS)}}),t.on(u.default.FRAG_DECRYPTED,n),t.on(u.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(u.default.FRAG_PARSED,n),t.on(u.default.ERROR,n),t.on(u.default.FRAG_PARSING_METADATA,n),t.on(u.default.FRAG_PARSING_USERDATA,n),t.on(u.default.INIT_PTS_FOUND,n),t.on(u.default.FRAG_PARSING_DATA,function(t,n){var r=n.data1.buffer,i=n.data2.buffer;delete n.data1,delete n.data2,e.postMessage({event:t,data:n,data1:r,data2:i},[r,i])})}},{1:1,20:20,28:28,45:45}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(28),u=r(o),l=e(20),s=r(l),f=e(21),c=r(f),d=e(45),h=e(26);n.default=function(){function t(n,r){i(this,t),this.hls=n,this.id=r;var a={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:n.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(n.config.enableWorker&&"undefined"!=typeof Worker){d.logger.log("demuxing in webworker");var o=void 0;try{var l=e(3);o=this.w=l(c.default),this.onwmsg=this.onWorkerMessage.bind(this),o.addEventListener("message",this.onwmsg),o.onerror=function(e){n.trigger(u.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},o.postMessage({cmd:"init",typeSupported:a,id:r,config:JSON.stringify(n.config)})}catch(e){d.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),o&&URL.revokeObjectURL(o.objectURL),this.demuxer=new s.default(n,r,a),this.w=void 0}}else this.demuxer=new s.default(n,r,a);this.demuxInitialized=!0}return a(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}}},{key:"push",value:function(e,t,n,r,i,a,o,u,l,s,f){var c=this.w;if(c)c.postMessage({cmd:"demux",data:e,audioCodec:t,videoCodec:n,timeOffset:r,cc:i,level:a,sn:o,duration:u,decryptdata:l,accurateTimeOffset:s,defaultInitPTS:f},[e]);else{var d=this.demuxer;d&&d.push(e,t,n,r,i,a,o,u,l,s,f)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case u.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data.data2=new Uint8Array(t.data2);default:n.trigger(t.event,t.data)}}}]),t}()},{20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(45);n.default=function(){function e(t){r(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return i(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&a.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;this.bitsAvailable>e;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){return this.readBits(this.skipLZ()+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,n,r=8,i=8;for(t=0;e>t;t++)0!==i&&(n=this.readEG(),i=(r+n+256)%256),r=0===i?r:i}},{key:"readSPS",value:function(){var e,t,n,r,i,a,o,u=0,l=0,s=0,f=0,c=this.readUByte.bind(this),d=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(c(),e=c(),d(5),v(3),c(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=h();if(3===b&&v(1),y(),y(),v(1),p())for(a=3!==b?8:12,o=0;a>o;o++)p()&&m(6>o?16:64)}y();var _=h();if(0===_)h();else if(1===_)for(v(1),g(),g(),t=h(),o=0;t>o;o++)g();y(),v(1),n=h(),r=h(),i=d(1),0===i&&v(1),v(1),p()&&(u=h(),l=h(),s=h(),f=h());var E=[1,1];if(p()&&p()){switch(c()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[c()<<8|c(),c()<<8|c()]}}return{width:Math.ceil(16*(n+1)-2*u-2*l),height:(2-i)*(r+1)*16-(i?2:4)*(s+f),pixelRatio:E}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}()},{45:45}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(45);n.default=function(){function e(t){r(this,e),this._hasTimeStamp=!1;for(var n,i,o,u,l,s,f,c,d=0;;)if(f=this.readUTF(t,d,3),d+=3,"ID3"===f)d+=3,n=127&t[d++],i=127&t[d++],o=127&t[d++],u=127&t[d++],l=(n<<21)+(i<<14)+(o<<7)+u,s=d+l,this._parseID3Frames(t,d,s),d=s;else{if("3DI"!==f)return d-=3,void((c=d)&&(this.hasTimeStamp||a.logger.warn("ID3 tag found, but no timestamp"),this._length=c,this._payload=t.subarray(0,c)));d+=7,a.logger.log("3DI footer found, end: "+d)}}return i(e,[{key:"readUTF",value:function(e,t,n){var r="",i=t,a=t+n;do{r+=String.fromCharCode(e[i++])}while(a>i);return r}},{key:"_parseID3Frames",value:function(e,t,n){for(var r,i;n>=t+8;)switch(r=this.readUTF(e,t,4),t+=4,e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],e[t++]<<8+e[t++],t,r){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var o=1&e[t++];this._hasTimeStamp=!0,i=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,o&&(i+=47721858.84),i=Math.round(i),a.logger.trace("ID3 timestamp found: "+i),this._timeStamp=i}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}()},{45:45}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(19),u=r(o),l=e(28),s=r(l),f=e(23),c=r(f),d=e(45),h=e(26);n.default=function(){function e(t,n,r,a,o){i(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=a,this.typeSupported=o,this.lastCC=0,this.remuxer=new this.remuxerClass(t,n,a,o)}return a(e,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(e,t,n,r,i,a,o,u,l,f){var c,p,v,g,y,m=e.length,b=this.remuxer.passthrough,_=!1;this.audioCodec=t,this.videoCodec=n,this._duration=u,this.contiguous=!1,this.accurateTimeOffset=l,i!==this.lastCC&&(d.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=i),a!==this.lastLevel?(d.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=a):o===this.lastSN+1&&(this.contiguous=!0),this.lastSN=o;var E=this.pmtParsed,k=this._avcTrack,T=this._audioTrack,w=this._id3Track,S=k.id,R=T.id,x=w.id,A=this._pmtId,L=k.pesData,O=T.pesData,C=w.pesData,D=this._parsePAT,P=this._parsePMT,I=this._parsePES,M=this._parseAVCPES.bind(this),N=this._parseAACPES.bind(this),F=this._parseMPEGPES.bind(this),U=this._parseID3PES.bind(this);for(m-=m%188,c=0;m>c;c+=188)if(71===e[c]){if(p=!!(64&e[c+1]),v=((31&e[c+1])<<8)+e[c+2],(48&e[c+3])>>4>1){if((g=c+5+e[c+4])===c+188)continue}else g=c+4;switch(v){case S:if(p){if(L&&(y=I(L))&&(M(y,!1),b&&k.codec&&(-1===R||T.codec)))return void this.remux(a,o,i,e,r);L={data:[],size:0}}L&&(L.data.push(e.subarray(g,c+188)),L.size+=c+188-g);break;case R:if(p){if(O&&(y=I(O))&&(T.isAAC?N(y):F(y),b&&T.codec&&(-1===S||k.codec)))return void this.remux(a,o,i,e,r);O={data:[],size:0}}O&&(O.data.push(e.subarray(g,c+188)),O.size+=c+188-g);break;case x:p&&(C&&(y=I(C))&&U(y),C={data:[],size:0}),C&&(C.data.push(e.subarray(g,c+188)),C.size+=c+188-g);break;case 0:p&&(g+=e[g]+1),A=this._pmtId=D(e,g);break;case A:p&&(g+=e[g]+1);var B=P(e,g,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);S=B.avc,S>0&&(k.id=S),R=B.audio,R>0&&(T.id=R,T.isAAC=B.isAAC),x=B.id3,x>0&&(w.id=x),_&&!E&&(d.logger.log("reparse from beginning"),_=!1,c=-188),E=this.pmtParsed=!0;break;case 17:case 8191:break;default:_=!0}}else this.observer.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});L&&(y=I(L))?(M(y,!0),k.pesData=null):k.pesData=L,O&&(y=I(O))?(T.isAAC?N(y):F(y),T.pesData=null):(O&&O.size&&d.logger.log("last AAC PES packet truncated,might overlap between fragments"),T.pesData=O),C&&(y=I(C))?(U(y),w.pesData=null):w.pesData=C,this.remux(a,o,i,null,r,f)}},{key:"remux",value:function(e,t,n,r,i,a){for(var o=this._avcTrack,u=o.samples,l=0,s=0,f=0;u.length>f;f++){for(var c=u[f],d=c.units.units,h=d.length,p=0,v=0;h>v;v++)p+=d[v].data.length;s+=p,l+=h,c.length=p}o.len=s,o.nbNalu=l,this.remuxer.remux(e,t,n,this._audioTrack,this._avcTrack,this._id3Track,this._txtTrack,i,this.contiguous,this.accurateTimeOffset,a,r)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,n){var r,i,a,o,u={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=(15&e[t+1])<<8|e[t+2],i=t+3+r-4,a=(15&e[t+10])<<8|e[t+11],t+=12+a;i>t;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 15:-1===u.audio&&(u.audio=o);break;case 21:-1===u.id3&&(u.id3=o);break;case 27:-1===u.avc&&(u.avc=o);break;case 3:case 4:n?-1===u.audio&&(u.audio=o,u.isAAC=!1):d.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:d.logger.warn("HEVC stream type found, not supported for now");break;default:d.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return u}},{key:"_parsePES",value:function(e){var t,n,r,i,a,o,u,l,s=0,f=e.data;if(!e||0===e.size)return null;for(;19>f[0].length&&f.length>1;){var c=new Uint8Array(f[0].length+f[1].length);c.set(f[0]),c.set(f[1],f[0].length),f[0]=c,f.splice(1,1)}if(t=f[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;n=t[7],192&n&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,o>4294967295&&(o-=8589934592),64&n?(u=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,u>4294967295&&(u-=8589934592),o-u>54e5&&(d.logger.warn(Math.round((o-u)/9e4)+"s delta between PTS and DTS, align them"),o=u)):u=o),i=t[8],l=i+9,e.size-=l,a=new Uint8Array(e.size);for(var h=0,p=f.length;p>h;h++){t=f[h];var v=t.byteLength;if(l){if(l>v){l-=v;continue}t=t.subarray(l),v-=l,l=0}a.set(t,s),s+=v}return r&&(r-=i+3),{data:a,pts:o,dts:u,len:r}}return null}},{key:"pushAccesUnit",value:function(e,t){e.units.units.length&&e.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&d.logger.log(e.pts+"/"+e.dts+":"+e.debug+","+e.units.length)}},{key:"_parseAVCPES",value:function(e,t){var n,r,i,a=this,o=this._avcTrack,u=this._parseAVCNALu(e.data),l=this.avcSample;e.data=null,u.forEach(function(t){switch(t.type){case 1:r=!0,l.frame=!0;var u=t.data;if(u.length>4){var s=new c.default(u).readSliceType();2!==s&&4!==s&&7!==s&&9!==s||(l.key=!0)}break;case 5:r=!0,l||(l=a.avcSample=a._createAVCSample(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:r=!0,n=new c.default(a.discardEPB(t.data)),n.readUByte();for(var f=0,d=0,h=!1,p=0;!h&&n.bytesAvailable>1;){f=0;do{p=n.readUByte(),f+=p}while(255===p);d=0;do{p=n.readUByte(),d+=p}while(255===p);if(4===f&&0!==n.bytesAvailable){h=!0;if(181===n.readUByte()){if(49===n.readUShort()){if(1195456820===n.readUInt()){if(3===n.readUByte()){var v=n.readUByte(),g=n.readUByte(),y=31&v,m=[v,g];for(i=0;y>i;i++)m.push(n.readUByte()),m.push(n.readUByte()),m.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:m})}}}}}else if(n.bytesAvailable>d)for(i=0;d>i;i++)n.readUByte()}break;case 7:if(r=!0,!o.sps){n=new c.default(t.data);var b=n.readSPS();o.width=b.width,o.height=b.height,o.pixelRatio=b.pixelRatio,o.sps=[t.data],o.duration=a._duration;var _=t.data.subarray(1,4),E="avc1.";for(i=0;3>i;i++){var k=_[i].toString(16);2>k.length&&(k="0"+k),E+=k}o.codec=E}break;case 8:r=!0,o.pps||(o.pps=[t.data]);break;case 9:r=!1,l&&a.pushAccesUnit(l,o),l=a.avcSample=a._createAVCSample(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}if(l&&r){l.units.units.push(t)}}),t&&l&&(this.pushAccesUnit(l,o),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,n,r){return{key:e,pts:t,dts:n,units:{units:[],length:0},debug:r}}},{key:"_insertSampleInOrder",value:function(e,t){var n=e.length;if(n>0)if(t.pts<e[n-1].pts){for(var r=n-1;r>=0;r--)if(e[r].pts>t.pts){e.splice(r,0,t);break}}else e.push(t);else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var n=this._avcTrack,r=n.samples;e=r[r.length-1]}if(e){var i=e.units.units;t=i[i.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,n,r,i,a,o=0,u=e.byteLength,l=this._avcTrack,s=l.naluState||0,f=s,c=[],d=-1;for(-1===s&&(d=0,a=31&e[0],s=0,o=1);u>o;)if(t=e[o++],s)if(1!==s)if(t)if(1===t){if(d<0){var h=this._getLastNalUnit();if(h&&(f&&4-f>=o&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-f)),(n=o-s-1)>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(e.subarray(0,n),h.data.byteLength),h.data=p}}else r={data:e.subarray(d,o-s-1),type:a},c.push(r);u>o?(i=31&e[o],d=o,a=i,s=0):s=-1}else s=0;else s=3;else s=t?0:2;else s=t?0:1;if(0>d||0>s||(r={data:e.subarray(d,u),type:a,state:s},c.push(r)),0===c.length){var v=this._getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+e.byteLength);g.set(v.data,0),g.set(e,v.data.byteLength),v.data=g}}return l.naluState=s,c}},{key:"discardEPB",value:function(e){for(var t,n,r=e.byteLength,i=[],a=1;r-2>a;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var o=0;for(a=0;t>a;o++,a++)o===i[0]&&(o++,i.shift()),n[a]=e[o];return n}},{key:"_parseAACPES",value:function(e){var t,n,r,i,a,o,l,f,c,p=this._audioTrack,v=e.data,g=e.pts,y=this.aacOverFlow,m=this.aacLastPTS;if(y){var b=new Uint8Array(y.byteLength+v.byteLength);b.set(y,0),b.set(v,y.byteLength),v=b}for(a=0,f=v.length;f-1>a&&(255!==v[a]||240!=(240&v[a+1]));a++);if(a){var _,E;if(f-1>a?(_="AAC PES did not start with ADTS header,offset:"+a,E=!1):(_="no ADTS header found in AAC PES",E=!0),d.logger.warn("parsing error:"+_),this.observer.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:E,reason:_}),E)return}if(!p.audiosamplerate){t=u.default.getAudioConfig(this.observer,v,a,this.audioCodec),p.config=t.config,p.audiosamplerate=t.samplerate,p.channelCount=t.channelCount,p.codec=t.codec,p.manifestCodec=t.manifestCodec,p.duration=this._duration,d.logger.log("parsed codec:"+p.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)}if(i=0,r=9216e4/p.audiosamplerate,y&&m){var k=m+r;Math.abs(k-g)>1&&(d.logger.log("AAC: align PTS for overlapping frames by "+Math.round((k-g)/90)),g=k)}for(;f>a+5&&(o=1&v[a+1]?7:9,n=(3&v[a+3])<<11|v[a+4]<<3|(224&v[a+5])>>>5,(n-=o)>0&&f>=a+o+n);)for(l=g+i*r,c={unit:v.subarray(a+o,a+o+n),pts:l,dts:l},p.samples.push(c),p.len+=n,a+=n+o,i++;f-1>a&&(255!==v[a]||240!=(240&v[a+1]));a++);y=f>a?v.subarray(a,f):null,this.aacOverFlow=y,this.aacLastPTS=l}},{key:"_parseMPEGPES",value:function(e){for(var t,n=e.data,r=e.pts,i=n.length,a=0,o=0;i>o&&(t=this._parseMpeg(n,o,i,a++,r))>0;)o+=t}},{key:"_onMpegFrame",value:function(e,t,n,r,i,a){var o=1152/n*1e3,u=a+i*o,l=this._audioTrack;l.config=[],l.channelCount=r,l.audiosamplerate=n,l.duration=this._duration,l.samples.push({unit:e,pts:u,dts:u}),l.len+=e.length}},{key:"_onMpegNoise",value:function(e){d.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,n,r,i){var a=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(t+2>n)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>n)return-1;var u=e[t+1]>>3&3,l=e[t+1]>>1&3,s=e[t+2]>>4&15,f=e[t+2]>>2&3,c=!!(2&e[t+2]);if(1!==u&&0!==s&&15!==s&&3!==f){var d=3===u?3-l:3===l?3:4,h=1e3*a[14*d+s-1],p=3===u?0:2===u?1:2,v=o[3*p+f],g=c?1:0,y=e[t+3]>>6==3?1:2,m=3===l?(3===u?12:6)*h/v+g<<2:(3===u?144:72)*h/v+g|0;return t+m>n?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+m),h,v,y,r,i),m)}}for(var b=t+2;n>b;){if(255===e[b-1]&&224==(224&e[b]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,b-1)),b-t-1;b++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}()},{19:19,23:23,26:26,28:28,45:45}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},{}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),u=e(26),l=e(28),s=function(e){return e&&e.__esModule?e:{default:e}}(l);n.default=function(){function e(t){r(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;n>a;a++)i[a-1]=arguments[a];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return a(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===i(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var n=function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)};try{n.call(this,e,t).call()}catch(t){o.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(s.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}()},{26:26,28:28,45:45}],28:[function(e,t,n){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(){r(this,e)}return i(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}()},{}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(){r(this,e)}return i(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var n=e.buffered,r=0;n.length>r;r++)if(t>=n.start(r)&&t<=n.end(r))return!0;return!1}},{key:"bufferInfo",value:function(e,t,n){if(e){var r,i=e.buffered,a=[];for(r=0;i.length>r;r++)a.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(a,t,n)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,n){var r,i,a,o,u,l=[];for(e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end}),u=0;e.length>u;u++){var s=l.length;if(s){var f=l[s-1].end;n>e[u].start-f?e[u].end>f&&(l[s-1].end=e[u].end):l.push(e[u])}else l.push(e[u])}for(u=0,r=0,i=a=t;l.length>u;u++){var c=l[u].start,d=l[u].end;if(t+n>=c&&d>t)i=c,a=d,r=a-t;else if(c>t+n){o=c;break}}return{len:r,start:i,end:a,nextStart:o}}}]),e}()},{}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(45);n.default=function(){function e(){r(this,e)}return i(e,null,[{key:"mergeDetails",value:function(t,n){var r,i=Math.max(t.startSN,n.startSN)-n.startSN,o=Math.min(t.endSN,n.endSN)-n.startSN,u=n.startSN-t.startSN,l=t.fragments,s=n.fragments,f=0;if(i>o)return void(n.PTSKnown=!1);for(var c=i;o>=c;c++){var d=l[u+c],h=s[c];h&&d&&(f=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,r=h))}if(f)for(a.logger.log("discontinuity sliding from playlist, take drift into account"),c=0;s.length>c;c++)s[c].cc+=f;if(r)e.updateFragPTSDTS(n,r.sn,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(u>=0&&l.length>u){var p=l[u].start;for(c=0;s.length>c;c++)s[c].start+=p}n.PTSKnown=t.PTSKnown}},{key:"updateFragPTSDTS",value:function(t,n,r,i,a,o){var u,l,s,f;if(!t||t.startSN>n||n>t.endSN)return 0;if(u=n-t.startSN,l=t.fragments,s=l[u],!isNaN(s.startPTS)){var c=Math.abs(s.startPTS-r);s.deltaPTS=isNaN(s.deltaPTS)?c:Math.max(c,s.deltaPTS),r=Math.min(r,s.startPTS),i=Math.max(i,s.endPTS),a=Math.min(a,s.startDTS),o=Math.max(o,s.endDTS)}var d=r-s.start;for(s.start=s.startPTS=r,s.endPTS=i,s.startDTS=a,s.endDTS=o,s.duration=i-r,f=u;f>0;f--)e.updatePTS(l,f,f-1);for(f=u;l.length-1>f;f++)e.updatePTS(l,f,f+1);return t.PTSKnown=!0,d}},{key:"updatePTS",value:function(e,t,n){var r=e[t],i=e[n],o=i.startPTS;isNaN(o)?i.start=n>t?r.start+r.duration:r.start-i.duration:n>t?0>(r.duration=o-r.start)&&a.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"):0>(i.duration=r.start-o)&&a.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")}}]),e}()},{45:45}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(28),u=r(o),l=e(26),s=e(36),f=r(s),c=e(34),d=r(c),h=e(4),p=r(h),v=e(7),g=r(v),y=e(8),m=r(y),b=e(5),_=r(b),E=e(12),k=r(E),T=e(11),w=r(T),S=e(13),R=r(S),x=e(10),A=r(x),L=e(6),O=r(L),C=e(45),D=e(47),P=r(D),I=e(1),M=r(I),N=e(35),F=r(N),U=e(43),B=r(U);n.default=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in t||(t[r]=n[r]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveSyncDurationCount>=t.liveMaxLatencyDurationCount)throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveSyncDuration>=t.liveMaxLatencyDuration||void 0===t.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,C.enableLogs)(t.debug),this.config=t;var a=this.observer=new M.default;a.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];a.emit.apply(a,[e,e].concat(n))},a.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];a.removeListener.apply(a,[e].concat(n))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a),this.playlistLoader=new f.default(this),this.fragmentLoader=new d.default(this),this.levelController=new w.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new O.default(this),this.keyLoader=new F.default(this)}return a(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.6.21"}},{key:"Events",get:function(){return u.default}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxMaxBufferLength:600,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:P.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:p.default,bufferController:g.default,capLevelController:m.default,fpsController:A.default,streamController:k.default,audioStreamController:_.default,timelineController:R.default,cueHandler:B.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),a(e,[{key:"destroy",value:function(){C.logger.log("destroy"),this.trigger(u.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){C.logger.log("attachMedia"),this.media=e,this.trigger(u.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){C.logger.log("detachMedia"),this.trigger(u.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){C.logger.log("loadSource:"+e),this.url=e,this.trigger(u.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;C.logger.log("startLoad("+e+")"),this.levelController.startLoad(),this.streamController.startLoad(e),this.audioStreamController.startLoad(e)}},{key:"stopLoad",value:function(){C.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:"swapAudioCodec",value:function(){C.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){C.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){C.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){C.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){C.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(e){C.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){C.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){C.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){return this.audioTrackController.audioTracks}},{key:"audioTrack",get:function(){return this.audioTrackController.audioTrack},set:function(e){this.audioTrackController.audioTrack=e}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}}]),e}()},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,47:47,5:5,6:6,7:7,8:8}],33:[function(e,t,n){"use strict";t.exports=e(32).default},{32:32}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(26),h=e(45);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.FRAG_LOADING));return n.loaders={},n}return o(t,e),u(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},c.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=this.hls.config;t.loaded=0,r&&(h.logger.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=t.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var a=void 0,o=void 0,u=void 0;a={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,s=t.byteRangeEndOffset;isNaN(l)||isNaN(s)||(a.rangeStart=l,a.rangeEnd=s),o={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(a,o,u)}},{key:"loadsuccess",value:function(e,t,n){var r=e.data,i=n.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(s.default.FRAG_LOADED,{payload:r,frag:i,stats:t})}},{key:"loaderror",value:function(e,t){var n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,n){var r=t.frag;r.loaded=e.loaded,this.hls.trigger(s.default.FRAG_LOAD_PROGRESS,{frag:r,stats:e})}}]),t}(c.default)},{26:26,27:27,28:28,45:45}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(28),s=r(l),f=e(27),c=r(f),d=e(26),h=e(45);n.default=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,s.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return o(t,e),u(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},c.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=t.decryptdata,a=i.uri;if(a!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;r&&(h.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new o.loader(o),this.decrypturl=a,this.decryptkey=null;var u=void 0,l=void 0,f=void 0;u={url:a,frag:t,responseType:"arraybuffer"},l={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,l,f)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(s.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(s.default.KEY_LOADED,{frag:r})}},{key:"loaderror",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(s.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})}}]),t}(c.default)},{26:26,27:27,28:28,45:45}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e(2),s=r(l),f=e(28),c=r(f),d=e(27),h=r(d),p=e(26),v=e(40),g=r(v),y=e(45),m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,b=/#EXT-X-MEDIA:(.*)/g,_=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,E=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,k=function(){function e(){o(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return u(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=s.default.buildAbsoluteURL(this.baseuri,this.reluri)),this._uri}}]),e}(),T=function(){function e(){o(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return u(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),n=12;16>n;n++)t[n]=e>>8*(15-n)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&(n=new k,n.method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=s.default.buildAbsoluteURL(this.baseurl,this.relurl)),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}();n.default=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,c.default.MANIFEST_LOADING,c.default.LEVEL_LOADING,c.default.AUDIO_TRACK_LOADING));return n.loaders={},n}return a(t,e),u(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"load",value:function(e,t){var n=this.loaders[t.type];if(n){var r=n.context;if(r&&r.url===e)return void y.logger.trace("playlist request ongoing");y.logger.warn("abort previous loader for type:"+t.type),n.abort()}var i=this.hls.config,a=void 0,o=void 0,u=void 0,l=void 0;"manifest"===t.type?(a=i.manifestLoadingMaxRetry,o=i.manifestLoadingTimeOut,u=i.manifestLoadingRetryDelay,l=i.manifestLoadingMaxRetryTimeout):(a=i.levelLoadingMaxRetry,o=i.levelLoadingTimeOut,u=i.levelLoadingRetryDelay,l=i.levelLoadingMaxRetryTimeout,y.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),n=this.loaders[t.type]=t.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),t.url=e,t.responseType="";var s=void 0,f=void 0;s={timeout:o,maxRetry:a,retryDelay:u,maxRetryDelay:l},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(t,s,f)}},{key:"resolve",value:function(e,t){return s.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var n=[],r=void 0;for(m.lastIndex=0;null!=(r=m.exec(e));){var i={},a=i.attrs=new g.default(r[1]);i.url=this.resolve(r[2],t);var o=a.decimalResolution("RESOLUTION");o&&(i.width=o.width,i.height=o.height),i.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),i.name=a.NAME;var u=a.CODECS;if(u){u=u.split(/[ ,]+/);for(var l=0;u.length>l;l++){var s=u[l];-1!==s.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(s):i.audioCodec=s}}n.push(i)}return n}},{key:"parseMasterPlaylistMedia",value:function(e,t,n){var r=void 0,i=[];for(b.lastIndex=0;null!=(r=b.exec(e));){var a={},o=new g.default(r[1]);o.TYPE===n&&(a.groupId=o["GROUP-ID"],a.name=o.NAME,a.type=n,a.default="YES"===o.DEFAULT,a.autoselect="YES"===o.AUTOSELECT,a.forced="YES"===o.FORCED,o.URI&&(a.url=this.resolve(o.URI,t)),a.lang=o.LANGUAGE,a.name||(a.name=a.lang),i.push(a))}return i}},{key:"avc1toavcoti",value:function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,n,r){var i,a,o=0,u=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},s=new k,f=0,c=null,d=new T;for(_.lastIndex=0;null!==(i=_.exec(e));){var h=i[1];if(h){d.duration=parseFloat(h);var p=(" "+i[2]).slice(1);d.title=p||null,d.tagList.push(p?["INF",h,p]:["INF",h])}else if(i[3]){if(!isNaN(d.duration)){var v=o++;d.type=r,d.start=u,d.levelkey=s,d.sn=v,d.level=n,d.cc=f,d.baseurl=t,d.relurl=(" "+i[3]).slice(1),l.fragments.push(d),c=d,u+=d.duration,d=new T}}else if(i[4]){if(d.rawByteRange=(" "+i[4]).slice(1),c){var m=c.byteRangeEndOffset;m&&(d.lastByteRangeEndOffset=m)}}else if(i[5])d.rawProgramDateTime=(" "+i[5]).slice(1),d.tagList.push(["PROGRAM-DATE-TIME",d.rawProgramDateTime]);else{for(i=i[0].match(E),a=1;i.length>a&&void 0===i[a];a++);var b=(" "+i[a+1]).slice(1),w=(" "+i[a+2]).slice(1);switch(i[a]){case"#":d.tagList.push(w?[b,w]:[b]);break;case"PLAYLIST-TYPE":l.type=b.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(b);break;case"TARGETDURATION":l.targetduration=parseFloat(b);break;case"VERSION":l.version=parseInt(b);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":f++,d.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(b);break;case"KEY":var S=b,R=new g.default(S),x=R.enumeratedString("METHOD"),A=R.URI,L=R.hexadecimalInteger("IV");x&&(s=new k,A&&"AES-128"===x&&(s.method=x,s.baseuri=t,s.reluri=A,s.key=null,s.iv=L));break;case"START":var O=b,C=new g.default(O),D=C.decimalFloatingPoint("TIME-OFFSET");isNaN(D)||(l.startTimeOffset=D);break;case"MAP":var P=new g.default(b);d.relurl=P.URI,d.rawByteRange=P.BYTERANGE,d.baseurl=t,d.level=n,d.type=r,d.sn="initSegment",l.initSegment=d,d=new T;break;default:y.logger.warn("line parsed but not handled: "+i)}}}return d=c,d&&!d.relurl&&(l.fragments.pop(),u-=d.duration),l.totalduration=u,l.averagetargetduration=u/l.fragments.length,l.endSN=o-1,l}},{key:"loadsuccess",value:function(e,t,n){var r=e.data,i=e.url,a=n.type,o=n.id,u=n.level,l=this.hls;if(this.loaders[a]=void 0,void 0!==i&&0!==i.indexOf("data:")||(i=n.url),t.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var s="audioTrack"!==a,f=this.parseLevelPlaylist(r,i,(s?u:o)||0,s?"main":"audio");"manifest"===a&&l.trigger(c.default.MANIFEST_LOADED,{levels:[{url:i,details:f}],audioTracks:[],url:i,stats:t}),t.tparsed=performance.now(),f.targetduration?s?l.trigger(c.default.LEVEL_LOADED,{details:f,level:u||0,id:o||0,stats:t}):l.trigger(c.default.AUDIO_TRACK_LOADED,{details:f,id:o,stats:t}):l.trigger(c.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"invalid targetduration"})}else{var d=this.parseMasterPlaylist(r,i);if(d.length){var h=this.parseMasterPlaylistMedia(r,i,"AUDIO");if(h.length){var v=!1;h.forEach(function(e){e.url||(v=!0)}),!1===v&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(y.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}l.trigger(c.default.MANIFEST_LOADED,{levels:d,audioTracks:h,url:i,stats:t})}else l.trigger(c.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no level found in manifest"})}else l.trigger(c.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var n,r,i=t.loader;switch(t.type){case"manifest":n=p.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case"level":n=p.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case"audioTrack":n=p.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(c.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var n,r,i=t.loader;switch(t.type){case"manifest":n=p.ErrorDetails.MANIFEST_LOAD_TIMEOUT,r=!0;break;case"level":n=p.ErrorDetails.LEVEL_LOAD_TIMEOUT,r=!1;break;case"audioTrack":n=p.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,r=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(c.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,context:t})}}]),t}(h.default)},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(){r(this,e)}return i(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);e.HDLR_TYPES={video:new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),audio:new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);e.STTS=e.STSC=e.STCO=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var r=new Uint8Array([105,115,111,109]),i=new Uint8Array([97,118,99,49]);e.FTYP=e.box(e.types.ftyp,r,new Uint8Array([0,0,0,1]),r,i),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,n))}},{key:"box",value:function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,a=i;i--;)r+=n[i].byteLength;for(t=new Uint8Array(r),t[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;a>i;i++)t.set(n[i],r),r+=n[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){return n*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,n){return n*=t,e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(r=0;i.length>r;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,a=[],o=[];for(n=0;t.sps.length>n;n++)r=t.sps[n],i=r.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;t.pps.length>n;n++)r=t.pps[n],i=r.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));var u=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),l=t.width,s=t.height,f=t.pixelRatio[0],c=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,s>>8&255,255&s,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,255&f,c>>24,c>>16&255,c>>8&255,255&c])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var n=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var n=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),i=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),e.trun(t,r.length+16+16+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,a,o,u,l,s=t.samples||[],f=s.length,c=12+16*f,d=new Uint8Array(c);for(n+=8+c,d.set([0,0,15,1,f>>>24&255,f>>>16&255,f>>>8&255,255&f,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;f>r;r++)i=s[r],a=i.duration,o=i.size,u=i.flags,l=i.cts,d.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,d)}},{key:"initSegment",value:function(t){e.types||e.init();var n,r=e.moov(t);return n=new Uint8Array(e.FTYP.byteLength+r.byteLength),n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n}}]),e}()},{}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(29),u=r(o),l=e(28),s=r(l),f=e(45),c=e(37),d=r(c),h=e(26);n.default=function(){function e(t,n,r,a){i(this,e),this.observer=t,this.id=n,this.config=r,this.typeSupported=a,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return a(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,a,o,u,l,f,c){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(r,i,u,n),null!==c&&(this._initPTS=this._initDTS=c),this.ISGenerated)if(r.samples.length){var d=this.remuxAudio(r,u,l,f);if(i.samples.length){var h=void 0;d&&(h=d.endPTS-d.startPTS),this.remuxVideo(i,u,l,h)}}else{var p=void 0;i.samples.length&&(p=this.remuxVideo(i,u,l)),p&&r.codec&&this.remuxEmptyAudio(r,u,l,p)}a.samples.length&&this.remuxID3(a,u),o.samples.length&&this.remuxText(o,u),this.observer.trigger(s.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,n,r){var i,a,o=this.observer,u=e.samples,l=t.samples,c=this.PES_TIMESCALE,p=this.typeSupported,v="audio/mp4",g={},y={id:this.id,level:this.level,sn:this.sn,tracks:g,unique:!1},m=void 0===this._initPTS;m&&(i=a=1/0),e.config&&u.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&function(){e.timescale=e.audiosamplerate/function e(t,n){return n?e(n,t%n):t}(e.audiosamplerate,e.isAAC?1024:1152)}(),f.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(p.mpeg?(v="audio/mpeg",e.codec=""):p.mp3&&(e.codec="mp3")),g.audio={container:v,codec:e.codec,initSegment:!e.isAAC&&p.mpeg?new Uint8Array:d.default.initSegment([e]),metadata:{channelCount:e.channelCount}},m&&(i=a=u[0].pts-c*n)),t.sps&&t.pps&&l.length&&(t.timescale=this.MP4_TIMESCALE,g.video={container:"video/mp4",codec:t.codec,initSegment:d.default.initSegment([t]),metadata:{width:t.width,height:t.height}},m&&(i=Math.min(i,l[0].pts-c*n),a=Math.min(a,l[0].dts-c*n),this.observer.trigger(s.default.INIT_PTS_FOUND,{id:this.id,initPTS:i,cc:r}))),Object.keys(g).length?(o.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,y),this.ISGenerated=!0,m&&(this._initPTS=i,this._initDTS=a)):o.trigger(s.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,n,r){var i,a,o,u,l,c,p,v=8,g=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,m=e.samples,b=[],_=m.length,E=this._PTSNormalize,k=this._initDTS;m.sort(function(e,t){var n=e.dts-t.dts;return n||e.pts-t.pts});var T=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(0>T){f.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(T/90)+" ms to overcome this issue");for(var w=0;m.length>w;w++)m[w].dts+=T}var S=void 0;S=n?this.nextAvcDts:t*g;var R=m[0];l=Math.max(E(R.dts-k,S),0),u=Math.max(E(R.pts-k,S),0);var x=Math.round((l-S)/90);n&&x&&(x>1?f.logger.log("AVC:"+x+" ms hole between fragments detected,filling it"):-1>x&&f.logger.log("AVC:"+-x+" ms overlapping between fragments detected"),l=S,m[0].dts=l+k,u=Math.max(u-x,S),m[0].pts=u+k,f.logger.log("Video/PTS/DTS adjusted: "+Math.round(u/90)+"/"+Math.round(l/90)+",delta:"+x+" ms")),R=m[m.length-1],p=Math.max(E(R.dts-k,S),0),c=Math.max(E(R.pts-k,S),0),c=Math.max(c,p);var A=navigator.vendor,L=navigator.userAgent,O=A&&A.indexOf("Apple")>-1&&L&&!L.match("CriOS");O&&(i=Math.round((p-l)/(y*(m.length-1))));for(var C=0;_>C;C++){var D=m[C];O?D.dts=l+C*y*i:(D.dts=Math.max(E(D.dts-k,S),l),D.dts=Math.round(D.dts/y)*y),D.pts=Math.max(E(D.pts-k,S),D.dts),D.pts=Math.round(D.pts/y)*y}var P=e.len+4*e.nbNalu+8;try{a=new Uint8Array(P)}catch(e){return void this.observer.trigger(s.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:P,reason:"fail allocating video mdat "+P})}var I=new DataView(a.buffer);I.setUint32(0,P),a.set(d.default.types.mdat,4);for(var M=0;_>M;M++){for(var N=m[M],F=N.units.units,U=0,B=void 0,j=0,G=F.length;G>j;j++){var z=F[j],W=z.data,V=z.data.byteLength;I.setUint32(v,V),v+=4,a.set(W,v),v+=V,U+=4+V}if(O)B=Math.max(0,i*Math.round((N.pts-N.dts)/(y*i)));else{if(_-1>M)i=m[M+1].dts-N.dts;else{var H=this.config,K=N.dts-m[M>0?M-1:M].dts;if(H.stretchShortVideoTrack){var Y=H.maxBufferHole,q=H.maxSeekHole,X=Math.floor(Math.min(Y,q)*g),$=(r?u+r*g:this.nextAudioPts)-N.pts;$>X?(i=$-K,0>i&&(i=K),f.logger.log("It is approximately "+$/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=K}else i=K}i/=y,B=Math.round((N.pts-N.dts)/y)}b.push({size:U,duration:i,cts:B,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:N.key?2:1,isNonSync:N.key?0:1}})}this.nextAvcDts=p+i*y;var Q=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Z=b[0].flags;Z.dependsOn=2,Z.isNonSync=0}e.samples=b,o=d.default.moof(e.sequenceNumber++,l/y,e),e.samples=[];var J={id:this.id,level:this.level,sn:this.sn,data1:o,data2:a,startPTS:u/g,endPTS:(c+y*i)/g,startDTS:l/g,endDTS:this.nextAvcDts/g,type:"video",nb:b.length,dropped:Q};return this.observer.trigger(s.default.FRAG_PARSING_DATA,J),J}},{key:"remuxAudio",value:function(e,t,n,r){var i,a,o,l,c,p,v,g,y,m,b,_,E,k,T,w,S=this.PES_TIMESCALE,R=e.timescale,x=S/R,A=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate,L=A*x,O=this._PTSNormalize,C=this._initDTS,D=!e.isAAC&&this.typeSupported.mpeg,P=D?0:8,I=[],M=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),M=e.samples,w=this.nextAudioPts,n|=M.length&&w&&(.1>Math.abs(t-w/S)||Math.abs(M[0].pts-w-this._initDTS)<20*L),n||(w=t*S),r&&e.isAAC)for(var N=0,F=w;M.length>N;){var U=M[N],B=O(U.pts-C,w),j=B-F;if(-L<j)if(j>=L&&F){var G=Math.round(j/L);f.logger.warn("Injecting "+G+" audio frame @ "+Math.round(F/90)/1e3+"s due to "+Math.round(j/90)+" ms gap.");for(var z=0;G>z;z++)T=F+C,T=Math.max(T,C),k=u.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),k||(f.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),k=U.unit.subarray()),M.splice(N,0,{unit:k,pts:T,dts:T}),e.len+=k.length,F+=L,N+=1;U.pts=U.dts=F+C,F+=L,N+=1}else Math.abs(j),F+=L,U.pts=U.dts=0===N?C+w:M[N-1].pts+L,N+=1;else f.logger.warn("Dropping 1 audio frame @ "+Math.round(F/90)/1e3+"s due to "+Math.round(Math.abs(j/90))+" ms overlap."),M.splice(N,1),e.len-=U.unit.length}for(var W=0,V=M.length;V>W;W++){if(a=M[W],l=a.unit,m=a.pts-C,b=a.dts-C,void 0!==y)_=O(m,y),E=O(b,y),o.duration=Math.round((E-y)/x);else{_=O(m,w),E=O(b,w);var H=Math.round(1e3*(_-w)/S),K=0;if(n&&e.isAAC&&H){if(H>0)K=Math.round((_-w)/L),f.logger.log(H+" ms hole between AAC samples detected,filling it"),K>0&&(k=u.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),k||(k=l.subarray()),e.len+=K*k.length);else if(-12>H){f.logger.log(-H+" ms overlapping between AAC samples detected, drop frame"),e.len-=l.byteLength;continue}_=E=w}if(v=Math.max(0,_),g=Math.max(0,E),0>=e.len)return;var Y=D?e.len:e.len+8;try{c=new Uint8Array(Y)}catch(e){return void this.observer.trigger(s.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Y,reason:"fail allocating audio mdat "+Y})}D||(i=new DataView(c.buffer),i.setUint32(0,Y),c.set(d.default.types.mdat,4));for(var q=0;K>q;q++)T=_-(K-q)*L,k=u.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),k||(f.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),k=l.subarray()),c.set(k,P),P+=k.byteLength,o={size:k.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},I.push(o)}c.set(l,P);var X=l.byteLength;P+=X,o={size:X,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},I.push(o),y=E}var $=0,Q=I.length;if(2>Q||($=I[Q-2].duration,o.duration=$),Q){this.nextAudioPts=_+x*$,e.len=0,e.samples=I,p=D?new Uint8Array:d.default.moof(e.sequenceNumber++,g/x,e),e.samples=[];var Z={id:this.id,level:this.level,sn:this.sn,data1:p,data2:c,startPTS:v/S,endPTS:this.nextAudioPts/S,startDTS:g/S,endDTS:(E+x*$)/S,type:"audio",nb:Q};return this.observer.trigger(s.default.FRAG_PARSING_DATA,Z),Z}return null}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var i=this.PES_TIMESCALE,a=e.timescale?e.timescale:e.audiosamplerate,o=i/a,l=this.nextAudioPts,s=(void 0!==l?l:r.startDTS*i)+this._initDTS,c=r.endDTS*i+this._initDTS,d=1024*o,h=Math.ceil((c-s)/d),p=u.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(f.logger.warn("remux empty Audio"),!p)return void f.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var v=[],g=0;h>g;g++){var y=s+g*d;v.push({unit:p,pts:y,dts:y}),e.len+=p.length}e.samples=v,this.remuxAudio(e,t,n)}},{key:"remuxID3",value:function(e,t){var n,r=e.samples.length;if(r){for(var i=0;r>i;i++)n=e.samples[i],n.pts=(n.pts-this._initPTS)/this.PES_TIMESCALE,n.dts=(n.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(s.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var n,r=e.samples.length;if(r){for(var i=0;r>i;i++)n=e.samples[i],n.pts=(n.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(s.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var n;if(void 0===t)return e;for(n=e>t?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}},{key:"passthrough",get:function(){return!1}}]),e}()},{26:26,28:28,29:29,37:37,45:45}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(28),o=function(e){return e&&e.__esModule?e:{default:e}}(a);n.default=function(){function e(t,n){r(this,e),this.observer=t,this.id=n,this.ISGenerated=!1}return i(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,a){var u=this.observer;if(!this.ISGenerated){var l={},s={id:this.id,tracks:l,unique:!0},f=t,c=f.codec;c&&(s.tracks.video={container:f.container,codec:c,metadata:{width:f.width,height:f.height}}),f=e,c=f.codec,c&&(s.tracks.audio={container:f.container,codec:c,metadata:{channelCount:f.channelCount}}),this.ISGenerated=!0,u.trigger(o.default.FRAG_PARSING_INIT_SEGMENT,s)}u.trigger(o.default.FRAG_PARSING_DATA,{id:this.id,data1:a,startPTS:i,startDTS:i,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),e}()},{28:28}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;n.default=function(){function e(t){r(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return i(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;t.length/2>r;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=a.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(o.lastIndex=0;null!==(t=o.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n}}]),e}()},{}],41:[function(e,t,n){"use strict";t.exports={search:function(e,t){for(var n=0,r=e.length-1,i=null,a=null;r>=n;){i=(n+r)/2|0,a=e[i];var o=t(a);if(o>0)n=i+1;else{if(o>=0)return a;r=i-1}}return null}}},{}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(e){var t=e;return a.hasOwnProperty(e)&&(t=a[e]),String.fromCharCode(t)},u=15,l=32,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},f={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e]>this.verboseLevel||console.log(this.time+" ["+e+"] "+t)}},v=function(e){for(var t=[],n=0;e.length>n;n++)t.push(e[n].toString(16));return t},g=function(){function e(t,n,i,a,o){r(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=i||!1,this.background=a||"black",this.flash=o||!1}return i(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;5>n;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),y=function(){function e(t,n,i,a,o,u){r(this,e),this.uchar=t||" ",this.penState=new g(n,i,a,o,u)}return i(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),m=function(){function e(){r(this,e),this.chars=[];for(var t=0;l>t;t++)this.chars.push(new y);this.pos=0,this.currPenState=new g}return i(e,[{key:"equals",value:function(e){for(var t=!0,n=0;l>n;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;l>t;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;l>t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),0>this.pos?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=l)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;t+1>n;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){144>e||this.backSpace();var t=o(e);if(this.pos>=l)return void p.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}},{key:"clearFromPos",value:function(e){var t;for(t=e;l>t;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;l>n;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),b=function(){function e(){r(this,e),this.rows=[];for(var t=0;u>t;t++)this.rows.push(new m);this.currRow=u-1,this.nrRollUpRows=null,this.reset()}return i(e,[{key:"reset",value:function(){for(var e=0;u>e;e++)this.rows[e].clear();this.currRow=u-1}},{key:"equals",value:function(e){for(var t=!0,n=0;u>n;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;u>t;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;u>t;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){p.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e,t){p.log("INFO","pacData = "+JSON.stringify(e));var n=e.row-1;if(this.nrRollUpRows&&this.nrRollUpRows-1>n&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var r=0;u>r;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=t.rows[i].cueStartTime;if(a&&p.time>a)for(r=0;this.nrRollUpRows>r;r++)this.rows[n-this.nrRollUpRows+r+1].copy(t.rows[i+r])}this.currRow=n;var o=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,s=Math.max(l-1,0);o.setCursor(e.indent),e.color=o.chars[s].penState.foreground}this.setPen({foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1})}},{key:"setBkgData",value:function(e){p.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void p.log("DEBUG","roll_up but nrRollUpRows not set yet");p.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;u>i;i++){var a=this.rows[i].getTextString();a&&(r=i+1,t.push(e?"Row "+r+": '"+a+"'":a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),_=function(){function e(t,n){r(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return i(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[u-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e,this.lastOutputScreen)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,p.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;e.length>t;t++)this.writeScreen.insertChar(e[t]);p.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){p.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){p.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46)t.foreground="white";else{t.foreground=["white","green","blue","cyan","red","yellow","magenta"][Math.floor(e/2)-16]}p.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=p.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}();n.default=function(){function e(t,n,i){r(this,e),this.field=t||1,this.outputs=[n,i],this.channels=[new _(1,n),new _(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return i(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,a=!1;this.lastTime=e,p.setTime(e);for(var o=0;t.length>o;o+=2)if(r=127&t[o],i=127&t[o+1],0!==r||0!==i){if(p.log("DATA","["+v([t[o],t[o+1]])+"] -> ("+v([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(a=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var u=this.channels[this.currChNr-1];u.insertChars(a)}else p.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+v([r,i])+" orig: "+v([t[o],t[o+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var n=null,r=!(20!==e&&28!==e||32>t||t>47),i=!(23!==e&&31!==e||33>t||t>35);if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+v([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var a=this.channels[n-1];return 20===e||28===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"parseMidrow",value:function(e,t){var n=null;if(!(17!==e&&25!==e||32>t||t>47)){if((n=17===e?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].ccMIDROW(t),p.log("DEBUG","MIDROW ("+v([e,t])+")"),!0}return!1}},{key:"parsePAC",value:function(e,t){var n=null,r=null,i=!((17>e||e>23)&&(25>e||e>31)||64>t||t>127),a=!(16!==e&&24!==e||64>t||t>95);return!(!i&&!a)&&(e===this.lastCmdA&&t===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,!0):(n=e>23?2:1,r=64>t||t>95?1===n?f[e]:d[e]:1===n?s[e]:c[e],this.channels[n-1].setPAC(this.interpretPAC(r,t)),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0))}},{key:"interpretPAC",value:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n>13?n>15?r.indent=4*Math.floor((n-16)/2):(r.italics=!0,r.color="white"):r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)],r}},{key:"parseChars",value:function(e,t){var n=null,r=null,i=null;if(25>e?(n=1,i=e):(n=2,i=e-8),17>i||i>19)32>e||e>127||(r=0===t?[e]:[e,t]);else{var a=t;a=17===i?t+80:18===i?t+112:t+144,p.log("INFO","Special char '"+o(a)+"' in channel "+n),r=[a]}if(r){var u=v(r);p.log("DEBUG","Char codes =  "+u.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r}},{key:"parseBackgroundAttributes",value:function(e,t){var n,r,i,a,o=!(16!==e&&24!==e||32>t||t>47),u=!(23!==e&&31!==e||45>t||t>47);return!(!o&&!u)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=h[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=24>e?1:2,a=this.channels[i-1],a.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;this.channels.length>e;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;this.channels.length>t;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}()},{}],43:[function(e,t,n){"use strict";t.exports={newCue:function(e,t,n,r){for(var i,a,o,u,l,s=window.VTTCue||window.TextTrackCue,f=0;r.rows.length>f;f++)if(i=r.rows[f],o=!0,u=0,l="",!i.isEmpty()){for(var c=0;i.chars.length>c;c++)i.chars[c].uchar.match(/\s/)&&o?u++:(l+=i.chars[c].uchar,o=!1);i.cueStartTime=t,a=new s(t,n,l.trim()),16>u?u++:u--,a.line=navigator.userAgent.match(/Firefox\//)?f+1:f>7?f-2:f+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}}},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(t){r(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return i(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){return this.estimate_/(1-Math.pow(this.alpha_,this.totalWeight_))}return this.estimate_}}]),e}()},{}],45:[function(e,t,n){"use strict";function r(){}function i(e,t){return t="["+e+"] > "+t}function a(e){var t=self.console[e];return t?function(){for(var n=arguments.length,r=Array(n),a=0;n>a;a++)r[a]=arguments[a];r[0]&&(r[0]=i(e,r[0])),t.apply(self.console,r)}:r}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];n.forEach(function(t){s[t]=e[t]?e[t].bind(e):a(t)})}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:r,debug:r,log:r,warn:r,info:r,error:r},s=l;n.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":u(e))){o(e,"debug","log","info","warn","error");try{s.log()}catch(e){s=l}}else s=l},n.logger=s},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.default=function(){function e(){r(this,e)}return i(e,null,[{key:"toString",value:function(e){for(var t="",n=e.length,r=0;n>r;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}]),e}()},{}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(45);n.default=function(){function e(t){r(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e=this.loader="undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var n=this.stats;n.tfirst=0,n.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,i=this.context,o=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var u=t.status;if(u>=200&&300>u){r.tload=Math.max(r.tfirst,performance.now());var l=void 0,s=void 0;"arraybuffer"===i.responseType?(l=t.response,s=l.byteLength):(l=t.responseText,s=l.length),r.loaded=r.total=s;var f={url:t.responseURL,data:l};this.callbacks.onSuccess(f,r,i)}else r.retry>=o.maxRetry||u>=400&&499>u?(a.logger.error(u+" while loading "+i.url),this.callbacks.onError({code:u,text:t.statusText},i)):(a.logger.warn(u+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)}},{key:"loadtimeout",value:function(){a.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var n=this.callbacks.onProgress;n&&n(t,this.context,null)}}]),e}()},{45:45}]},{},[33])(33)})},function(e,t,n){e.exports=n(4)()},function(e,t,n){"use strict";function r(){}function i(){}var a=n(5);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var u=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e,r){var i;(function(){function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function u(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function l(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function s(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function f(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function c(e,t){return!!(null==e?0:e.length)&&k(e,t,0)>-1}function d(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function h(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function p(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function v(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function g(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function y(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e){return e.split("")}function b(e){return e.match(Ft)||[]}function _(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function E(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function k(e,t,n){return t===t?X(e,t,n):E(e,w,n)}function T(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function w(e){return e!==e}function S(e,t){var n=null==e?0:e.length;return n?O(e,t)/n:Pe}function R(e){return function(t){return null==t?ne:t[e]}}function x(e){return function(t){return null==e?ne:e[t]}}function A(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function L(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function O(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==ne&&(n=n===ne?a:n+a)}return n}function C(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function D(e,t){return h(t,function(t){return[t,e[t]]})}function P(e){return function(t){return e(t)}}function I(e,t){return h(t,function(t){return e[t]})}function M(e,t){return e.has(t)}function N(e,t){for(var n=-1,r=e.length;++n<r&&k(t,e[n],0)>-1;);return n}function F(e,t){for(var n=e.length;n--&&k(t,e[n],0)>-1;);return n}function U(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function B(e){return"\\"+pn[e]}function j(e,t){return null==e?ne:e[t]}function G(e){return an.test(e)}function z(e){return on.test(e)}function W(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function H(e,t){return function(n){return e(t(n))}}function K(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==le||(e[n]=le,a[i++]=n)}return a}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function X(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function $(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function Q(e){return G(e)?J(e):Cn(e)}function Z(e){return G(e)?ee(e):m(e)}function J(e){for(var t=nn.lastIndex=0;nn.test(e);)++t;return t}function ee(e){return e.match(nn)||[]}function te(e){return e.match(rn)||[]}var ne,re=200,ie="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ae="Expected a function",oe="__lodash_hash_undefined__",ue=500,le="__lodash_placeholder__",se=1,fe=2,ce=4,de=1,he=2,pe=1,ve=2,ge=4,ye=8,me=16,be=32,_e=64,Ee=128,ke=256,Te=512,we=30,Se="...",Re=800,xe=16,Ae=1,Le=2,Oe=1/0,Ce=9007199254740991,De=1.7976931348623157e308,Pe=NaN,Ie=4294967295,Me=Ie-1,Ne=Ie>>>1,Fe=[["ary",Ee],["bind",pe],["bindKey",ve],["curry",ye],["curryRight",me],["flip",Te],["partial",be],["partialRight",_e],["rearg",ke]],Ue="[object Arguments]",Be="[object Array]",je="[object AsyncFunction]",Ge="[object Boolean]",ze="[object Date]",We="[object DOMException]",Ve="[object Error]",He="[object Function]",Ke="[object GeneratorFunction]",Ye="[object Map]",qe="[object Number]",Xe="[object Null]",$e="[object Object]",Qe="[object Proxy]",Ze="[object RegExp]",Je="[object Set]",et="[object String]",tt="[object Symbol]",nt="[object Undefined]",rt="[object WeakMap]",it="[object WeakSet]",at="[object ArrayBuffer]",ot="[object DataView]",ut="[object Float32Array]",lt="[object Float64Array]",st="[object Int8Array]",ft="[object Int16Array]",ct="[object Int32Array]",dt="[object Uint8Array]",ht="[object Uint8ClampedArray]",pt="[object Uint16Array]",vt="[object Uint32Array]",gt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,Et=RegExp(bt.source),kt=RegExp(_t.source),Tt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,St=/<%=([\s\S]+?)%>/g,Rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(Lt.source),Ct=/^\s+|\s+$/g,Dt=/^\s+/,Pt=/\s+$/,It=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mt=/\{\n\/\* \[wrapped with (.+)\] \*/,Nt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Bt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jt=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Wt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Ht=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,Xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="["+Xt+"]",Qt="\\ud83c[\\udffb-\\udfff]",Zt="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Jt="[\\ufe0e\\ufe0f]?"+Zt+"(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",en=RegExp("['’]","g"),tn=RegExp($t,"g"),nn=RegExp(Qt+"(?="+Qt+")|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+Jt,"g"),rn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+|(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*","g"),an=RegExp("[\\u200d\\ud800-\\udfff"+Xt+"\\ufe0e\\ufe0f]"),on=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,un=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ln=-1,sn={};sn[ut]=sn[lt]=sn[st]=sn[ft]=sn[ct]=sn[dt]=sn[ht]=sn[pt]=sn[vt]=!0,sn[Ue]=sn[Be]=sn[at]=sn[Ge]=sn[ot]=sn[ze]=sn[Ve]=sn[He]=sn[Ye]=sn[qe]=sn[$e]=sn[Ze]=sn[Je]=sn[et]=sn[rt]=!1;var fn={};fn[Ue]=fn[Be]=fn[at]=fn[ot]=fn[Ge]=fn[ze]=fn[ut]=fn[lt]=fn[st]=fn[ft]=fn[ct]=fn[Ye]=fn[qe]=fn[$e]=fn[Ze]=fn[Je]=fn[et]=fn[tt]=fn[dt]=fn[ht]=fn[pt]=fn[vt]=!0,fn[Ve]=fn[He]=fn[rt]=!1;var cn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vn=parseFloat,gn=parseInt,yn="object"==typeof e&&e&&e.Object===Object&&e,mn="object"==typeof self&&self&&self.Object===Object&&self,bn=yn||mn||Function("return this")(),_n="object"==typeof t&&t&&!t.nodeType&&t,En=_n&&"object"==typeof r&&r&&!r.nodeType&&r,kn=En&&En.exports===_n,Tn=kn&&yn.process,wn=function(){try{var e=En&&En.require&&En.require("util").types;return e||Tn&&Tn.binding&&Tn.binding("util")}catch(e){}}(),Sn=wn&&wn.isArrayBuffer,Rn=wn&&wn.isDate,xn=wn&&wn.isMap,An=wn&&wn.isRegExp,Ln=wn&&wn.isSet,On=wn&&wn.isTypedArray,Cn=R("length"),Dn=x(cn),Pn=x(dn),In=x(hn),Mn=function e(t){function n(e){if(tl(e)&&!hd(e)&&!(e instanceof m)){if(e instanceof i)return e;if(hf.call(e,"__wrapped__"))return Qa(e)}return new i(e)}function r(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ne}function m(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ie,this.__views__=[]}function x(){var e=new m(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e}function X(){if(this.__filtered__){var e=new m(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function J(){var e=this.__wrapped__.value(),t=this.__dir__,n=hd(e),r=0>t,i=n?e.length:0,a=Ea(0,i,this.__views__),o=a.start,u=a.end,l=u-o,s=r?u:o-1,f=this.__iteratees__,c=f.length,d=0,h=Wf(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return vi(e,this.__actions__);var p=[];e:for(;l--&&h>d;){s+=t;for(var v=-1,g=e[s];++v<c;){var y=f[v],m=y.iteratee,b=y.type,_=m(g);if(b==Le)g=_;else if(!_){if(b==Ae)continue e;break e}}p[d++]=g}return p}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ft(){this.__data__=Jf?Jf(null):{},this.size=0}function Xt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function $t(e){var t=this.__data__;if(Jf){var n=t[e];return n===oe?ne:n}return hf.call(t,e)?t[e]:ne}function Qt(e){var t=this.__data__;return Jf?t[e]!==ne:hf.call(t,e)}function Zt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jf&&t===ne?oe:t,this}function Jt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nn(){this.__data__=[],this.size=0}function rn(e){var t=this.__data__,n=Yn(t,e);return n>=0&&(n==t.length-1?t.pop():xf.call(t,n,1),--this.size,!0)}function an(e){var t=this.__data__,n=Yn(t,e);return 0>n?ne:t[n][1]}function on(e){return Yn(this.__data__,e)>-1}function cn(e,t){var n=this.__data__,r=Yn(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this}function dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hn(){this.size=0,this.__data__={hash:new ee,map:new(Xf||Jt),string:new ee}}function pn(e){var t=ya(this,e).delete(e);return this.size-=t?1:0,t}function yn(e){return ya(this,e).get(e)}function mn(e){return ya(this,e).has(e)}function _n(e,t){var n=ya(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function En(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new dn;++t<n;)this.add(e[t])}function Tn(e){return this.__data__.set(e,oe),this}function wn(e){return this.__data__.has(e)}function Cn(e){this.size=(this.__data__=new Jt(e)).size}function Nn(){this.__data__=new Jt,this.size=0}function Fn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Un(e){return this.__data__.get(e)}function Bn(e){return this.__data__.has(e)}function jn(e,t){var n=this.__data__;if(n instanceof Jt){var r=n.__data__;if(!Xf||re-1>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dn(r)}return n.set(e,t),this.size=n.size,this}function Gn(e,t){var n=hd(e),r=!n&&dd(e),i=!n&&!r&&vd(e),a=!n&&!r&&!i&&_d(e),o=n||r||i||a,u=o?C(e.length,of):[],l=u.length;for(var s in e)!t&&!hf.call(e,s)||o&&("length"==s||i&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||La(s,l))||u.push(s);return u}function zn(e){var t=e.length;return t?e[$r(0,t-1)]:ne}function Wn(e,t){return Ya(Di(e),Jn(t,0,e.length))}function Vn(e){return Ya(Di(e))}function Hn(e,t,n){(n===ne||Gu(e[t],n))&&(n!==ne||t in e)||Qn(e,t,n)}function Kn(e,t,n){var r=e[t];hf.call(e,t)&&Gu(r,n)&&(n!==ne||t in e)||Qn(e,t,n)}function Yn(e,t){for(var n=e.length;n--;)if(Gu(e[n][0],t))return n;return-1}function qn(e,t,n,r){return cc(e,function(e,i,a){t(r,e,n(e),a)}),r}function Xn(e,t){return e&&Pi(t,Nl(t),e)}function $n(e,t){return e&&Pi(t,Fl(t),e)}function Qn(e,t,n){"__proto__"==t&&Cf?Cf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Zn(e,t){for(var n=-1,r=t.length,i=Zs(r),a=null==e;++n<r;)i[n]=a?ne:Pl(e,t[n]);return i}function Jn(e,t,n){return e===e&&(n!==ne&&(e=e>n?n:e),t!==ne&&(e=t>e?t:e)),e}function er(e,t,n,r,i,a){var o,l=t&se,s=t&fe,f=t&ce;if(n&&(o=i?n(e,r,i,a):n(e)),o!==ne)return o;if(!el(e))return e;var c=hd(e);if(c){if(o=wa(e),!l)return Di(e,o)}else{var d=Tc(e),h=d==He||d==Ke;if(vd(e))return ki(e,l);if(d==$e||d==Ue||h&&!i){if(o=s||h?{}:Sa(e),!l)return s?Mi(e,$n(o,e)):Ii(e,Xn(o,e))}else{if(!fn[d])return i?e:{};o=Ra(e,d,l)}}a||(a=new Cn);var p=a.get(e);if(p)return p;if(a.set(e,o),bd(e))return e.forEach(function(r){o.add(er(r,t,n,r,e,a))}),o;if(yd(e))return e.forEach(function(r,i){o.set(i,er(r,t,n,i,e,a))}),o;var v=f?s?ha:da:s?Fl:Nl,g=c?ne:v(e);return u(g||e,function(r,i){g&&(i=r,r=e[i]),Kn(o,i,er(r,t,n,i,e,a))}),o}function tr(e){var t=Nl(e);return function(n){return nr(n,e,t)}}function nr(e,t,n){var r=n.length;if(null==e)return!r;for(e=rf(e);r--;){var i=n[r],a=t[i],o=e[i];if(o===ne&&!(i in e)||!a(o))return!1}return!0}function rr(e,t,n){if("function"!=typeof e)throw new uf(ae);return Rc(function(){e.apply(ne,n)},t)}function ir(e,t,n,r){var i=-1,a=c,o=!0,u=e.length,l=[],s=t.length;if(!u)return l;n&&(t=h(t,P(n))),r?(a=d,o=!1):re>t.length||(a=M,o=!1,t=new En(t));e:for(;++i<u;){var f=e[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,o&&p===p){for(var v=s;v--;)if(t[v]===p)continue e;l.push(f)}else a(t,p,r)||l.push(f)}return l}function ar(e,t){var n=!0;return cc(e,function(e,r,i){return n=!!t(e,r,i)}),n}function or(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(u===ne?o===o&&!dl(o):n(o,u)))var u=o,l=a}return l}function ur(e,t,n,r){var i=e.length;for(n=ml(n),0>n&&(n=-n>i?0:i+n),r=r===ne||r>i?i:ml(r),0>r&&(r+=i),r=n>r?0:bl(r);r>n;)e[n++]=t;return e}function lr(e,t){var n=[];return cc(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function sr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Aa),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?sr(u,t-1,n,r,i):p(i,u):r||(i[i.length]=u)}return i}function fr(e,t){return e&&hc(e,t,Nl)}function cr(e,t){return e&&pc(e,t,Nl)}function dr(e,t){return f(t,function(t){return Qu(e[t])})}function hr(e,t){t=_i(t,e);for(var n=0,r=t.length;null!=e&&r>n;)e=e[qa(t[n++])];return n&&n==r?e:ne}function pr(e,t,n){var r=t(e);return hd(e)?r:p(r,n(e))}function vr(e){return null==e?e===ne?nt:Xe:Of&&Of in rf(e)?_a(e):ja(e)}function gr(e,t){return e>t}function yr(e,t){return null!=e&&hf.call(e,t)}function mr(e,t){return null!=e&&t in rf(e)}function br(e,t,n){return e>=Wf(t,n)&&e<zf(t,n)}function _r(e,t,n){for(var r=n?d:c,i=e[0].length,a=e.length,o=a,u=Zs(a),l=1/0,s=[];o--;){var f=e[o];o&&t&&(f=h(f,P(t))),l=Wf(f.length,l),u[o]=n||!t&&(120>i||120>f.length)?ne:new En(o&&f)}f=e[0];var p=-1,v=u[0];e:for(;++p<i&&l>s.length;){var g=f[p],y=t?t(g):g;if(g=n||0!==g?g:0,!(v?M(v,y):r(s,y,n))){for(o=a;--o;){var m=u[o];if(!(m?M(m,y):r(e[o],y,n)))continue e}v&&v.push(y),s.push(g)}}return s}function Er(e,t,n,r){return fr(e,function(e,i,a){t(r,n(e),i,a)}),r}function kr(e,t,n){t=_i(t,e),e=za(e,t);var r=null==e?e:e[qa(yo(t))];return null==r?ne:a(r,e,n)}function Tr(e){return tl(e)&&vr(e)==Ue}function wr(e){return tl(e)&&vr(e)==at}function Sr(e){return tl(e)&&vr(e)==ze}function Rr(e,t,n,r,i){return e===t||(null==e||null==t||!tl(e)&&!tl(t)?e!==e&&t!==t:xr(e,t,n,r,Rr,i))}function xr(e,t,n,r,i,a){var o=hd(e),u=hd(t),l=o?Be:Tc(e),s=u?Be:Tc(t);l=l==Ue?$e:l,s=s==Ue?$e:s;var f=l==$e,c=s==$e,d=l==s;if(d&&vd(e)){if(!vd(t))return!1;o=!0,f=!1}if(d&&!f)return a||(a=new Cn),o||_d(e)?la(e,t,n,r,i,a):sa(e,t,l,n,r,i,a);if(!(n&de)){var h=f&&hf.call(e,"__wrapped__"),p=c&&hf.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return a||(a=new Cn),i(v,g,n,r,a)}}return!!d&&(a||(a=new Cn),fa(e,t,n,r,i,a))}function Ar(e){return tl(e)&&Tc(e)==Ye}function Lr(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=rf(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){u=n[i];var l=u[0],s=e[l],f=u[1];if(o&&u[2]){if(s===ne&&!(l in e))return!1}else{var c=new Cn;if(r)var d=r(s,f,l,e,t,c);if(!(d===ne?Rr(f,s,de|he,r,c):d))return!1}}return!0}function Or(e){return!(!el(e)||Ia(e))&&(Qu(e)?bf:Wt).test(Xa(e))}function Cr(e){return tl(e)&&vr(e)==Ze}function Dr(e){return tl(e)&&Tc(e)==Je}function Pr(e){return tl(e)&&Ju(e.length)&&!!sn[vr(e)]}function Ir(e){return"function"==typeof e?e:null==e?Rs:"object"==typeof e?hd(e)?jr(e[0],e[1]):Br(e):Is(e)}function Mr(e){if(!Ma(e))return Gf(e);var t=[];for(var n in rf(e))hf.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!el(e))return Ba(e);var t=Ma(e),n=[];for(var r in e)("constructor"!=r||!t&&hf.call(e,r))&&n.push(r);return n}function Fr(e,t){return t>e}function Ur(e,t){var n=-1,r=zu(e)?Zs(e.length):[];return cc(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Br(e){var t=ma(e);return 1==t.length&&t[0][2]?Fa(t[0][0],t[0][1]):function(n){return n===e||Lr(n,e,t)}}function jr(e,t){return Ca(e)&&Na(t)?Fa(qa(e),t):function(n){var r=Pl(n,e);return r===ne&&r===t?Ml(n,e):Rr(t,r,de|he)}}function Gr(e,t,n,r,i){e!==t&&hc(t,function(a,o){if(el(a))i||(i=new Cn),zr(e,t,o,n,Gr,r,i);else{var u=r?r(Va(e,o),a,o+"",e,t,i):ne;u===ne&&(u=a),Hn(e,o,u)}},Fl)}function zr(e,t,n,r,i,a,o){var u=Va(e,n),l=Va(t,n),s=o.get(l);if(s)return void Hn(e,n,s);var f=a?a(u,l,n+"",e,t,o):ne,c=f===ne;if(c){var d=hd(l),h=!d&&vd(l),p=!d&&!h&&_d(l);f=l,d||h||p?hd(u)?f=u:Wu(u)?f=Di(u):h?(c=!1,f=ki(l,!0)):p?(c=!1,f=xi(l,!0)):f=[]:sl(l)||dd(l)?(f=u,dd(u)?f=El(u):el(u)&&!Qu(u)||(f=Sa(l))):c=!1}c&&(o.set(l,f),i(f,l,r,a,o),o.delete(l)),Hn(e,n,f)}function Wr(e,t){var n=e.length;if(n)return t+=0>t?n:0,La(t,n)?e[t]:ne}function Vr(e,t,n){var r=-1;return t=h(t.length?t:[Rs],P(ga())),L(Ur(e,function(e,n,i){return{criteria:h(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Li(e,t,n)})}function Hr(e,t){return Kr(e,t,function(t,n){return Ml(e,n)})}function Kr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=hr(e,o);n(u,o)&&ni(a,_i(o,e),u)}return a}function Yr(e){return function(t){return hr(t,e)}}function qr(e,t,n,r){var i=r?T:k,a=-1,o=t.length,u=e;for(e===t&&(t=Di(t)),n&&(u=h(e,P(n)));++a<o;)for(var l=0,s=t[a],f=n?n(s):s;(l=i(u,f,l,r))>-1;)u!==e&&xf.call(u,l,1),xf.call(e,l,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;La(i)?xf.call(e,i,1):di(e,i)}}return e}function $r(e,t){return e+Nf(Kf()*(t-e+1))}function Qr(e,t,n,r){for(var i=-1,a=zf(Mf((t-e)/(n||1)),0),o=Zs(a);a--;)o[r?a:++i]=e,e+=n;return o}function Zr(e,t){var n="";if(!e||1>t||t>Ce)return n;do{t%2&&(n+=e),(t=Nf(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return xc(Ga(e,t,Rs),e+"")}function ei(e){return zn(Xl(e))}function ti(e,t){var n=Xl(e);return Ya(n,Jn(t,0,n.length))}function ni(e,t,n,r){if(!el(e))return e;t=_i(t,e);for(var i=-1,a=t.length,o=a-1,u=e;null!=u&&++i<a;){var l=qa(t[i]),s=n;if(i!=o){var f=u[l];s=r?r(f,l,u):ne,s===ne&&(s=el(f)?f:La(t[i+1])?[]:{})}Kn(u,l,s),u=u[l]}return e}function ri(e){return Ya(Xl(e))}function ii(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Zs(i);++r<i;)a[r]=e[r+t];return a}function ai(e,t){var n;return cc(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&Ne>=i){for(;i>r;){var a=r+i>>>1,o=e[a];null===o||dl(o)||(n?o>t:o>=t)?i=a:r=a+1}return i}return ui(e,t,Rs,n)}function ui(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,o=t!==t,u=null===t,l=dl(t),s=t===ne;a>i;){var f=Nf((i+a)/2),c=n(e[f]),d=c!==ne,h=null===c,p=c===c,v=dl(c);if(o)var g=r||p;else g=s?p&&(r||d):u?p&&d&&(r||!h):l?p&&d&&!h&&(r||!v):!h&&!v&&(r?t>=c:t>c);g?i=f+1:a=f}return Wf(a,Me)}function li(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Gu(u,l)){var l=u;a[i++]=0===o?0:o}}return a}function si(e){return"number"==typeof e?e:dl(e)?Pe:+e}function fi(e){if("string"==typeof e)return e;if(hd(e))return h(e,fi)+"";if(dl(e))return sc?sc.call(e):"";var t=e+"";return"0"==t&&1/e==-Oe?"-0":t}function ci(e,t,n){var r=-1,i=c,a=e.length,o=!0,u=[],l=u;if(n)o=!1,i=d;else if(a<re)l=t?[]:u;else{var s=t?null:bc(e);if(s)return Y(s);o=!1,i=M,l=new En}e:for(;++r<a;){var f=e[r],h=t?t(f):f;if(f=n||0!==f?f:0,o&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue e;t&&l.push(h),u.push(f)}else i(l,h,n)||(l!==u&&l.push(h),u.push(f))}return u}function di(e,t){return t=_i(t,e),null==(e=za(e,t))||delete e[qa(yo(t))]}function hi(e,t,n,r){return ni(e,t,n(hr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof m&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,p([e],t.args))},n)}function gi(e,t,n){var r=e.length;if(2>r)return r?ci(e[0]):[];for(var i=-1,a=Zs(r);++i<r;)for(var o=e[i],u=-1;++u<r;)u!=i&&(a[i]=ir(a[i]||o,e[u],t,n));return ci(sr(a,1),t,n)}function yi(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){n(o,e[r],a>r?t[r]:ne)}return o}function mi(e){return Wu(e)?e:[]}function bi(e){return"function"==typeof e?e:Rs}function _i(e,t){return hd(e)?e:Ca(e,t)?[e]:Ac(Tl(e))}function Ei(e,t,n){var r=e.length;return n=n===ne?r:n,t||r>n?ii(e,t,n):e}function ki(e,t){if(t)return e.slice();var n=e.length,r=Tf?Tf(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new kf(t).set(new kf(e)),t}function wi(e,t){return new e.constructor(t?Ti(e.buffer):e.buffer,e.byteOffset,e.byteLength)}function Si(e){var t=new e.constructor(e.source,jt.exec(e));return t.lastIndex=e.lastIndex,t}function Ri(e){return lc?rf(lc.call(e)):{}}function xi(e,t){return new e.constructor(t?Ti(e.buffer):e.buffer,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var n=e!==ne,r=null===e,i=e===e,a=dl(e),o=t!==ne,u=null===t,l=t===t,s=dl(t);if(!u&&!s&&!a&&e>t||a&&o&&l&&!u&&!s||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!s&&t>e||s&&n&&i&&!r&&!a||u&&n&&i||!o&&i||!l)return-1}return 0}function Li(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;++r<o;){var l=Ai(i[r],a[r]);if(l){if(r>=u)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}function Oi(e,t,n,r){for(var i=-1,a=e.length,o=n.length,u=-1,l=t.length,s=zf(a-o,0),f=Zs(l+s),c=!r;++u<l;)f[u]=t[u];for(;++i<o;)(c||a>i)&&(f[n[i]]=e[i]);for(;s--;)f[u++]=e[i++];return f}function Ci(e,t,n,r){for(var i=-1,a=e.length,o=-1,u=n.length,l=-1,s=t.length,f=zf(a-u,0),c=Zs(f+s),d=!r;++i<f;)c[i]=e[i];for(var h=i;++l<s;)c[h+l]=t[l];for(;++o<u;)(d||a>i)&&(c[h+n[o]]=e[i++]);return c}function Di(e,t){var n=-1,r=e.length;for(t||(t=Zs(r));++n<r;)t[n]=e[n];return t}function Pi(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var u=t[a],l=r?r(n[u],e[u],u,n,e):ne;l===ne&&(l=e[u]),i?Qn(n,u,l):Kn(n,u,l)}return n}function Ii(e,t){return Pi(e,Ec(e),t)}function Mi(e,t){return Pi(e,kc(e),t)}function Ni(e,t){return function(n,r){var i=hd(n)?o:qn,a=t?t():{};return i(n,e,ga(r,2),a)}}function Fi(e){return Jr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:ne,o=i>2?n[2]:ne;for(a=e.length>3&&"function"==typeof a?(i--,a):ne,o&&Oa(n[0],n[1],o)&&(a=3>i?ne:a,i=1),t=rf(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function Ui(e,t){return function(n,r){if(null==n)return n;if(!zu(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=rf(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Bi(e){return function(t,n,r){for(var i=-1,a=rf(t),o=r(t),u=o.length;u--;){var l=o[e?u:++i];if(!1===n(a[l],l,a))break}return t}}function ji(e,t,n){function r(){return(this&&this!==bn&&this instanceof r?a:e).apply(i?n:this,arguments)}var i=t&pe,a=Wi(e);return r}function Gi(e){return function(t){t=Tl(t);var n=G(t)?Z(t):ne,r=n?n[0]:t.charAt(0),i=n?Ei(n,1).join(""):t.slice(1);return r[e]()+i}}function zi(e){return function(t){return v(Es(ts(t).replace(en,"")),e,"")}}function Wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=fc(e.prototype),r=e.apply(n,t);return el(r)?r:n}}function Vi(e,t,n){function r(){for(var o=arguments.length,u=Zs(o),l=o,s=va(r);l--;)u[l]=arguments[l];var f=3>o&&u[0]!==s&&u[o-1]!==s?[]:K(u,s);return o-=f.length,n>o?ta(e,t,Yi,r.placeholder,ne,u,f,ne,ne,n-o):a(this&&this!==bn&&this instanceof r?i:e,this,u)}var i=Wi(e);return r}function Hi(e){return function(t,n,r){var i=rf(t);if(!zu(t)){var a=ga(n,3);t=Nl(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:ne}}function Ki(e){return ca(function(t){var n=t.length,r=n,a=i.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new uf(ae);if(a&&!u&&"wrapper"==pa(o))var u=new i([],!0)}for(r=u?r:n;++r<n;){o=t[r];var l=pa(o),s="wrapper"==l?_c(o):ne;u=s&&Pa(s[0])&&s[1]==(Ee|ye|be|ke)&&!s[4].length&&1==s[9]?u[pa(s[0])].apply(u,s[3]):1==o.length&&Pa(o)?u[l]():u.thru(o)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&hd(r))return u.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function Yi(e,t,n,r,i,a,o,u,l,s){function f(){for(var y=arguments.length,m=Zs(y),b=y;b--;)m[b]=arguments[b];if(p)var _=va(f),E=U(m,_);if(r&&(m=Oi(m,r,i,p)),a&&(m=Ci(m,a,o,p)),y-=E,p&&s>y){var k=K(m,_);return ta(e,t,Yi,f.placeholder,n,m,k,u,l,s-y)}var T=d?n:this,w=h?T[e]:e;return y=m.length,u?m=Wa(m,u):v&&y>1&&m.reverse(),c&&y>l&&(m.length=l),this&&this!==bn&&this instanceof f&&(w=g||Wi(w)),w.apply(T,m)}var c=t&Ee,d=t&pe,h=t&ve,p=t&(ye|me),v=t&Te,g=h?ne:Wi(e);return f}function qi(e,t){return function(n,r){return Er(n,e,t(r),{})}}function Xi(e,t){return function(n,r){var i;if(n===ne&&r===ne)return t;if(n!==ne&&(i=n),r!==ne){if(i===ne)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=si(n),r=si(r)),i=e(n,r)}return i}}function $i(e){return ca(function(t){return t=h(t,P(ga())),Jr(function(n){var r=this;return e(t,function(e){return a(e,r,n)})})})}function Qi(e,t){t=t===ne?" ":fi(t);var n=t.length;if(2>n)return n?Zr(t,e):t;var r=Zr(t,Mf(e/Q(t)));return G(t)?Ei(Z(r),0,e).join(""):r.slice(0,e)}function Zi(e,t,n,r){function i(){for(var t=-1,l=arguments.length,s=-1,f=r.length,c=Zs(f+l),d=this&&this!==bn&&this instanceof i?u:e;++s<f;)c[s]=r[s];for(;l--;)c[s++]=arguments[++t];return a(d,o?n:this,c)}var o=t&pe,u=Wi(e);return i}function Ji(e){return function(t,n,r){return r&&"number"!=typeof r&&Oa(t,n,r)&&(n=r=ne),t=yl(t),n===ne?(n=t,t=0):n=yl(n),r=r===ne?n>t?1:-1:yl(r),Qr(t,n,r,e)}}function ea(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_l(t),n=_l(n)),e(t,n)}}function ta(e,t,n,r,i,a,o,u,l,s){var f=t&ye,c=f?o:ne,d=f?ne:o,h=f?a:ne,p=f?ne:a;t|=f?be:_e,(t&=~(f?_e:be))&ge||(t&=~(pe|ve));var v=[e,t,i,h,c,p,d,u,l,s],g=n.apply(ne,v);return Pa(e)&&Sc(g,v),g.placeholder=r,Ha(g,e,t)}function na(e){var t=nf[e];return function(e,n){if(e=_l(e),n=null==n?0:Wf(ml(n),292)){var r=(Tl(e)+"e").split("e");return r=(Tl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function ra(e){return function(t){var n=Tc(t);return n==Ye?V(t):n==Je?q(t):D(t,e(t))}}function ia(e,t,n,r,i,a,o,u){var l=t&ve;if(!l&&"function"!=typeof e)throw new uf(ae);var s=r?r.length:0;if(s||(t&=~(be|_e),r=i=ne),o=o===ne?o:zf(ml(o),0),u=u===ne?u:ml(u),s-=i?i.length:0,t&_e){var f=r,c=i;r=i=ne}var d=l?ne:_c(e),h=[e,t,n,r,i,f,c,a,o,u];if(d&&Ua(h,d),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],u=h[9]=h[9]===ne?l?0:e.length:zf(h[9]-s,0),!u&&t&(ye|me)&&(t&=~(ye|me)),t&&t!=pe)p=t==ye||t==me?Vi(e,t,u):t!=be&&t!=(pe|be)||i.length?Yi.apply(ne,h):Zi(e,t,n,r);else var p=ji(e,t,n);return Ha((d?vc:Sc)(p,h),e,t)}function aa(e,t,n,r){return e===ne||Gu(e,ff[n])&&!hf.call(r,n)?t:e}function oa(e,t,n,r,i,a){return el(e)&&el(t)&&(a.set(t,e),Gr(e,t,ne,oa,a),a.delete(t)),e}function ua(e){return sl(e)?ne:e}function la(e,t,n,r,i,a){var o=n&de,u=e.length,l=t.length;if(!(u==l||o&&l>u))return!1;var s=a.get(e);if(s&&a.get(t))return s==t;var f=-1,c=!0,d=n&he?new En:ne;for(a.set(e,t),a.set(t,e);++f<u;){var h=e[f],p=t[f];if(r)var v=o?r(p,h,f,t,e,a):r(h,p,f,e,t,a);if(v!==ne){if(v)continue;c=!1;break}if(d){if(!y(t,function(e,t){if(!M(d,t)&&(h===e||i(h,e,n,r,a)))return d.push(t)})){c=!1;break}}else if(h!==p&&!i(h,p,n,r,a)){c=!1;break}}return a.delete(e),a.delete(t),c}function sa(e,t,n,r,i,a,o){switch(n){case ot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!a(new kf(e),new kf(t)));case Ge:case ze:case qe:return Gu(+e,+t);case Ve:return e.name==t.name&&e.message==t.message;case Ze:case et:return e==t+"";case Ye:var u=V;case Je:var l=r&de;if(u||(u=Y),e.size!=t.size&&!l)return!1;var s=o.get(e);if(s)return s==t;r|=he,o.set(e,t);var f=la(u(e),u(t),r,i,a,o);return o.delete(e),f;case tt:if(lc)return lc.call(e)==lc.call(t)}return!1}function fa(e,t,n,r,i,a){var o=n&de,u=da(e),l=u.length;if(l!=da(t).length&&!o)return!1;for(var s=l;s--;){var f=u[s];if(!(o?f in t:hf.call(t,f)))return!1}var c=a.get(e);if(c&&a.get(t))return c==t;var d=!0;a.set(e,t),a.set(t,e);for(var h=o;++s<l;){f=u[s];var p=e[f],v=t[f];if(r)var g=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(!(g===ne?p===v||i(p,v,n,r,a):g)){d=!1;break}h||(h="constructor"==f)}if(d&&!h){var y=e.constructor,m=t.constructor;y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(d=!1)}return a.delete(e),a.delete(t),d}function ca(e){return xc(Ga(e,ne,lo),e+"")}function da(e){return pr(e,Nl,Ec)}function ha(e){return pr(e,Fl,kc)}function pa(e){for(var t=e.name+"",n=tc[t],r=hf.call(tc,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function va(e){return(hf.call(n,"placeholder")?n:e).placeholder}function ga(){var e=n.iteratee||xs;return e=e===xs?Ir:e,arguments.length?e(arguments[0],arguments[1]):e}function ya(e,t){var n=e.__data__;return Da(t)?n["string"==typeof t?"string":"hash"]:n.map}function ma(e){for(var t=Nl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Na(i)]}return t}function ba(e,t){var n=j(e,t);return Or(n)?n:ne}function _a(e){var t=hf.call(e,Of),n=e[Of];try{e[Of]=ne;var r=!0}catch(e){}var i=gf.call(e);return r&&(t?e[Of]=n:delete e[Of]),i}function Ea(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Wf(t,e+o);break;case"takeRight":e=zf(e,t-o)}}return{start:e,end:t}}function ka(e){var t=e.match(Mt);return t?t[1].split(Nt):[]}function Ta(e,t,n){t=_i(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=qa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Ju(i)&&La(o,i)&&(hd(e)||dd(e))}function wa(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hf.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Sa(e){return"function"!=typeof e.constructor||Ma(e)?{}:fc(wf(e))}function Ra(e,t,n){var r=e.constructor;switch(t){case at:return Ti(e);case Ge:case ze:return new r(+e);case ot:return wi(e,n);case ut:case lt:case st:case ft:case ct:case dt:case ht:case pt:case vt:return xi(e,n);case Ye:return new r;case qe:case et:return new r(e);case Ze:return Si(e);case Je:return new r;case tt:return Ri(e)}}function xa(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(It,"{\n/* [wrapped with "+t+"] */\n")}function Aa(e){return hd(e)||dd(e)||!!(Af&&e&&e[Af])}function La(e,t){var n=typeof e;return!!(t=null==t?Ce:t)&&("number"==n||"symbol"!=n&&Ht.test(e))&&e>-1&&e%1==0&&t>e}function Oa(e,t,n){if(!el(n))return!1;var r=typeof t;return!!("number"==r?zu(n)&&La(t,n.length):"string"==r&&t in n)&&Gu(n[t],e)}function Ca(e,t){if(hd(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!dl(e))||(xt.test(e)||!Rt.test(e)||null!=t&&e in rf(t))}function Da(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Pa(e){var t=pa(e),r=n[t];if("function"!=typeof r||!(t in m.prototype))return!1;if(e===r)return!0;var i=_c(r);return!!i&&e===i[0]}function Ia(e){return!!vf&&vf in e}function Ma(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ff)}function Na(e){return e===e&&!el(e)}function Fa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ne||e in rf(n)))}}function Ua(e,t){var n=e[1],r=t[1],i=n|r,a=(pe|ve|Ee)>i,o=r==Ee&&n==ye||r==Ee&&n==ke&&t[8]>=e[7].length||r==(Ee|ke)&&t[8]>=t[7].length&&n==ye;if(!a&&!o)return e;r&pe&&(e[2]=t[2],i|=n&pe?0:ge);var u=t[3];if(u){var l=e[3];e[3]=l?Oi(l,u,t[4]):u,e[4]=l?K(e[3],le):t[4]}return u=t[5],u&&(l=e[5],e[5]=l?Ci(l,u,t[6]):u,e[6]=l?K(e[5],le):t[6]),u=t[7],u&&(e[7]=u),r&Ee&&(e[8]=null==e[8]?t[8]:Wf(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Ba(e){var t=[];if(null!=e)for(var n in rf(e))t.push(n);return t}function ja(e){return gf.call(e)}function Ga(e,t,n){return t=zf(t===ne?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=zf(r.length-t,0),u=Zs(o);++i<o;)u[i]=r[t+i];i=-1;for(var l=Zs(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),a(e,this,l)}}function za(e,t){return 2>t.length?e:hr(e,ii(t,0,-1))}function Wa(e,t){for(var n=e.length,r=Wf(t.length,n),i=Di(e);r--;){var a=t[r];e[r]=La(a,n)?i[a]:ne}return e}function Va(e,t){if("__proto__"!=t)return e[t]}function Ha(e,t,n){var r=t+"";return xc(e,xa(r,$a(ka(r),n)))}function Ka(e){var t=0,n=0;return function(){var r=Vf(),i=xe-(r-n);if(n=r,i>0){if(++t>=Re)return arguments[0]}else t=0;return e.apply(ne,arguments)}}function Ya(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ne?r:t;++n<t;){var a=$r(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}function qa(e){if("string"==typeof e||dl(e))return e;var t=e+"";return"0"==t&&1/e==-Oe?"-0":t}function Xa(e){if(null!=e){try{return df.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $a(e,t){return u(Fe,function(n){var r="_."+n[0];t&n[1]&&!c(e,r)&&e.push(r)}),e.sort()}function Qa(e){if(e instanceof m)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Za(e,t,n){t=(n?Oa(e,t,n):t===ne)?1:zf(ml(t),0);var r=null==e?0:e.length;if(!r||1>t)return[];for(var i=0,a=0,o=Zs(Mf(r/t));r>i;)o[a++]=ii(e,i,i+=t);return o}function Ja(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i}function eo(){var e=arguments.length;if(!e)return[];for(var t=Zs(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return p(hd(n)?Di(n):[n],sr(t,1))}function to(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:ml(t),ii(e,0>t?0:t,r)):[]}function no(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:ml(t),t=r-t,ii(e,0,0>t?0:t)):[]}function ro(e,t){return e&&e.length?pi(e,ga(t,3),!0,!0):[]}function io(e,t){return e&&e.length?pi(e,ga(t,3),!0):[]}function ao(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Oa(e,t,n)&&(n=0,r=i),ur(e,t,n,r)):[]}function oo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ml(n);return 0>i&&(i=zf(r+i,0)),E(e,ga(t,3),i)}function uo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ne&&(i=ml(n),i=0>n?zf(r+i,0):Wf(i,r-1)),E(e,ga(t,3),i,!0)}function lo(e){return(null==e?0:e.length)?sr(e,1):[]}function so(e){return(null==e?0:e.length)?sr(e,Oe):[]}function fo(e,t){return(null==e?0:e.length)?(t=t===ne?1:ml(t),sr(e,t)):[]}function co(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function ho(e){return e&&e.length?e[0]:ne}function po(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ml(n);return 0>i&&(i=zf(r+i,0)),k(e,t,i)}function vo(e){return(null==e?0:e.length)?ii(e,0,-1):[]}function go(e,t){return null==e?"":jf.call(e,t)}function yo(e){var t=null==e?0:e.length;return t?e[t-1]:ne}function mo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ne&&(i=ml(n),i=0>i?zf(r+i,0):Wf(i,r-1)),t===t?$(e,t,i):E(e,w,i,!0)}function bo(e,t){return e&&e.length?Wr(e,ml(t)):ne}function _o(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}function Eo(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ga(n,2)):e}function ko(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,ne,n):e}function To(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ga(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Xr(e,i),n}function wo(e){return null==e?e:Yf.call(e)}function So(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Oa(e,t,n)?(t=0,n=r):(t=null==t?0:ml(t),n=n===ne?r:ml(n)),ii(e,t,n)):[]}function Ro(e,t){return oi(e,t)}function xo(e,t,n){return ui(e,t,ga(n,2))}function Ao(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(n>r&&Gu(e[r],t))return r}return-1}function Lo(e,t){return oi(e,t,!0)}function Oo(e,t,n){return ui(e,t,ga(n,2),!0)}function Co(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Gu(e[n],t))return n}return-1}function Do(e){return e&&e.length?li(e):[]}function Po(e,t){return e&&e.length?li(e,ga(t,2)):[]}function Io(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]}function Mo(e,t,n){return e&&e.length?(t=n||t===ne?1:ml(t),ii(e,0,0>t?0:t)):[]}function No(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ne?1:ml(t),t=r-t,ii(e,0>t?0:t,r)):[]}function Fo(e,t){return e&&e.length?pi(e,ga(t,3),!1,!0):[]}function Uo(e,t){return e&&e.length?pi(e,ga(t,3)):[]}function Bo(e){return e&&e.length?ci(e):[]}function jo(e,t){return e&&e.length?ci(e,ga(t,2)):[]}function Go(e,t){return t="function"==typeof t?t:ne,e&&e.length?ci(e,ne,t):[]}function zo(e){if(!e||!e.length)return[];var t=0;return e=f(e,function(e){if(Wu(e))return t=zf(e.length,t),!0}),C(t,function(t){return h(e,R(t))})}function Wo(e,t){if(!e||!e.length)return[];var n=zo(e);return null==t?n:h(n,function(e){return a(t,ne,e)})}function Vo(e,t){return yi(e||[],t||[],Kn)}function Ho(e,t){return yi(e||[],t||[],ni)}function Ko(e){var t=n(e);return t.__chain__=!0,t}function Yo(e,t){return t(e),e}function qo(e,t){return t(e)}function Xo(){return Ko(this)}function $o(){return new i(this.value(),this.__chain__)}function Qo(){this.__values__===ne&&(this.__values__=gl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ne:this.__values__[this.__index__++]}}function Zo(){return this}function Jo(e){for(var t,n=this;n instanceof r;){var i=Qa(n);i.__index__=0,i.__values__=ne,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t}function eu(){var e=this.__wrapped__;if(e instanceof m){var t=e;return this.__actions__.length&&(t=new m(this)),t=t.reverse(),t.__actions__.push({func:qo,args:[wo],thisArg:ne}),new i(t,this.__chain__)}return this.thru(wo)}function tu(){return vi(this.__wrapped__,this.__actions__)}function nu(e,t,n){var r=hd(e)?s:ar;return n&&Oa(e,t,n)&&(t=ne),r(e,ga(t,3))}function ru(e,t){return(hd(e)?f:lr)(e,ga(t,3))}function iu(e,t){return sr(fu(e,t),1)}function au(e,t){return sr(fu(e,t),Oe)}function ou(e,t,n){return n=n===ne?1:ml(n),sr(fu(e,t),n)}function uu(e,t){return(hd(e)?u:cc)(e,ga(t,3))}function lu(e,t){return(hd(e)?l:dc)(e,ga(t,3))}function su(e,t,n,r){e=zu(e)?e:Xl(e),n=n&&!r?ml(n):0;var i=e.length;return 0>n&&(n=zf(i+n,0)),cl(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&k(e,t,n)>-1}function fu(e,t){return(hd(e)?h:Ur)(e,ga(t,3))}function cu(e,t,n,r){return null==e?[]:(hd(t)||(t=null==t?[]:[t]),n=r?ne:n,hd(n)||(n=null==n?[]:[n]),Vr(e,t,n))}function du(e,t,n){var r=hd(e)?v:A,i=3>arguments.length;return r(e,ga(t,4),n,i,cc)}function hu(e,t,n){var r=hd(e)?g:A,i=3>arguments.length;return r(e,ga(t,4),n,i,dc)}function pu(e,t){return(hd(e)?f:lr)(e,Au(ga(t,3)))}function vu(e){return(hd(e)?zn:ei)(e)}function gu(e,t,n){return t=(n?Oa(e,t,n):t===ne)?1:ml(t),(hd(e)?Wn:ti)(e,t)}function yu(e){return(hd(e)?Vn:ri)(e)}function mu(e){if(null==e)return 0;if(zu(e))return cl(e)?Q(e):e.length;var t=Tc(e);return t==Ye||t==Je?e.size:Mr(e).length}function bu(e,t,n){var r=hd(e)?y:ai;return n&&Oa(e,t,n)&&(t=ne),r(e,ga(t,3))}function _u(e,t){if("function"!=typeof t)throw new uf(ae);return e=ml(e),function(){if(1>--e)return t.apply(this,arguments)}}function Eu(e,t,n){return t=n?ne:t,t=e&&null==t?e.length:t,ia(e,Ee,ne,ne,ne,ne,t)}function ku(e,t){var n;if("function"!=typeof t)throw new uf(ae);return e=ml(e),function(){return--e>0&&(n=t.apply(this,arguments)),e>1||(t=ne),n}}function Tu(e,t,n){t=n?ne:t;var r=ia(e,ye,ne,ne,ne,ne,ne,t);return r.placeholder=Tu.placeholder,r}function wu(e,t,n){t=n?ne:t;var r=ia(e,me,ne,ne,ne,ne,ne,t);return r.placeholder=wu.placeholder,r}function Su(e,t,n){function r(t){var n=d,r=h;return d=h=ne,m=t,v=e.apply(r,n)}function i(e){return m=e,g=Rc(u,t),b?r(e):v}function a(e){var n=e-y,r=e-m,i=t-n;return _?Wf(i,p-r):i}function o(e){var n=e-y,r=e-m;return y===ne||n>=t||0>n||_&&r>=p}function u(){var e=td();if(o(e))return l(e);g=Rc(u,a(e))}function l(e){return g=ne,E&&d?r(e):(d=h=ne,v)}function s(){g!==ne&&mc(g),m=0,d=y=h=g=ne}function f(){return g===ne?v:l(td())}function c(){var e=td(),n=o(e);if(d=arguments,h=this,y=e,n){if(g===ne)return i(y);if(_)return g=Rc(u,t),r(y)}return g===ne&&(g=Rc(u,t)),v}var d,h,p,v,g,y,m=0,b=!1,_=!1,E=!0;if("function"!=typeof e)throw new uf(ae);return t=_l(t)||0,el(n)&&(b=!!n.leading,_="maxWait"in n,p=_?zf(_l(n.maxWait)||0,t):p,E="trailing"in n?!!n.trailing:E),c.cancel=s,c.flush=f,c}function Ru(e){return ia(e,Te)}function xu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new uf(ae);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(xu.Cache||dn),n}function Au(e){if("function"!=typeof e)throw new uf(ae);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Lu(e){return ku(2,e)}function Ou(e,t){if("function"!=typeof e)throw new uf(ae);return t=t===ne?t:ml(t),Jr(e,t)}function Cu(e,t){if("function"!=typeof e)throw new uf(ae);return t=null==t?0:zf(ml(t),0),Jr(function(n){var r=n[t],i=Ei(n,0,t);return r&&p(i,r),a(e,this,i)})}function Du(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new uf(ae);return el(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Su(e,t,{leading:r,maxWait:t,trailing:i})}function Pu(e){return Eu(e,1)}function Iu(e,t){return ud(bi(t),e)}function Mu(){if(!arguments.length)return[];var e=arguments[0];return hd(e)?e:[e]}function Nu(e){return er(e,ce)}function Fu(e,t){return t="function"==typeof t?t:ne,er(e,ce,t)}function Uu(e){return er(e,se|ce)}function Bu(e,t){return t="function"==typeof t?t:ne,er(e,se|ce,t)}function ju(e,t){return null==t||nr(e,t,Nl(t))}function Gu(e,t){return e===t||e!==e&&t!==t}function zu(e){return null!=e&&Ju(e.length)&&!Qu(e)}function Wu(e){return tl(e)&&zu(e)}function Vu(e){return!0===e||!1===e||tl(e)&&vr(e)==Ge}function Hu(e){return tl(e)&&1===e.nodeType&&!sl(e)}function Ku(e){if(null==e)return!0;if(zu(e)&&(hd(e)||"string"==typeof e||"function"==typeof e.splice||vd(e)||_d(e)||dd(e)))return!e.length;var t=Tc(e);if(t==Ye||t==Je)return!e.size;if(Ma(e))return!Mr(e).length;for(var n in e)if(hf.call(e,n))return!1;return!0}function Yu(e,t){return Rr(e,t)}function qu(e,t,n){n="function"==typeof n?n:ne;var r=n?n(e,t):ne;return r===ne?Rr(e,t,ne,n):!!r}function Xu(e){if(!tl(e))return!1;var t=vr(e);return t==Ve||t==We||"string"==typeof e.message&&"string"==typeof e.name&&!sl(e)}function $u(e){return"number"==typeof e&&Bf(e)}function Qu(e){if(!el(e))return!1;var t=vr(e);return t==He||t==Ke||t==je||t==Qe}function Zu(e){return"number"==typeof e&&e==ml(e)}function Ju(e){return"number"==typeof e&&e>-1&&e%1==0&&Ce>=e}function el(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function tl(e){return null!=e&&"object"==typeof e}function nl(e,t){return e===t||Lr(e,t,ma(t))}function rl(e,t,n){return n="function"==typeof n?n:ne,Lr(e,t,ma(t),n)}function il(e){return ll(e)&&e!=+e}function al(e){if(wc(e))throw new ef(ie);return Or(e)}function ol(e){return null===e}function ul(e){return null==e}function ll(e){return"number"==typeof e||tl(e)&&vr(e)==qe}function sl(e){if(!tl(e)||vr(e)!=$e)return!1;var t=wf(e);if(null===t)return!0;var n=hf.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&df.call(n)==yf}function fl(e){return Zu(e)&&e>=-Ce&&Ce>=e}function cl(e){return"string"==typeof e||!hd(e)&&tl(e)&&vr(e)==et}function dl(e){return"symbol"==typeof e||tl(e)&&vr(e)==tt}function hl(e){return e===ne}function pl(e){return tl(e)&&Tc(e)==rt}function vl(e){return tl(e)&&vr(e)==it}function gl(e){if(!e)return[];if(zu(e))return cl(e)?Z(e):Di(e);if(Lf&&e[Lf])return W(e[Lf]());var t=Tc(e);return(t==Ye?V:t==Je?Y:Xl)(e)}function yl(e){if(!e)return 0===e?e:0;if((e=_l(e))===Oe||e===-Oe){return(0>e?-1:1)*De}return e===e?e:0}function ml(e){var t=yl(e),n=t%1;return t===t?n?t-n:t:0}function bl(e){return e?Jn(ml(e),0,Ie):0}function _l(e){if("number"==typeof e)return e;if(dl(e))return Pe;if(el(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=el(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ct,"");var n=zt.test(e);return n||Vt.test(e)?gn(e.slice(2),n?2:8):Gt.test(e)?Pe:+e}function El(e){return Pi(e,Fl(e))}function kl(e){return e?Jn(ml(e),-Ce,Ce):0===e?e:0}function Tl(e){return null==e?"":fi(e)}function wl(e,t){var n=fc(e);return null==t?n:Xn(n,t)}function Sl(e,t){return _(e,ga(t,3),fr)}function Rl(e,t){return _(e,ga(t,3),cr)}function xl(e,t){return null==e?e:hc(e,ga(t,3),Fl)}function Al(e,t){return null==e?e:pc(e,ga(t,3),Fl)}function Ll(e,t){return e&&fr(e,ga(t,3))}function Ol(e,t){return e&&cr(e,ga(t,3))}function Cl(e){return null==e?[]:dr(e,Nl(e))}function Dl(e){return null==e?[]:dr(e,Fl(e))}function Pl(e,t,n){var r=null==e?ne:hr(e,t);return r===ne?n:r}function Il(e,t){return null!=e&&Ta(e,t,yr)}function Ml(e,t){return null!=e&&Ta(e,t,mr)}function Nl(e){return zu(e)?Gn(e):Mr(e)}function Fl(e){return zu(e)?Gn(e,!0):Nr(e)}function Ul(e,t){var n={};return t=ga(t,3),fr(e,function(e,r,i){Qn(n,t(e,r,i),e)}),n}function Bl(e,t){var n={};return t=ga(t,3),fr(e,function(e,r,i){Qn(n,r,t(e,r,i))}),n}function jl(e,t){return Gl(e,Au(ga(t)))}function Gl(e,t){if(null==e)return{};var n=h(ha(e),function(e){return[e]});return t=ga(t),Kr(e,n,function(e,n){return t(e,n[0])})}function zl(e,t,n){t=_i(t,e);var r=-1,i=t.length;for(i||(i=1,e=ne);++r<i;){var a=null==e?ne:e[qa(t[r])];a===ne&&(r=i,a=n),e=Qu(a)?a.call(e):a}return e}function Wl(e,t,n){return null==e?e:ni(e,t,n)}function Vl(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:ni(e,t,n,r)}function Hl(e,t,n){var r=hd(e),i=r||vd(e)||_d(e);if(t=ga(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:el(e)&&Qu(a)?fc(wf(e)):{}}return(i?u:fr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Kl(e,t){return null==e||di(e,t)}function Yl(e,t,n){return null==e?e:hi(e,t,bi(n))}function ql(e,t,n,r){return r="function"==typeof r?r:ne,null==e?e:hi(e,t,bi(n),r)}function Xl(e){return null==e?[]:I(e,Nl(e))}function $l(e){return null==e?[]:I(e,Fl(e))}function Ql(e,t,n){return n===ne&&(n=t,t=ne),n!==ne&&(n=_l(n),n=n===n?n:0),t!==ne&&(t=_l(t),t=t===t?t:0),Jn(_l(e),t,n)}function Zl(e,t,n){return t=yl(t),n===ne?(n=t,t=0):n=yl(n),e=_l(e),br(e,t,n)}function Jl(e,t,n){if(n&&"boolean"!=typeof n&&Oa(e,t,n)&&(t=n=ne),n===ne&&("boolean"==typeof t?(n=t,t=ne):"boolean"==typeof e&&(n=e,e=ne)),e===ne&&t===ne?(e=0,t=1):(e=yl(e),t===ne?(t=e,e=0):t=yl(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Kf();return Wf(e+i*(t-e+vn("1e-"+((i+"").length-1))),t)}return $r(e,t)}function es(e){return Kd(Tl(e).toLowerCase())}function ts(e){return(e=Tl(e))&&e.replace(Kt,Dn).replace(tn,"")}function ns(e,t,n){e=Tl(e),t=fi(t);var r=e.length;n=n===ne?r:Jn(ml(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function rs(e){return e=Tl(e),e&&kt.test(e)?e.replace(_t,Pn):e}function is(e){return e=Tl(e),e&&Ot.test(e)?e.replace(Lt,"\\$&"):e}function as(e,t,n){e=Tl(e),t=ml(t);var r=t?Q(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Qi(Nf(i),n)+e+Qi(Mf(i),n)}function os(e,t,n){e=Tl(e),t=ml(t);var r=t?Q(e):0;return t&&t>r?e+Qi(t-r,n):e}function us(e,t,n){e=Tl(e),t=ml(t);var r=t?Q(e):0;return t&&t>r?Qi(t-r,n)+e:e}function ls(e,t,n){return n||null==t?t=0:t&&(t=+t),Hf(Tl(e).replace(Dt,""),t||0)}function ss(e,t,n){return t=(n?Oa(e,t,n):t===ne)?1:ml(t),Zr(Tl(e),t)}function fs(){var e=arguments,t=Tl(e[0]);return 3>e.length?t:t.replace(e[1],e[2])}function cs(e,t,n){return n&&"number"!=typeof n&&Oa(e,t,n)&&(t=n=ne),(n=n===ne?Ie:n>>>0)?(e=Tl(e),e&&("string"==typeof t||null!=t&&!md(t))&&!(t=fi(t))&&G(e)?Ei(Z(e),0,n):e.split(t,n)):[]}function ds(e,t,n){return e=Tl(e),n=null==n?0:Jn(ml(n),0,e.length),t=fi(t),e.slice(n,n+t.length)==t}function hs(e,t,r){var i=n.templateSettings;r&&Oa(e,t,r)&&(t=ne),e=Tl(e),t=Sd({},t,i,aa);var a,o,u=Sd({},t.imports,i.imports,aa),l=Nl(u),s=I(u,l),f=0,c=t.interpolate||Yt,d="__p += '",h=af((t.escape||Yt).source+"|"+c.source+"|"+(c===St?Bt:Yt).source+"|"+(t.evaluate||Yt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++ln+"]")+"\n";e.replace(h,function(t,n,r,i,u,l){return r||(r=i),d+=e.slice(f,l).replace(qt,B),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),u&&(o=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=l+t.length,t}),d+="';\n";var v=t.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(gt,""):d).replace(yt,"$1").replace(mt,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Yd(function(){return tf(l,p+"return "+d).apply(ne,s)});if(g.source=d,Xu(g))throw g;return g}function ps(e){return Tl(e).toLowerCase()}function vs(e){return Tl(e).toUpperCase()}function gs(e,t,n){if((e=Tl(e))&&(n||t===ne))return e.replace(Ct,"");if(!e||!(t=fi(t)))return e;var r=Z(e),i=Z(t);return Ei(r,N(r,i),F(r,i)+1).join("")}function ys(e,t,n){if((e=Tl(e))&&(n||t===ne))return e.replace(Pt,"");if(!e||!(t=fi(t)))return e;var r=Z(e);return Ei(r,0,F(r,Z(t))+1).join("")}function ms(e,t,n){if((e=Tl(e))&&(n||t===ne))return e.replace(Dt,"");if(!e||!(t=fi(t)))return e;var r=Z(e);return Ei(r,N(r,Z(t))).join("")}function bs(e,t){var n=we,r=Se;if(el(t)){var i="separator"in t?t.separator:i;n="length"in t?ml(t.length):n,r="omission"in t?fi(t.omission):r}e=Tl(e);var a=e.length;if(G(e)){var o=Z(e);a=o.length}if(n>=a)return e;var u=n-Q(r);if(1>u)return r;var l=o?Ei(o,0,u).join(""):e.slice(0,u);if(i===ne)return l+r;if(o&&(u+=l.length-u),md(i)){if(e.slice(u).search(i)){var s,f=l;for(i.global||(i=af(i.source,Tl(jt.exec(i))+"g")),i.lastIndex=0;s=i.exec(f);)var c=s.index;l=l.slice(0,c===ne?u:c)}}else if(e.indexOf(fi(i),u)!=u){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r}function _s(e){return e=Tl(e),e&&Et.test(e)?e.replace(bt,In):e}function Es(e,t,n){return e=Tl(e),t=n?ne:t,t===ne?z(e)?te(e):b(e):e.match(t)||[]}function ks(e){var t=null==e?0:e.length,n=ga();return e=t?h(e,function(e){if("function"!=typeof e[1])throw new uf(ae);return[n(e[0]),e[1]]}):[],Jr(function(n){for(var r=-1;++r<t;){var i=e[r];if(a(i[0],this,n))return a(i[1],this,n)}})}function Ts(e){return tr(er(e,se))}function ws(e){return function(){return e}}function Ss(e,t){return null==e||e!==e?t:e}function Rs(e){return e}function xs(e){return Ir("function"==typeof e?e:er(e,se))}function As(e){return Br(er(e,se))}function Ls(e,t){return jr(e,er(t,se))}function Os(e,t,n){var r=Nl(t),i=dr(t,r);null!=n||el(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=dr(t,Nl(t)));var a=!(el(n)&&"chain"in n&&!n.chain),o=Qu(e);return u(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,p([this.value()],arguments))})}),e}function Cs(){return bn._===this&&(bn._=mf),this}function Ds(){}function Ps(e){return e=ml(e),Jr(function(t){return Wr(t,e)})}function Is(e){return Ca(e)?R(qa(e)):Yr(e)}function Ms(e){return function(t){return null==e?ne:hr(e,t)}}function Ns(){return[]}function Fs(){return!1}function Us(){return{}}function Bs(){return""}function js(){return!0}function Gs(e,t){if(1>(e=ml(e))||e>Ce)return[];var n=Ie,r=Wf(e,Ie);t=ga(t),e-=Ie;for(var i=C(r,t);++n<e;)t(n);return i}function zs(e){return hd(e)?h(e,qa):dl(e)?[e]:Di(Ac(Tl(e)))}function Ws(e){var t=++pf;return Tl(e)+t}function Vs(e){return e&&e.length?or(e,Rs,gr):ne}function Hs(e,t){return e&&e.length?or(e,ga(t,2),gr):ne}function Ks(e){return S(e,Rs)}function Ys(e,t){return S(e,ga(t,2))}function qs(e){return e&&e.length?or(e,Rs,Fr):ne}function Xs(e,t){return e&&e.length?or(e,ga(t,2),Fr):ne}function $s(e){return e&&e.length?O(e,Rs):0}function Qs(e,t){return e&&e.length?O(e,ga(t,2)):0}t=null==t?bn:Mn.defaults(bn.Object(),t,Mn.pick(bn,un));var Zs=t.Array,Js=t.Date,ef=t.Error,tf=t.Function,nf=t.Math,rf=t.Object,af=t.RegExp,of=t.String,uf=t.TypeError,lf=Zs.prototype,sf=tf.prototype,ff=rf.prototype,cf=t["__core-js_shared__"],df=sf.toString,hf=ff.hasOwnProperty,pf=0,vf=function(){var e=/[^.]+$/.exec(cf&&cf.keys&&cf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gf=ff.toString,yf=df.call(rf),mf=bn._,bf=af("^"+df.call(hf).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_f=kn?t.Buffer:ne,Ef=t.Symbol,kf=t.Uint8Array,Tf=_f?_f.allocUnsafe:ne,wf=H(rf.getPrototypeOf,rf),Sf=rf.create,Rf=ff.propertyIsEnumerable,xf=lf.splice,Af=Ef?Ef.isConcatSpreadable:ne,Lf=Ef?Ef.iterator:ne,Of=Ef?Ef.toStringTag:ne,Cf=function(){try{var e=ba(rf,"defineProperty");return e({},"",{}),e}catch(e){}}(),Df=t.clearTimeout!==bn.clearTimeout&&t.clearTimeout,Pf=Js&&Js.now!==bn.Date.now&&Js.now,If=t.setTimeout!==bn.setTimeout&&t.setTimeout,Mf=nf.ceil,Nf=nf.floor,Ff=rf.getOwnPropertySymbols,Uf=_f?_f.isBuffer:ne,Bf=t.isFinite,jf=lf.join,Gf=H(rf.keys,rf),zf=nf.max,Wf=nf.min,Vf=Js.now,Hf=t.parseInt,Kf=nf.random,Yf=lf.reverse,qf=ba(t,"DataView"),Xf=ba(t,"Map"),$f=ba(t,"Promise"),Qf=ba(t,"Set"),Zf=ba(t,"WeakMap"),Jf=ba(rf,"create"),ec=Zf&&new Zf,tc={},nc=Xa(qf),rc=Xa(Xf),ic=Xa($f),ac=Xa(Qf),oc=Xa(Zf),uc=Ef?Ef.prototype:ne,lc=uc?uc.valueOf:ne,sc=uc?uc.toString:ne,fc=function(){function e(){}return function(t){if(!el(t))return{};if(Sf)return Sf(t);e.prototype=t;var n=new e;return e.prototype=ne,n}}();n.templateSettings={escape:Tt,evaluate:wt,interpolate:St,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=fc(r.prototype),i.prototype.constructor=i,m.prototype=fc(r.prototype),m.prototype.constructor=m,ee.prototype.clear=Ft,ee.prototype.delete=Xt,ee.prototype.get=$t,ee.prototype.has=Qt,ee.prototype.set=Zt,Jt.prototype.clear=nn,Jt.prototype.delete=rn,Jt.prototype.get=an,Jt.prototype.has=on,Jt.prototype.set=cn,dn.prototype.clear=hn,dn.prototype.delete=pn,dn.prototype.get=yn,dn.prototype.has=mn,dn.prototype.set=_n,En.prototype.add=En.prototype.push=Tn,En.prototype.has=wn,Cn.prototype.clear=Nn,Cn.prototype.delete=Fn,Cn.prototype.get=Un,Cn.prototype.has=Bn,Cn.prototype.set=jn;var cc=Ui(fr),dc=Ui(cr,!0),hc=Bi(),pc=Bi(!0),vc=ec?function(e,t){return ec.set(e,t),e}:Rs,gc=Cf?function(e,t){return Cf(e,"toString",{configurable:!0,enumerable:!1,value:ws(t),writable:!0})}:Rs,yc=Jr,mc=Df||function(e){return bn.clearTimeout(e)},bc=Qf&&1/Y(new Qf([,-0]))[1]==Oe?function(e){return new Qf(e)}:Ds,_c=ec?function(e){return ec.get(e)}:Ds,Ec=Ff?function(e){return null==e?[]:(e=rf(e),f(Ff(e),function(t){return Rf.call(e,t)}))}:Ns,kc=Ff?function(e){for(var t=[];e;)p(t,Ec(e)),e=wf(e);return t}:Ns,Tc=vr;(qf&&Tc(new qf(new ArrayBuffer(1)))!=ot||Xf&&Tc(new Xf)!=Ye||$f&&"[object Promise]"!=Tc($f.resolve())||Qf&&Tc(new Qf)!=Je||Zf&&Tc(new Zf)!=rt)&&(Tc=function(e){var t=vr(e),n=t==$e?e.constructor:ne,r=n?Xa(n):"";if(r)switch(r){case nc:return ot;case rc:return Ye;case ic:return"[object Promise]";case ac:return Je;case oc:return rt}return t});var wc=cf?Qu:Fs,Sc=Ka(vc),Rc=If||function(e,t){return bn.setTimeout(e,t)},xc=Ka(gc),Ac=function(e){var t=xu(e,function(e){return n.size===ue&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(At,function(e,n,r,i){t.push(r?i.replace(Ut,"$1"):n||e)}),t}),Lc=Jr(function(e,t){return Wu(e)?ir(e,sr(t,1,Wu,!0)):[]}),Oc=Jr(function(e,t){var n=yo(t);return Wu(n)&&(n=ne),Wu(e)?ir(e,sr(t,1,Wu,!0),ga(n,2)):[]}),Cc=Jr(function(e,t){var n=yo(t);return Wu(n)&&(n=ne),Wu(e)?ir(e,sr(t,1,Wu,!0),ne,n):[]}),Dc=Jr(function(e){var t=h(e,mi);return t.length&&t[0]===e[0]?_r(t):[]}),Pc=Jr(function(e){var t=yo(e),n=h(e,mi);return t===yo(n)?t=ne:n.pop(),n.length&&n[0]===e[0]?_r(n,ga(t,2)):[]}),Ic=Jr(function(e){var t=yo(e),n=h(e,mi);return t="function"==typeof t?t:ne,t&&n.pop(),n.length&&n[0]===e[0]?_r(n,ne,t):[]}),Mc=Jr(_o),Nc=ca(function(e,t){var n=null==e?0:e.length,r=Zn(e,t);return Xr(e,h(t,function(e){return La(e,n)?+e:e}).sort(Ai)),r}),Fc=Jr(function(e){return ci(sr(e,1,Wu,!0))}),Uc=Jr(function(e){var t=yo(e);return Wu(t)&&(t=ne),ci(sr(e,1,Wu,!0),ga(t,2))}),Bc=Jr(function(e){var t=yo(e);return t="function"==typeof t?t:ne,ci(sr(e,1,Wu,!0),ne,t)}),jc=Jr(function(e,t){return Wu(e)?ir(e,t):[]}),Gc=Jr(function(e){return gi(f(e,Wu))}),zc=Jr(function(e){var t=yo(e);return Wu(t)&&(t=ne),gi(f(e,Wu),ga(t,2))}),Wc=Jr(function(e){var t=yo(e);return t="function"==typeof t?t:ne,gi(f(e,Wu),ne,t)}),Vc=Jr(zo),Hc=Jr(function(e){var t=e.length,n=t>1?e[t-1]:ne;return n="function"==typeof n?(e.pop(),n):ne,Wo(e,n)}),Kc=ca(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return Zn(t,e)};return 1>=t&&!this.__actions__.length&&r instanceof m&&La(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:qo,args:[a],thisArg:ne}),new i(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ne),e})):this.thru(a)}),Yc=Ni(function(e,t,n){hf.call(e,n)?++e[n]:Qn(e,n,1)}),qc=Hi(oo),Xc=Hi(uo),$c=Ni(function(e,t,n){hf.call(e,n)?e[n].push(t):Qn(e,n,[t])}),Qc=Jr(function(e,t,n){var r=-1,i="function"==typeof t,o=zu(e)?Zs(e.length):[];return cc(e,function(e){o[++r]=i?a(t,e,n):kr(e,t,n)}),o}),Zc=Ni(function(e,t,n){Qn(e,n,t)}),Jc=Ni(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ed=Jr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Oa(e,t[0],t[1])?t=[]:n>2&&Oa(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,sr(t,1),[])}),td=Pf||function(){return bn.Date.now()},nd=Jr(function(e,t,n){var r=pe;if(n.length){var i=K(n,va(nd));r|=be}return ia(e,r,t,n,i)}),rd=Jr(function(e,t,n){var r=pe|ve;if(n.length){var i=K(n,va(rd));r|=be}return ia(t,r,e,n,i)}),id=Jr(function(e,t){return rr(e,1,t)}),ad=Jr(function(e,t,n){return rr(e,_l(t)||0,n)});xu.Cache=dn;var od=yc(function(e,t){t=1==t.length&&hd(t[0])?h(t[0],P(ga())):h(sr(t,1),P(ga()));var n=t.length;return Jr(function(r){for(var i=-1,o=Wf(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return a(e,this,r)})}),ud=Jr(function(e,t){var n=K(t,va(ud));return ia(e,be,ne,t,n)}),ld=Jr(function(e,t){var n=K(t,va(ld));return ia(e,_e,ne,t,n)}),sd=ca(function(e,t){return ia(e,ke,ne,ne,ne,t)}),fd=ea(gr),cd=ea(function(e,t){return e>=t}),dd=Tr(function(){return arguments}())?Tr:function(e){return tl(e)&&hf.call(e,"callee")&&!Rf.call(e,"callee")},hd=Zs.isArray,pd=Sn?P(Sn):wr,vd=Uf||Fs,gd=Rn?P(Rn):Sr,yd=xn?P(xn):Ar,md=An?P(An):Cr,bd=Ln?P(Ln):Dr,_d=On?P(On):Pr,Ed=ea(Fr),kd=ea(function(e,t){return t>=e}),Td=Fi(function(e,t){if(Ma(t)||zu(t))return void Pi(t,Nl(t),e);for(var n in t)hf.call(t,n)&&Kn(e,n,t[n])}),wd=Fi(function(e,t){Pi(t,Fl(t),e)}),Sd=Fi(function(e,t,n,r){Pi(t,Fl(t),e,r)}),Rd=Fi(function(e,t,n,r){Pi(t,Nl(t),e,r)}),xd=ca(Zn),Ad=Jr(function(e,t){e=rf(e);var n=-1,r=t.length,i=r>2?t[2]:ne;for(i&&Oa(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=Fl(a),u=-1,l=o.length;++u<l;){var s=o[u],f=e[s];(f===ne||Gu(f,ff[s])&&!hf.call(e,s))&&(e[s]=a[s])}return e}),Ld=Jr(function(e){return e.push(ne,oa),a(Id,ne,e)}),Od=qi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=gf.call(t)),e[t]=n},ws(Rs)),Cd=qi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=gf.call(t)),hf.call(e,t)?e[t].push(n):e[t]=[n]},ga),Dd=Jr(kr),Pd=Fi(function(e,t,n){Gr(e,t,n)}),Id=Fi(function(e,t,n,r){Gr(e,t,n,r)}),Md=ca(function(e,t){var n={};if(null==e)return n;var r=!1;t=h(t,function(t){return t=_i(t,e),r||(r=t.length>1),t}),Pi(e,ha(e),n),r&&(n=er(n,se|fe|ce,ua));for(var i=t.length;i--;)di(n,t[i]);return n}),Nd=ca(function(e,t){return null==e?{}:Hr(e,t)}),Fd=ra(Nl),Ud=ra(Fl),Bd=zi(function(e,t,n){return t=t.toLowerCase(),e+(n?es(t):t)}),jd=zi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gd=zi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),zd=Gi("toLowerCase"),Wd=zi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Vd=zi(function(e,t,n){return e+(n?" ":"")+Kd(t)}),Hd=zi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Kd=Gi("toUpperCase"),Yd=Jr(function(e,t){try{return a(e,ne,t)}catch(e){return Xu(e)?e:new ef(e)}}),qd=ca(function(e,t){return u(t,function(t){t=qa(t),Qn(e,t,nd(e[t],e))}),e}),Xd=Ki(),$d=Ki(!0),Qd=Jr(function(e,t){return function(n){return kr(n,e,t)}}),Zd=Jr(function(e,t){return function(n){return kr(e,n,t)}}),Jd=$i(h),eh=$i(s),th=$i(y),nh=Ji(),rh=Ji(!0),ih=Xi(function(e,t){return e+t},0),ah=na("ceil"),oh=Xi(function(e,t){return e/t},1),uh=na("floor"),lh=Xi(function(e,t){return e*t},1),sh=na("round"),fh=Xi(function(e,t){return e-t},0);return n.after=_u,n.ary=Eu,n.assign=Td,n.assignIn=wd,n.assignInWith=Sd,n.assignWith=Rd,n.at=xd,n.before=ku,n.bind=nd,n.bindAll=qd,n.bindKey=rd,n.castArray=Mu,n.chain=Ko,n.chunk=Za,n.compact=Ja,n.concat=eo,n.cond=ks,n.conforms=Ts,n.constant=ws,n.countBy=Yc,n.create=wl,n.curry=Tu,n.curryRight=wu,n.debounce=Su,n.defaults=Ad,n.defaultsDeep=Ld,n.defer=id,n.delay=ad,n.difference=Lc,n.differenceBy=Oc,n.differenceWith=Cc,n.drop=to,n.dropRight=no,n.dropRightWhile=ro,n.dropWhile=io,n.fill=ao,n.filter=ru,n.flatMap=iu,n.flatMapDeep=au,n.flatMapDepth=ou,n.flatten=lo,n.flattenDeep=so,n.flattenDepth=fo,n.flip=Ru,n.flow=Xd,n.flowRight=$d,n.fromPairs=co,n.functions=Cl,n.functionsIn=Dl,n.groupBy=$c,n.initial=vo,n.intersection=Dc,n.intersectionBy=Pc,n.intersectionWith=Ic,n.invert=Od,n.invertBy=Cd,n.invokeMap=Qc,n.iteratee=xs,n.keyBy=Zc,n.keys=Nl,n.keysIn=Fl,n.map=fu,n.mapKeys=Ul,n.mapValues=Bl,n.matches=As,n.matchesProperty=Ls,n.memoize=xu,n.merge=Pd,n.mergeWith=Id,n.method=Qd,n.methodOf=Zd,n.mixin=Os,n.negate=Au,n.nthArg=Ps,n.omit=Md,n.omitBy=jl,n.once=Lu,n.orderBy=cu,n.over=Jd,n.overArgs=od,n.overEvery=eh,n.overSome=th,n.partial=ud,n.partialRight=ld,n.partition=Jc,n.pick=Nd,n.pickBy=Gl,n.property=Is,n.propertyOf=Ms,n.pull=Mc,n.pullAll=_o,n.pullAllBy=Eo,n.pullAllWith=ko,n.pullAt=Nc,n.range=nh,n.rangeRight=rh,n.rearg=sd,n.reject=pu,n.remove=To,n.rest=Ou,n.reverse=wo,n.sampleSize=gu,n.set=Wl,n.setWith=Vl,n.shuffle=yu,n.slice=So,n.sortBy=ed,n.sortedUniq=Do,n.sortedUniqBy=Po,n.split=cs,n.spread=Cu,n.tail=Io,n.take=Mo,n.takeRight=No,n.takeRightWhile=Fo,n.takeWhile=Uo,n.tap=Yo,n.throttle=Du,n.thru=qo,n.toArray=gl,n.toPairs=Fd,n.toPairsIn=Ud,n.toPath=zs,n.toPlainObject=El,n.transform=Hl,n.unary=Pu,n.union=Fc,n.unionBy=Uc,n.unionWith=Bc,n.uniq=Bo,n.uniqBy=jo,n.uniqWith=Go,n.unset=Kl,n.unzip=zo,n.unzipWith=Wo,n.update=Yl,n.updateWith=ql,n.values=Xl,n.valuesIn=$l,n.without=jc,n.words=Es,n.wrap=Iu,n.xor=Gc,n.xorBy=zc,n.xorWith=Wc,n.zip=Vc,n.zipObject=Vo,n.zipObjectDeep=Ho,n.zipWith=Hc,n.entries=Fd,n.entriesIn=Ud,n.extend=wd,n.extendWith=Sd,Os(n,n),n.add=ih,n.attempt=Yd,n.camelCase=Bd,n.capitalize=es,n.ceil=ah,n.clamp=Ql,n.clone=Nu,n.cloneDeep=Uu,n.cloneDeepWith=Bu,n.cloneWith=Fu,n.conformsTo=ju,n.deburr=ts,n.defaultTo=Ss,n.divide=oh,n.endsWith=ns,n.eq=Gu,n.escape=rs,n.escapeRegExp=is,n.every=nu,n.find=qc,n.findIndex=oo,n.findKey=Sl,n.findLast=Xc,n.findLastIndex=uo,n.findLastKey=Rl,n.floor=uh,n.forEach=uu,n.forEachRight=lu,n.forIn=xl,n.forInRight=Al,n.forOwn=Ll,n.forOwnRight=Ol,n.get=Pl,n.gt=fd,n.gte=cd,n.has=Il,n.hasIn=Ml,n.head=ho,n.identity=Rs,n.includes=su,n.indexOf=po,n.inRange=Zl,n.invoke=Dd,n.isArguments=dd,n.isArray=hd,n.isArrayBuffer=pd,n.isArrayLike=zu,n.isArrayLikeObject=Wu,n.isBoolean=Vu,n.isBuffer=vd,n.isDate=gd,n.isElement=Hu,n.isEmpty=Ku,n.isEqual=Yu,n.isEqualWith=qu,n.isError=Xu,n.isFinite=$u,n.isFunction=Qu,n.isInteger=Zu,n.isLength=Ju,n.isMap=yd,n.isMatch=nl,n.isMatchWith=rl,n.isNaN=il,n.isNative=al,n.isNil=ul,n.isNull=ol,n.isNumber=ll,n.isObject=el,n.isObjectLike=tl,n.isPlainObject=sl,n.isRegExp=md,n.isSafeInteger=fl,n.isSet=bd,n.isString=cl,n.isSymbol=dl,n.isTypedArray=_d,n.isUndefined=hl,n.isWeakMap=pl,n.isWeakSet=vl,n.join=go,n.kebabCase=jd,n.last=yo,n.lastIndexOf=mo,n.lowerCase=Gd,n.lowerFirst=zd,n.lt=Ed,n.lte=kd,n.max=Vs,n.maxBy=Hs,n.mean=Ks,n.meanBy=Ys,n.min=qs,n.minBy=Xs,n.stubArray=Ns,n.stubFalse=Fs,n.stubObject=Us,n.stubString=Bs,n.stubTrue=js,n.multiply=lh,n.nth=bo,n.noConflict=Cs,n.noop=Ds,n.now=td,n.pad=as,n.padEnd=os,n.padStart=us,n.parseInt=ls,n.random=Jl,n.reduce=du,n.reduceRight=hu,n.repeat=ss,n.replace=fs,n.result=zl,n.round=sh,n.runInContext=e,n.sample=vu,n.size=mu,n.snakeCase=Wd,n.some=bu,n.sortedIndex=Ro,n.sortedIndexBy=xo,n.sortedIndexOf=Ao,n.sortedLastIndex=Lo,n.sortedLastIndexBy=Oo,n.sortedLastIndexOf=Co,n.startCase=Vd,n.startsWith=ds,n.subtract=fh,n.sum=$s,n.sumBy=Qs,n.template=hs,n.times=Gs,n.toFinite=yl,n.toInteger=ml,n.toLength=bl,n.toLower=ps,n.toNumber=_l,n.toSafeInteger=kl,n.toString=Tl,n.toUpper=vs,n.trim=gs,n.trimEnd=ys,n.trimStart=ms,n.truncate=bs,n.unescape=_s,n.uniqueId=Ws,n.upperCase=Hd,n.upperFirst=Kd,n.each=uu,n.eachRight=lu,n.first=ho,Os(n,function(){var e={};return fr(n,function(t,r){hf.call(n.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),n.VERSION="4.17.11",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),u(["drop","take"],function(e,t){m.prototype[e]=function(n){n=n===ne?1:zf(ml(n),0);var r=this.__filtered__&&!t?new m(this):this.clone();return r.__filtered__?r.__takeCount__=Wf(n,r.__takeCount__):r.__views__.push({size:Wf(n,Ie),type:e+(0>r.__dir__?"Right":"")}),r},m.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Ae||3==n;m.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ga(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");m.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");m.prototype[e]=function(){return this.__filtered__?new m(this):this[n](1)}}),m.prototype.compact=function(){return this.filter(Rs)},m.prototype.find=function(e){return this.filter(e).head()},m.prototype.findLast=function(e){return this.reverse().find(e)},m.prototype.invokeMap=Jr(function(e,t){return"function"==typeof e?new m(this):this.map(function(n){return kr(n,e,t)})}),m.prototype.reject=function(e){return this.filter(Au(ga(e)))},m.prototype.slice=function(e,t){e=ml(e);var n=this;return n.__filtered__&&(e>0||0>t)?new m(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ne&&(t=ml(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},m.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},m.prototype.toArray=function(){return this.take(Ie)},fr(m.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),o=n[a?"take"+("last"==t?"Right":""):t],u=a||/^find/.test(t);o&&(n.prototype[t]=function(){var t=this.__wrapped__,l=a?[1]:arguments,s=t instanceof m,f=l[0],c=s||hd(t),d=function(e){var t=o.apply(n,p([e],l));return a&&h?t[0]:t};c&&r&&"function"==typeof f&&1!=f.length&&(s=c=!1);var h=this.__chain__,v=!!this.__actions__.length,g=u&&!h,y=s&&!v;if(!u&&c){t=y?t:new m(this);var b=e.apply(t,l);return b.__actions__.push({func:qo,args:[d],thisArg:ne}),new i(b,h)}return g&&y?e.apply(this,l):(b=this.thru(d),g?a?b.value()[0]:b.value():b)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var t=lf[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(hd(n)?n:[],e)}return this[r](function(n){return t.apply(hd(n)?n:[],e)})}}),fr(m.prototype,function(e,t){var r=n[t];if(r){var i=r.name+"";(tc[i]||(tc[i]=[])).push({name:t,func:r})}}),tc[Yi(ne,ve).name]=[{name:"wrapper",func:ne}],m.prototype.clone=x,m.prototype.reverse=X,m.prototype.value=J,n.prototype.at=Kc,n.prototype.chain=Xo,n.prototype.commit=$o,n.prototype.next=Qo,n.prototype.plant=Jo,n.prototype.reverse=eu,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=tu,n.prototype.first=n.prototype.head,Lf&&(n.prototype[Lf]=Zo),n}();bn._=Mn,(i=function(){return Mn}.call(t,n,t,r))!==ne&&(r.exports=i)}).call(this)}).call(t,n(6),n(18)(e))},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(14)},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]);n(17)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(11)(),t.push([e.i,"#container {\n  box-sizing: border-box;\n  width: 100%;\n  height: 600px;\n  padding: 30px;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.5); }\n\n.url-input-area {\n  margin: 0 0 20px; }\n  .url-input-area label {\n    display: block;\n    margin-bottom: 10px; }\n  .url-input-area input {\n    width: 100%;\n    height: 30px;\n    line-height: 30px;\n    font-size: 16px;\n    color: #333; }\n\n.destroy-btn {\n  padding: 5px 10px; }\n",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;this.length>t;t++){var n=this[t];e.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;this.length>i;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;t.length>i;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),s=r(l),f=n(8),c=r(f),d=n(7),h=r(d),p=n(1),v=r(p);n(9);var g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hlsUrl:"http://www.streambox.fr/playlists/x36xhzz/x36xhzz.m3u8",destroy:!1},n._handleInputBlur=n._handleInputBlur.bind(n),n._handleEnter=n._handleEnter.bind(n),n._handleDestroyClick=n._handleDestroyClick.bind(n),n}return o(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!h.default.isEqual(t,this.state)||!h.default.isEqual(e,this.props)}},{key:"_handleInputBlur",value:function(e){this.setState({hlsUrl:e.target.value})}},{key:"_handleEnter",value:function(e){13===e.keyCode&&this.setState({hlsUrl:e.target.value})}},{key:"_handleDestroyClick",value:function(){this.setState({destroy:!0})}},{key:"render",value:function(){var e=this.state,t=e.hlsUrl,n=e.destroy;return s.default.createElement("div",null,s.default.createElement("div",{className:"url-input-area"},s.default.createElement("label",null,"hsl url : "),s.default.createElement("input",{type:"text",defaultValue:t,onBlur:this._handleInputBlur,onKeyUp:this._handleEnter})),n?null:s.default.createElement(v.default,{url:t,videoProps:{loop:!0}}),s.default.createElement("br",null),s.default.createElement("button",{className:"destroy-btn",onClick:this._handleDestroyClick},"Destroy Video"))}}]),t}(s.default.Component);c.default.render(s.default.createElement(g,null),document.getElementById("container"))},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,l=r(e),s=1;arguments.length>s;s++){n=Object(arguments[s]);for(var f in n)a.call(n,f)&&(l[f]=n[f]);if(i){u=i(n);for(var c=0;u.length>c;c++)o.call(n,u[c])&&(l[u[c]]=n[u[c]])}}return l}},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o,u){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,u],s=0;e=Error(t.replace(/%s/g,function(){return l[s++]})),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;t>i;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function a(e,t,n,r,i,a,o,u,l){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(e){this.onError(e)}}function o(e,t,n,r,i,o,u,l,s){si=!1,fi=null,a.apply(hi,arguments)}function u(e,t,n,r,a,u,l,s,f){if(o.apply(this,arguments),si){if(si){var c=fi;si=!1,fi=null}else i("198"),c=void 0;ci||(ci=!0,di=c)}}function l(){if(pi)for(var e in vi){var t=vi[e],n=pi.indexOf(e);if(n>-1||i("96",e),!gi[n]){t.extractEvents||i("97",e),gi[n]=t,n=t.eventTypes;for(var r in n){var a=void 0,o=n[r],u=t,l=r;yi.hasOwnProperty(l)&&i("99",l),yi[l]=o;var f=o.phasedRegistrationNames;if(f){for(a in f)f.hasOwnProperty(a)&&s(f[a],u,l);a=!0}else o.registrationName?(s(o.registrationName,u,l),a=!0):a=!1;a||i("98",r,e)}}}}function s(e,t,n){mi[e]&&i("100",e),mi[e]=t,bi[e]=t.eventTypes[n].dependencies}function f(e,t,n){var r=e.type||"unknown-event";e.currentTarget=ki(n),u(r,t,void 0,e),e.currentTarget=null}function c(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function d(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function h(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;t.length>r&&!e.isPropagationStopped();r++)f(e,t[r],n[r]);else t&&f(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function p(e,t){var n=e.stateNode;if(!n)return null;var r=_i(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&i("231",t,typeof n),n)}function v(e){if(null!==e&&(Ti=c(Ti,e)),e=Ti,Ti=null,e&&(d(e,h),Ti&&i("95"),ci))throw e=di,ci=!1,di=null,e}function g(e){if(e[Ri])return e[Ri];for(;!e[Ri];){if(!e.parentNode)return null;e=e.parentNode}return e=e[Ri],5===e.tag||6===e.tag?e:null}function y(e){return e=e[Ri],!e||5!==e.tag&&6!==e.tag?null:e}function m(e){if(5===e.tag||6===e.tag)return e.stateNode;i("33")}function b(e){return e[xi]||null}function _(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function E(e,t,n){(t=p(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=c(n._dispatchListeners,t),n._dispatchInstances=c(n._dispatchInstances,e))}function k(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=_(t);for(t=n.length;t-- >0;)E(n[t],"captured",e);for(t=0;n.length>t;t++)E(n[t],"bubbled",e)}}function T(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=p(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=c(n._dispatchListeners,t),n._dispatchInstances=c(n._dispatchInstances,e))}function w(e){e&&e.dispatchConfig.registrationName&&T(e._targetInst,null,e)}function S(e){d(e,k)}function R(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function x(e){if(Oi[e])return Oi[e];if(!Li[e])return e;var t,n=Li[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ci)return Oi[e]=n[t];return e}function A(){if(Bi)return Bi;var e,t,n=Ui,r=n.length,i="value"in Fi?Fi.value:Fi.textContent,a=i.length;for(e=0;r>e&&n[e]===i[e];e++);var o=r-e;for(t=1;o>=t&&n[r-t]===i[a-t];t++);return Bi=i.slice(e,t>1?1-t:void 0)}function L(){return!0}function O(){return!1}function C(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?L:O,this.isPropagationStopped=O,this}function D(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function P(e){e instanceof this||i("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function I(e){e.eventPool=[],e.getPooled=D,e.release=P}function M(e,t){switch(e){case"keyup":return-1!==zi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function N(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function F(e,t){switch(e){case"compositionend":return N(t);case"keypress":return 32!==t.which?null:(Xi=!0,Yi);case"textInput":return e=t.data,e===Yi&&Xi?null:e;default:return null}}function U(e,t){if($i)return"compositionend"===e||!Wi&&M(e,t)?(e=A(),Bi=Ui=Fi=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ki&&"ko"!==t.locale?null:t.data;default:return null}}function B(e){if(e=Ei(e)){"function"!=typeof Zi&&i("280");var t=_i(e.stateNode);Zi(e.stateNode,e.type,t)}}function j(e){Ji?ea?ea.push(e):ea=[e]:Ji=e}function G(){if(Ji){var e=Ji,t=ea;if(ea=Ji=null,B(e),t)for(e=0;t.length>e;e++)B(t[e])}}function z(e,t){return e(t)}function W(e,t,n){return e(t,n)}function V(){}function H(e,t){if(ta)return e(t);ta=!0;try{return z(e,t)}finally{ta=!1,(null!==Ji||null!==ea)&&(V(),G())}}function K(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!na[e.type]:"textarea"===t}function Y(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function q(e){if(!Ai)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Q(e){e._valueTracker||(e._valueTracker=$(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){return null===e||"object"!=typeof e?null:(e=ma&&e[ma]||e["@@iterator"],"function"==typeof e?e:null)}function ee(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ha:return"ConcurrentMode";case la:return"Fragment";case ua:return"Portal";case fa:return"Profiler";case sa:return"StrictMode";case va:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case da:return"Context.Consumer";case ca:return"Context.Provider";case pa:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ga:return ee(e.type);case ya:if(e=1===e._status?e._result:null)return ee(e)}return null}function te(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ee(e.type);n=null,r&&(n=ee(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(ia,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ne(e){return!!_a.call(ka,e)||!_a.call(Ea,e)&&(ba.test(e)?ka[e]=!0:(Ea[e]=!0,!1))}function re(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function ie(e,t,n,r){if(null===t||void 0===t||re(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ae(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}function oe(e){return e[1].toUpperCase()}function ue(e,t,n,r){var i=Ta.hasOwnProperty(t)?Ta[t]:null;(null!==i?0===i.type:!r&&!(t.length<=2||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))||(ie(t,n,i,r)&&(n=null),r||null===i?ne(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function le(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function se(e,t){var n=t.checked;return ui({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function fe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=le(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ce(e,t){null!=(t=t.checked)&&ue(e,"checked",t,!1)}function de(e,t){ce(e,t);var n=le(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&pe(e,t.type,le(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function he(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ve(e,t,n){return e=C.getPooled(Sa.change,e,t,n),e.type="change",j(n),S(e),e}function ge(e){v(e)}function ye(e){if(Z(m(e)))return e}function me(e,t){if("change"===e)return t}function be(){Ra&&(Ra.detachEvent("onpropertychange",_e),xa=Ra=null)}function _e(e){"value"===e.propertyName&&ye(xa)&&(e=ve(xa,e,Y(e)),H(ge,e))}function Ee(e,t,n){"focus"===e?(be(),Ra=t,xa=n,Ra.attachEvent("onpropertychange",_e)):"blur"===e&&be()}function ke(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ye(xa)}function Te(e,t){if("click"===e)return ye(t)}function we(e,t){if("input"===e||"change"===e)return ye(t)}function Se(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ca[e])&&!!t[e]}function Re(){return Se}function xe(e,t){return e===t&&(0!==e||1/e==1/t)||e!==e&&t!==t}function Ae(e,t){if(xe(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;n.length>r;r++)if(!ja.call(t,n[r])||!xe(e[n[r]],t[n[r]]))return!1;return!0}function Le(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!=(2&t.effectTag))return 1}return 3===t.tag?2:3}function Oe(e){2!==Le(e)&&i("188")}function Ce(e){var t=e.alternate;if(!t)return t=Le(e),3===t&&i("188"),1===t?null:e;for(var n=e,r=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var u=a.child;u;){if(u===n)return Oe(a),e;if(u===r)return Oe(a),t;u=u.sibling}i("188")}if(n.return!==r.return)n=a,r=o;else{u=!1;for(var l=a.child;l;){if(l===n){u=!0,n=a,r=o;break}if(l===r){u=!0,r=a,n=o;break}l=l.sibling}if(!u){for(l=o.child;l;){if(l===n){u=!0,n=o,r=a;break}if(l===r){u=!0,r=o,n=a;break}l=l.sibling}u||i("189")}}n.alternate!==r&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?e:t}function De(e){if(!(e=Ce(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Pe(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32>e&&13!==e?0:e}function Ie(e,t){var n=e[0];e=e[1];var r="on"+(e[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},Za[e]=t,Ja[n]=t}function Me(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=g(r)}while(n);for(n=0;e.ancestors.length>n;n++){t=e.ancestors[n];var i=Y(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=null,u=0;gi.length>u;u++){var l=gi[u];l&&(l=l.extractEvents(r,t,a,i))&&(o=c(o,l))}v(o)}}function Ne(e,t){if(!t)return null;t.addEventListener(e,(to(e)?Ue:Be).bind(null,e),!1)}function Fe(e,t){if(!t)return null;t.addEventListener(e,(to(e)?Ue:Be).bind(null,e),!0)}function Ue(e,t){W(Be,e,t)}function Be(e,t){if(ro){var n=Y(t);if(n=g(n),null===n||"number"!=typeof n.tag||2===Le(n)||(n=null),no.length){var r=no.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{H(Me,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>no.length&&no.push(e)}}}function je(e){return Object.prototype.hasOwnProperty.call(e,oo)||(e[oo]=ao++,io[e[oo]]={}),io[e[oo]]}function Ge(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ze(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function We(e,t){var n=ze(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,t>=e&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ze(n)}}function Ve(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ve(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function He(){for(var e=window,t=Ge();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=Ge(e.document)}return t}function Ke(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ye(){var e=He();if(Ke(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;var a=0,o=-1,u=-1,l=0,s=0,f=e,c=null;t:for(;;){for(var d;f!==t||0!==r&&3!==f.nodeType||(o=a+r),f!==i||0!==n&&3!==f.nodeType||(u=a+n),3===f.nodeType&&(a+=f.nodeValue.length),null!==(d=f.firstChild);)c=f,f=d;for(;;){if(f===e)break t;if(c===t&&++l===r&&(o=a),c===i&&++s===n&&(u=a),null!==(d=f.nextSibling))break;f=c,c=f.parentNode}f=d}t=-1===o||-1===u?null:{start:o,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}function qe(e){var t=He(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ve(n.ownerDocument.documentElement,n)){if(null!==r&&Ke(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=We(n,a);var o=We(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;t.length>n;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}function Xe(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ho||null==so||so!==Ge(n)?null:(n=so,"selectionStart"in n&&Ke(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),co&&Ae(co,n)?null:(co=n,e=C.getPooled(lo.select,fo,e,t),e.type="select",e.target=so,S(e),e))}function $e(e){var t="";return oi.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function Qe(e,t){return e=ui({children:void 0},t),(t=$e(t.children))&&(e.children=t),e}function Ze(e,t,n,r){if(e=e.options,t){t={};for(var i=0;n.length>i;i++)t["$"+n[i]]=!0;for(n=0;e.length>n;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+le(n),t=null,i=0;e.length>i;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Je(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),ui({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function et(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&i("92"),Array.isArray(t)&&(t.length>1&&i("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:le(n)}}function tt(e,t){var n=le(t.value),r=le(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function nt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function rt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function at(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ot(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||mo.hasOwnProperty(e)&&mo[e]?(""+t).trim():t+"px"}function ut(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ot(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function lt(e,t){t&&(_o[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&i("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&i("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||i("61")),null!=t.style&&"object"!=typeof t.style&&i("62",""))}function st(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ft(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=je(e);t=bi[t];for(var r=0;t.length>r;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Fe("scroll",e);break;case"focus":case"blur":Fe("focus",e),Fe("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":q(i)&&Fe(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===Ni.indexOf(i)&&Ne(i,e)}n[i]=!0}}}function ct(){}function dt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function ht(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function pt(e,t,n,r,i){e[xi]=i,"input"===n&&"radio"===i.type&&null!=i.name&&ce(e,i),st(n,r),r=st(n,i);for(var a=0;t.length>a;a+=2){var o=t[a],u=t[a+1];"style"===o?ut(e,u):"dangerouslySetInnerHTML"===o?yo(e,u):"children"===o?at(e,u):ue(e,o,u,r)}switch(n){case"input":de(e,i);break;case"textarea":tt(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Ze(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ze(e,!!i.multiple,i.defaultValue,!0):Ze(e,!!i.multiple,i.multiple?[]:"",!1))}}function vt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function gt(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function yt(e){0>Ao||(e.current=xo[Ao],xo[Ao]=null,Ao--)}function mt(e,t){Ao++,xo[Ao]=e.current,e.current=t}function bt(e,t){var n=e.type.contextTypes;if(!n)return Lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _t(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Et(e){yt(Co,e),yt(Oo,e)}function kt(e){yt(Co,e),yt(Oo,e)}function Tt(e,t,n){Oo.current!==Lo&&i("168"),mt(Oo,t,e),mt(Co,n,e)}function wt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;r=r.getChildContext();for(var a in r)a in e||i("108",ee(t)||"Unknown",a);return ui({},n,r)}function St(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Lo,Do=Oo.current,mt(Oo,t,e),mt(Co,Co.current,e),!0}function Rt(e,t,n){var r=e.stateNode;r||i("169"),n?(t=wt(e,t,Do),r.__reactInternalMemoizedMergedChildContext=t,yt(Co,e),yt(Oo,e),mt(Oo,t,e)):yt(Co,e),mt(Co,n,e)}function xt(e){return function(t){try{return e(t)}catch(e){}}}function At(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Po=xt(function(e){return t.onCommitFiberRoot(n,e)}),Io=xt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function Lt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ot(e,t,n,r){return new Lt(e,t,n,r)}function Ct(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dt(e){if("function"==typeof e)return Ct(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===pa)return 11;if(e===ga)return 14}return 2}function Pt(e,t){var n=e.alternate;return null===n?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function It(e,t,n,r,a,o){var u=2;if(r=e,"function"==typeof e)Ct(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case la:return Mt(n.children,a,o,t);case ha:return Nt(n,3|a,o,t);case sa:return Nt(n,2|a,o,t);case fa:return e=Ot(12,n,t,4|a),e.elementType=fa,e.type=fa,e.expirationTime=o,e;case va:return e=Ot(13,n,t,a),e.elementType=va,e.type=va,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ca:u=10;break e;case da:u=9;break e;case pa:u=11;break e;case ga:u=14;break e;case ya:u=16,r=null;break e}i("130",null==e?e:typeof e,"")}return t=Ot(u,n,t,a),t.elementType=e,t.type=r,t.expirationTime=o,t}function Mt(e,t,n,r){return e=Ot(7,e,r,t),e.expirationTime=n,e}function Nt(e,t,n,r){return e=Ot(8,e,r,t),t=0==(1&t)?sa:ha,e.elementType=t,e.type=t,e.expirationTime=n,e}function Ft(e,t,n){return e=Ot(6,e,null,t),e.expirationTime=n,e}function Ut(e,t,n){return t=Ot(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bt(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:t>n?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Wt(t,e)}function jt(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{e.latestPingedTime>t&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),n=e.earliestSuspendedTime,0===n?Bt(e,t):e.latestSuspendedTime>t?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Bt(e,t)):t>n&&Bt(e,t)}Wt(0,e)}function Gt(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:t>n?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),Wt(t,e)}function zt(e,t){var n=e.earliestPendingTime;return e=e.earliestSuspendedTime,n>t&&(t=n),e>t&&(t=e),t}function Wt(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,a=t.latestPingedTime;i=0!==i?i:a,0===i&&(0===e||e>r)&&(i=r),e=i,0!==e&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function Vt(e,t){if(e&&e.defaultProps){t=ui({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function Ht(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,t=e._ctor,t=t(),t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}function Kt(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:ui({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}function Yt(e,t,n,r,i,a,o){return e=e.stateNode,"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ae(n,r)||!Ae(i,a))}function qt(e,t,n){var r=!1,i=Lo,a=t.contextType;return"object"==typeof a&&null!==a?a=Gn(a):(i=_t(t)?Do:Oo.current,r=t.contextTypes,a=(r=null!==r&&void 0!==r)?bt(e,i):Lo),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=No,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function $t(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Mo;var a=t.contextType;"object"==typeof a&&null!==a?i.context=Gn(a):(a=_t(t)?Do:Oo.current,i.context=bt(e,a)),a=e.updateQueue,null!==a&&($n(e,a,n,i,r),i.state=e.memoizedState),a=t.getDerivedStateFromProps,"function"==typeof a&&(Kt(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&No.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&($n(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function Qt(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&i("309"),r=n.stateNode),r||i("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Mo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}"string"!=typeof e&&i("284"),n._owner||i("290",e)}return e}function Zt(e,t){"textarea"!==e.type&&i("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Jt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return e=Pt(e,t,n),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,n>r?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=Ft(n,e.mode,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?(r=a(t,n.props,r),r.ref=Qt(e,t,n),r.return=e,r):(r=It(n.type,n.key,n.props,null,e.mode,r),r.ref=Qt(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ut(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[],r),t.return=e,t)}function c(e,t,n,r,i){return null===t||7!==t.tag?(t=Mt(n,e.mode,r,i),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return t=Ft(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case oa:return n=It(t.type,t.key,t.props,null,e.mode,n),n.ref=Qt(e,null,t),n.return=e,n;case ua:return t=Ut(t,e.mode,n),t.return=e,t}if(Fo(t)||J(t))return t=Mt(t,e.mode,n,null),t.return=e,t;Zt(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case oa:return n.key===i?n.type===la?c(e,t,n.props.children,r,i):s(e,t,n,r):null;case ua:return n.key===i?f(e,t,n,r):null}if(Fo(n)||J(n))return null!==i?null:c(e,t,n,r,null);Zt(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,l(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case oa:return e=e.get(null===r.key?n:r.key)||null,r.type===la?c(t,e,r.props.children,i,r.key):s(t,e,r,i);case ua:return e=e.get(null===r.key?n:r.key)||null,f(t,e,r,i)}if(Fo(r)||J(r))return e=e.get(n)||null,c(t,e,r,i,null);Zt(t,r)}return null}function v(i,a,u,l){for(var s=null,f=null,c=a,v=a=0,g=null;null!==c&&u.length>v;v++){c.index>v?(g=c,c=null):g=c.sibling;var y=h(i,c,u[v],l);if(null===y){null===c&&(c=g);break}e&&c&&null===y.alternate&&t(i,c),a=o(y,a,v),null===f?s=y:f.sibling=y,f=y,c=g}if(v===u.length)return n(i,c),s;if(null===c){for(;u.length>v;v++)(c=d(i,u[v],l))&&(a=o(c,a,v),null===f?s=c:f.sibling=c,f=c);return s}for(c=r(i,c);u.length>v;v++)(g=p(c,i,v,u[v],l))&&(e&&null!==g.alternate&&c.delete(null===g.key?v:g.key),a=o(g,a,v),null===f?s=g:f.sibling=g,f=g);return e&&c.forEach(function(e){return t(i,e)}),s}function g(a,u,l,s){var f=J(l);"function"!=typeof f&&i("150"),null==(l=f.call(l))&&i("151");for(var c=f=null,v=u,g=u=0,y=null,m=l.next();null!==v&&!m.done;g++,m=l.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=h(a,v,m.value,s);if(null===b){v||(v=y);break}e&&v&&null===b.alternate&&t(a,v),u=o(b,u,g),null===c?f=b:c.sibling=b,c=b,v=y}if(m.done)return n(a,v),f;if(null===v){for(;!m.done;g++,m=l.next())null!==(m=d(a,m.value,s))&&(u=o(m,u,g),null===c?f=m:c.sibling=m,c=m);return f}for(v=r(a,v);!m.done;g++,m=l.next())null!==(m=p(v,a,g,m.value,s))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),u=o(m,u,g),null===c?f=m:c.sibling=m,c=m);return e&&v.forEach(function(e){return t(a,e)}),f}return function(e,r,o,l){var s="object"==typeof o&&null!==o&&o.type===la&&null===o.key;s&&(o=o.props.children);var f="object"==typeof o&&null!==o;if(f)switch(o.$$typeof){case oa:e:{for(f=o.key,s=r;null!==s;){if(s.key===f){if(7===s.tag?o.type===la:s.elementType===o.type){n(e,s.sibling),r=a(s,o.type===la?o.props.children:o.props,l),r.ref=Qt(e,s,o),r.return=e,e=r;break e}n(e,s);break}t(e,s),s=s.sibling}o.type===la?(r=Mt(o.props.children,e.mode,l,o.key),r.return=e,e=r):(l=It(o.type,o.key,o.props,null,e.mode,l),l.ref=Qt(e,r,o),l.return=e,e=l)}return u(e);case ua:e:{for(s=o.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),r=a(r,o.children||[],l),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=Ut(o,e.mode,l),r.return=e,e=r}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),r=a(r,o,l),r.return=e,e=r):(n(e,r),r=Ft(o,e.mode,l),r.return=e,e=r),u(e);if(Fo(o))return v(e,r,o,l);if(J(o))return g(e,r,o,l);if(f&&Zt(e,o),void 0===o&&!s)switch(e.tag){case 1:case 0:l=e.type,i("152",l.displayName||l.name||"Component")}return n(e,r)}}function en(e){return e===jo&&i("174"),e}function tn(e,t){mt(Wo,t,e),mt(zo,e,e),mt(Go,jo,e);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:it(null,"");break;default:n=8===n?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=it(t,n)}yt(Go,e),mt(Go,t,e)}function nn(e){yt(Go,e),yt(zo,e),yt(Wo,e)}function rn(e){en(Wo.current);var t=en(Go.current),n=it(t,e.type);t!==n&&(mt(zo,e,e),mt(Go,n,e))}function an(e){zo.current===e&&(yt(Go,e),yt(zo,e))}function on(){i("321")}function un(e,t){if(null===t)return!1;for(var n=0;t.length>n&&e.length>n;n++)if(!xe(e[n],t[n]))return!1;return!0}function ln(e,t,n,r,a,o){if(Jo=o,eu=t,nu=null!==e?e.memoizedState:null,Zo.current=null===nu?hu:pu,t=n(r,a),su){do{su=!1,cu+=1,nu=null!==e?e.memoizedState:null,au=ru,uu=iu=tu=null,Zo.current=pu,t=n(r,a)}while(su);fu=null,cu=0}return Zo.current=du,e=eu,e.memoizedState=ru,e.expirationTime=ou,e.updateQueue=uu,e.effectTag|=lu,e=null!==tu&&null!==tu.next,Jo=0,au=iu=ru=nu=tu=eu=null,ou=0,uu=null,lu=0,e&&i("300"),t}function sn(){Zo.current=du,Jo=0,au=iu=ru=nu=tu=eu=null,ou=0,uu=null,lu=0,su=!1,fu=null,cu=0}function fn(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===iu?ru=iu=e:iu=iu.next=e,iu}function cn(){if(null!==au)iu=au,au=iu.next,tu=nu,nu=null!==tu?tu.next:null;else{null===nu&&i("310"),tu=nu;var e={memoizedState:tu.memoizedState,baseState:tu.baseState,queue:tu.queue,baseUpdate:tu.baseUpdate,next:null};iu=null===iu?ru=e:iu.next=e,nu=tu.next}return iu}function dn(e,t){return"function"==typeof t?t(e):t}function hn(e){var t=cn(),n=t.queue;if(null===n&&i("311"),n.lastRenderedReducer=e,cu>0){var r=n.dispatch;if(null!==fu){var a=fu.get(n);if(void 0!==a){fu.delete(n);var o=t.memoizedState;do{o=e(o,a.action),a=a.next}while(null!==a);return xe(o,t.memoizedState)||(bu=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var u=t.baseUpdate;if(o=t.baseState,null!==u?(null!==r&&(r.next=null),r=u.next):r=null!==r?r.next:null,null!==r){var l=a=null,s=r,f=!1;do{var c=s.expirationTime;Jo>c?(f||(f=!0,l=u,a=o),c>ou&&(ou=c)):o=s.eagerReducer===e?s.eagerState:e(o,s.action),u=s,s=s.next}while(null!==s&&s!==r);f||(l=u,a=o),xe(o,t.memoizedState)||(bu=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=a,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function pn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===uu?(uu={lastEffect:null},uu.lastEffect=e.next=e):(t=uu.lastEffect,null===t?uu.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,uu.lastEffect=e)),e}function vn(e,t,n,r){var i=fn();lu|=e,i.memoizedState=pn(t,n,void 0,void 0===r?null:r)}function gn(e,t,n,r){var i=cn();r=void 0===r?null:r;var a=void 0;if(null!==tu){var o=tu.memoizedState;if(a=o.destroy,null!==r&&un(r,o.deps))return void pn(Vo,n,a,r)}lu|=e,i.memoizedState=pn(t,n,a,r)}function yn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function mn(){}function bn(e,t,n){25>cu||i("301");var r=e.alternate;if(e===eu||null!==r&&r===eu)if(su=!0,e={expirationTime:Jo,action:n,eagerReducer:null,eagerState:null,next:null},null===fu&&(fu=new Map),void 0===(n=fu.get(t)))fu.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{mr();var a=Mr();a=wr(a,e);var o={expirationTime:a,action:n,eagerReducer:null,eagerState:null,next:null},u=t.last;if(null===u)o.next=o;else{var l=u.next;null!==l&&(o.next=l),u.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,f=r(s,n);if(o.eagerReducer=r,o.eagerState=f,xe(f,s))return}catch(e){}Ar(e,a)}}function _n(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function En(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function kn(e){if(yu){var t=gu;if(t){var n=t;if(!En(e,t)){if(!(t=vt(n))||!En(e,t))return e.effectTag|=2,yu=!1,void(vu=e);_n(vu,n)}vu=e,gu=gt(t)}else e.effectTag|=2,yu=!1,vu=e}}function Tn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;vu=e}function wn(e){if(e!==vu)return!1;if(!yu)return Tn(e),yu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!ht(t,e.memoizedProps))for(t=gu;t;)_n(e,t),t=vt(t);return Tn(e),gu=vu?vt(e.stateNode):null,!0}function Sn(){gu=vu=null,yu=!1}function Rn(e,t,n,r){t.child=null===e?Bo(t,null,n,r):Uo(t,e.child,n,r)}function xn(e,t,n,r,i){n=n.render;var a=t.ref;return jn(t,i),r=ln(e,t,n,r,a,i),null===e||bu?(t.effectTag|=1,Rn(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,i>=e.expirationTime&&(e.expirationTime=0),Nn(e,t,i))}function An(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||Ct(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=It(n.type,null,r,null,t.mode,a),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ln(e,t,o,r,i,a))}return o=e.child,a>i&&(i=o.memoizedProps,n=n.compare,(n=null!==n?n:Ae)(i,r)&&e.ref===t.ref)?Nn(e,t,a):(t.effectTag|=1,e=Pt(o,r,a),e.ref=t.ref,e.return=t,t.child=e)}function Ln(e,t,n,r,i,a){return null!==e&&Ae(e.memoizedProps,r)&&e.ref===t.ref&&(bu=!1,a>i)?Nn(e,t,a):Cn(e,t,n,r,a)}function On(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Cn(e,t,n,r,i){var a=_t(n)?Do:Oo.current;return a=bt(t,a),jn(t,i),n=ln(e,t,n,r,a,i),null===e||bu?(t.effectTag|=1,Rn(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,i>=e.expirationTime&&(e.expirationTime=0),Nn(e,t,i))}function Dn(e,t,n,r,i){if(_t(n)){var a=!0;St(t)}else a=!1;if(jn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qt(t,n,r,i),$t(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var l=o.context,s=n.contextType;"object"==typeof s&&null!==s?s=Gn(s):(s=_t(n)?Do:Oo.current,s=bt(t,s));var f=n.getDerivedStateFromProps,c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate;c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||l!==s)&&Xt(t,o,r,s),Au=!1;var d=t.memoizedState;l=o.state=d;var h=t.updateQueue;null!==h&&($n(t,h,r,o,i),l=t.memoizedState),u!==r||d!==l||Co.current||Au?("function"==typeof f&&(Kt(t,n,f,r),l=t.memoizedState),(u=Au||Yt(t,n,u,r,d,l,s))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=s,r=u):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,u=t.memoizedProps,o.props=t.type===t.elementType?u:Vt(t.type,u),l=o.context,s=n.contextType,"object"==typeof s&&null!==s?s=Gn(s):(s=_t(n)?Do:Oo.current,s=bt(t,s)),f=n.getDerivedStateFromProps,(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(u!==r||l!==s)&&Xt(t,o,r,s),Au=!1,l=t.memoizedState,d=o.state=l,h=t.updateQueue,null!==h&&($n(t,h,r,o,i),d=t.memoizedState),u!==r||l!==d||Co.current||Au?("function"==typeof f&&(Kt(t,n,f,r),d=t.memoizedState),(f=Au||Yt(t,n,u,r,l,d,s))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,s)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=s,r=f):("function"!=typeof o.componentDidUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Pn(e,t,n,r,a,i)}function Pn(e,t,n,r,i,a){On(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Rt(t,n,!1),Nn(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Uo(t,e.child,null,a),t.child=Uo(t,null,u,a)):Rn(e,t,u,a),t.memoizedState=r.state,i&&Rt(t,n,!0),t.child}function In(e){var t=e.stateNode;t.pendingContext?Tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tt(e,t.context,!1),tn(e,t.containerInfo)}function Mn(e,t,n){var r=t.mode,i=t.pendingProps,a=t.memoizedState;if(0==(64&t.effectTag)){a=null;var o=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var u=i.fallback;e=Mt(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Mt(u,r,n,null),e.sibling=r,n=e,n.return=r.return=t}else n=r=Bo(t,null,i.children,n);else null!==e.memoizedState?(r=e.child,u=r.sibling,o?(n=i.fallback,i=Pt(r,r.pendingProps,0),0==(1&t.mode)&&(o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=o),r=i.sibling=Pt(u,n,u.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=Uo(t,r.child,i.children,n)):(u=e.child,o?(o=i.fallback,i=Mt(null,r,0,null),i.child=u,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),r=i.sibling=Mt(o,r,n,null),r.effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=Uo(t,u,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,r}function Nn(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),n>t.childExpirationTime)return null;if(null!==e&&t.child!==e.child&&i("153"),null!==t.child){for(e=t.child,n=Pt(e,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Pt(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function Fn(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Co.current)bu=!0;else if(n>r){switch(bu=!1,t.tag){case 3:In(t),Sn();break;case 5:rn(t);break;case 1:_t(t.type)&&St(t);break;case 4:tn(t,t.stateNode.containerInfo);break;case 10:Un(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0===(r=t.child.childExpirationTime)||n>r?(t=Nn(e,t,n),null!==t?t.sibling:null):Mn(e,t,n)}return Nn(e,t,n)}}else bu=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var a=bt(t,Oo.current);if(jn(t,n),a=ln(null,t,r,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,sn(),_t(r)){var o=!0;St(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var u=r.getDerivedStateFromProps;"function"==typeof u&&Kt(t,r,u,e),a.updater=No,t.stateNode=a,a._reactInternalFiber=t,$t(t,r,e,n),t=Pn(null,t,r,!0,o,n)}else t.tag=0,Rn(null,t,a,n),t=t.child;return t;case 16:switch(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=Ht(a),t.type=e,a=t.tag=Dt(e),o=Vt(e,o),u=void 0,a){case 0:u=Cn(null,t,e,o,n);break;case 1:u=Dn(null,t,e,o,n);break;case 11:u=xn(null,t,e,o,n);break;case 14:u=An(null,t,e,Vt(e.type,o),r,n);break;default:i("306",e,"")}return u;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),Cn(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),Dn(e,t,r,a,n);case 3:return In(t),r=t.updateQueue,null===r&&i("282"),a=t.memoizedState,a=null!==a?a.element:null,$n(t,r,t.pendingProps,null,n),r=t.memoizedState.element,r===a?(Sn(),t=Nn(e,t,n)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(gu=gt(t.stateNode.containerInfo),vu=t,a=yu=!0),a?(t.effectTag|=2,t.child=Bo(t,null,r,n)):(Rn(e,t,r,n),Sn()),t=t.child),t;case 5:return rn(t),null===e&&kn(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,u=a.children,ht(r,a)?u=null:null!==o&&ht(r,o)&&(t.effectTag|=16),On(e,t),1!==n&&1&t.mode&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Rn(e,t,u,n),t=t.child),t;case 6:return null===e&&kn(t),null;case 13:return Mn(e,t,n);case 4:return tn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Uo(t,null,r,n):Rn(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),xn(e,t,r,a,n);case 7:return Rn(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,u=t.memoizedProps,o=a.value,Un(t,o),null!==u){var l=u.value;if(0===(o=xe(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(u.children===a.children&&!Co.current){t=Nn(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.contextDependencies;if(null!==s){u=l.child;for(var f=s.first;null!==f;){if(f.context===r&&0!=(f.observedBits&o)){1===l.tag&&(f=Vn(n),f.tag=Ru,Kn(l,f)),n>l.expirationTime&&(l.expirationTime=n),f=l.alternate,null!==f&&n>f.expirationTime&&(f.expirationTime=n),f=n;for(var c=l.return;null!==c;){var d=c.alternate;if(f>c.childExpirationTime)c.childExpirationTime=f,null!==d&&f>d.childExpirationTime&&(d.childExpirationTime=f);else{if(null===d||d.childExpirationTime>=f)break;d.childExpirationTime=f}c=c.return}n>s.expirationTime&&(s.expirationTime=n);break}f=f.next}}else u=10===l.tag&&l.type===t.type?null:l.child;if(null!==u)u.return=l;else for(u=l;null!==u;){if(u===t){u=null;break}if(null!==(l=u.sibling)){l.return=u.return,u=l;break}u=u.return}l=u}}Rn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps,r=o.children,jn(t,n),a=Gn(a,o.unstable_observedBits),r=r(a),t.effectTag|=1,Rn(e,t,r,n),t.child;case 14:return a=t.type,o=Vt(a,t.pendingProps),o=Vt(a.type,o),An(e,t,a,o,r,n);case 15:return Ln(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Vt(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_t(r)?(e=!0,St(t)):e=!1,jn(t,n),qt(t,r,a,n),$t(t,r,a,n),Pn(null,t,r,!0,e,n)}i("156")}function Un(e,t){var n=e.type._context;mt(_u,n._currentValue,e),n._currentValue=t}function Bn(e){var t=_u.current;yt(_u,e),e.type._context._currentValue=t}function jn(e,t){Eu=e,Tu=ku=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(bu=!0),e.contextDependencies=null}function Gn(e,t){return Tu!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Tu=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ku?(null===Eu&&i("308"),ku=t,Eu.contextDependencies={first:t,expirationTime:0}):ku=ku.next=t),e._currentValue}function zn(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Wn(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Vn(e){return{expirationTime:e,tag:wu,payload:null,callback:null,next:null,nextEffect:null}}function Hn(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Kn(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=zn(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=zn(e.memoizedState),i=n.updateQueue=zn(n.memoizedState)):r=e.updateQueue=Wn(i):null===i&&(i=n.updateQueue=Wn(r));null===i||r===i?Hn(r,t):null===r.lastUpdate||null===i.lastUpdate?(Hn(r,t),Hn(i,t)):(Hn(r,t),i.lastUpdate=t)}function Yn(e,t){var n=e.updateQueue;n=null===n?e.updateQueue=zn(e.memoizedState):qn(e,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function qn(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Wn(t)),t}function Xn(e,t,n,r,i,a){switch(n.tag){case Su:return e=n.payload,"function"==typeof e?e.call(a,r,i):e;case xu:e.effectTag=-2049&e.effectTag|64;case wu:if(e=n.payload,null===(i="function"==typeof e?e.call(a,r,i):e)||void 0===i)break;return ui({},r,i);case Ru:Au=!0}return r}function $n(e,t,n,r,i){Au=!1,t=qn(e,t);for(var a=t.baseState,o=null,u=0,l=t.firstUpdate,s=a;null!==l;){var f=l.expirationTime;i>f?(null===o&&(o=l,a=s),f>u&&(u=f)):(s=Xn(e,t,l,s,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(f=null,l=t.firstCapturedUpdate;null!==l;){var c=l.expirationTime;i>c?(null===f&&(f=l,null===o&&(a=s)),c>u&&(u=c)):(s=Xn(e,t,l,s,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===f?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===f&&(a=s),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=f,e.expirationTime=u,e.memoizedState=s}function Qn(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Zn(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Zn(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Zn(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&i("191",n),n.call(r)}e=e.nextEffect}}function Jn(e,t){return{value:e,source:t,stack:te(t)}}function er(e){e.effectTag|=4}function tr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=te(n)),null!==n&&ee(n.type),t=t.value,null!==e&&1===e.tag&&ee(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function nr(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Tr(e,t)}else t.current=null}function rr(e,t,n){if(n=n.updateQueue,null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Vo){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Vo&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ir(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ot("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){r=n.child.sibling,r.return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ar(e){switch("function"==typeof Io&&Io(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Tr(i,e)}}n=n.next}while(n!==t)}break;case 1:if(nr(e),t=e.stateNode,"function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Tr(e,t)}break;case 5:nr(e);break;case 4:lr(e)}}function or(e){return 5===e.tag||3===e.tag||4===e.tag}function ur(e){e:{for(var t=e.return;null!==t;){if(or(t)){var n=t;break e}t=t.return}i("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(at(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||or(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(r){var o=t,u=a.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(u,l):o.insertBefore(u,l)}else t.insertBefore(a.stateNode,n);else r?(u=t,l=a.stateNode,8===u.nodeType?(o=u.parentNode,o.insertBefore(l,u)):(o=u,o.appendChild(l)),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=ct)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function lr(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&i("160"),n.tag){case 5:r=n.stateNode,a=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,u=o;;)if(ar(u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===o)break;for(;null===u.sibling;){if(null===u.return||u.return===o)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}a?(o=r,u=t.stateNode,8===o.nodeType?o.parentNode.removeChild(u):o.removeChild(u)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(ar(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function sr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:rr(Ko,Yo,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&pt(n,o,a,e,r,t)}break;case 6:null===t.stateNode&&i("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Mr())),null!==e&&ir(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var u=t.stateNode;null===u&&(u=t.stateNode=new Pu),n.forEach(function(e){var n=Rr.bind(null,t,e);u.has(e)||(u.add(e),e.then(n,n))})}break;case 17:break;default:i("163")}}function fr(e,t,n){n=Vn(n),n.tag=xu,n.payload={element:null};var r=t.value;return n.callback=function(){Vr(r),tr(e,t)},n}function cr(e,t,n){n=Vn(n),n.tag=xu;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var n=t.value,i=t.stack;tr(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function dr(e){switch(e.tag){case 1:_t(e.type)&&Et(e);var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return nn(e),kt(e),t=e.effectTag,0!=(64&t)&&i("285"),e.effectTag=-2049&t|64,e;case 5:return an(e),null;case 13:return t=e.effectTag,2048&t?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return nn(e),null;case 10:return Bn(e),null;default:return null}}function hr(){if(null!==Bu)for(var e=Bu.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Et(t);break;case 3:nn(t),kt(t);break;case 5:an(t);break;case 4:nn(t);break;case 10:Bn(t)}e=e.return}ju=null,Gu=0,zu=-1,Wu=!1,Bu=null}function pr(){for(;null!==Vu;){var e=Vu.effectTag;if(16&e&&at(Vu.stateNode,""),128&e){var t=Vu.alternate;null!==t&&null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null)}switch(14&e){case 2:ur(Vu),Vu.effectTag&=-3;break;case 6:ur(Vu),Vu.effectTag&=-3,sr(Vu.alternate,Vu);break;case 4:sr(Vu.alternate,Vu);break;case 8:e=Vu,lr(e),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Vu=Vu.nextEffect}}function vr(){for(;null!==Vu;){if(256&Vu.effectTag)e:{var e=Vu.alternate,t=Vu;switch(t.tag){case 0:case 11:case 15:rr(Ho,Vo,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Vt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:i("163")}}Vu=Vu.nextEffect}}function gr(e,t){for(;null!==Vu;){var n=Vu.effectTag;if(36&n){var r=Vu.alternate,a=Vu,o=t;switch(a.tag){case 0:case 11:case 15:rr(qo,Xo,a);break;case 1:var u=a.stateNode;if(4&a.effectTag)if(null===r)u.componentDidMount();else{var l=a.elementType===a.type?r.memoizedProps:Vt(a.type,r.memoizedProps);u.componentDidUpdate(l,r.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}r=a.updateQueue,null!==r&&Qn(a,r,u,o);break;case 3:if(null!==(r=a.updateQueue)){if(u=null,null!==a.child)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Qn(a,r,u,o)}break;case 5:o=a.stateNode,null===r&&4&a.effectTag&&dt(a.type,a.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:i("163")}}128&n&&null!==(a=Vu.ref)&&(o=Vu.stateNode,"function"==typeof a?a(o):a.current=o),512&n&&(Ku=e),Vu=Vu.nextEffect}}function yr(e,t){qu=Yu=Ku=null;var n=el;el=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var a=t;rr(Qo,Vo,a),rr(Vo,$o,a)}catch(e){r=!0,i=e}r&&Tr(t,i)}t=t.nextEffect}while(null!==t);el=n,n=e.expirationTime,0!==n&&Nr(e,n),ol||el||jr(1073741823,!1)}function mr(){null!==Yu&&Ro(Yu),null!==qu&&qu()}function br(e,t){Hu=Uu=!0,e.current===t&&i("177");var n=e.pendingCommitExpirationTime;0===n&&i("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,a=t.childExpirationTime;for(jt(e,a>r?a:r),Nu.current=null,r=void 0,t.effectTag>1?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,Eo=ro,ko=Ye(),ro=!1,Vu=r;null!==Vu;){a=!1;var o=void 0;try{vr()}catch(e){a=!0,o=e}a&&(null===Vu&&i("178"),Tr(Vu,o),null!==Vu&&(Vu=Vu.nextEffect))}for(Vu=r;null!==Vu;){a=!1,o=void 0;try{pr()}catch(e){a=!0,o=e}a&&(null===Vu&&i("178"),Tr(Vu,o),null!==Vu&&(Vu=Vu.nextEffect))}for(qe(ko),ko=null,ro=!!Eo,Eo=null,e.current=t,Vu=r;null!==Vu;){a=!1,o=void 0;try{gr(e,n)}catch(e){a=!0,o=e}a&&(null===Vu&&i("178"),Tr(Vu,o),null!==Vu&&(Vu=Vu.nextEffect))}if(null!==r&&null!==Ku){var u=yr.bind(null,e,r);Yu=li.unstable_runWithPriority(li.unstable_NormalPriority,function(){return So(u)}),qu=u}Uu=Hu=!1,"function"==typeof Po&&Po(t.stateNode),n=t.expirationTime,t=t.childExpirationTime,t=t>n?t:n,0===t&&(Xu=null),Ir(e,t)}function _r(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Bu=e;e:{var a=t;t=e;var o=Gu,u=t.pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:_t(t.type)&&Et(t);break;case 3:nn(t),kt(t),u=t.stateNode,u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==a&&null!==a.child||(wn(t),t.effectTag&=-3),Ou(t);break;case 5:an(t);var l=en(Wo.current);if(o=t.type,null!==a&&null!=t.stateNode)Cu(a,t,o,u,l),a.ref!==t.ref&&(t.effectTag|=128);else if(u){var s=en(Go.current);if(wn(t)){u=t,a=u.stateNode;var f=u.type,c=u.memoizedProps,d=l;switch(a[Ri]=u,a[xi]=c,o=void 0,l=f){case"iframe":case"object":Ne("load",a);break;case"video":case"audio":for(f=0;Ni.length>f;f++)Ne(Ni[f],a);break;case"source":Ne("error",a);break;case"img":case"image":case"link":Ne("error",a),Ne("load",a);break;case"form":Ne("reset",a),Ne("submit",a);break;case"details":Ne("toggle",a);break;case"input":fe(a,c),Ne("invalid",a),ft(d,"onChange");break;case"select":a._wrapperState={wasMultiple:!!c.multiple},Ne("invalid",a),ft(d,"onChange");break;case"textarea":et(a,c),Ne("invalid",a),ft(d,"onChange")}lt(l,c),f=null;for(o in c)c.hasOwnProperty(o)&&(s=c[o],"children"===o?"string"==typeof s?a.textContent!==s&&(f=["children",s]):"number"==typeof s&&a.textContent!==""+s&&(f=["children",""+s]):mi.hasOwnProperty(o)&&null!=s&&ft(d,o));switch(l){case"input":Q(a),he(a,c,!0);break;case"textarea":Q(a),nt(a,c);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(a.onclick=ct)}o=f,u.updateQueue=o,u=null!==o,u&&er(t)}else{c=t,d=o,a=u,f=9===l.nodeType?l:l.ownerDocument,s===vo.html&&(s=rt(d)),s===vo.html?"script"===d?(a=f.createElement("div"),a.innerHTML="<script><\/script>",f=a.removeChild(a.firstChild)):"string"==typeof a.is?f=f.createElement(d,{is:a.is}):(f=f.createElement(d),"select"===d&&(d=f,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):f=f.createElementNS(s,d),a=f,a[Ri]=c,a[xi]=u,Lu(a,t,!1,!1),d=a,f=o,c=u;var h=l,p=st(f,c);switch(f){case"iframe":case"object":Ne("load",d),l=c;break;case"video":case"audio":for(l=0;Ni.length>l;l++)Ne(Ni[l],d);l=c;break;case"source":Ne("error",d),l=c;break;case"img":case"image":case"link":Ne("error",d),Ne("load",d),l=c;break;case"form":Ne("reset",d),Ne("submit",d),l=c;break;case"details":Ne("toggle",d),l=c;break;case"input":fe(d,c),l=se(d,c),Ne("invalid",d),ft(h,"onChange");break;case"option":l=Qe(d,c);break;case"select":d._wrapperState={wasMultiple:!!c.multiple},l=ui({},c,{value:void 0}),Ne("invalid",d),ft(h,"onChange");break;case"textarea":et(d,c),l=Je(d,c),Ne("invalid",d),ft(h,"onChange");break;default:l=c}lt(f,l),s=void 0;var v=f,g=d,y=l;for(s in y)if(y.hasOwnProperty(s)){var m=y[s];"style"===s?ut(g,m):"dangerouslySetInnerHTML"===s?null!=(m=m?m.__html:void 0)&&yo(g,m):"children"===s?"string"==typeof m?("textarea"!==v||""!==m)&&at(g,m):"number"==typeof m&&at(g,""+m):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(mi.hasOwnProperty(s)?null!=m&&ft(h,s):null!=m&&ue(g,s,m,p))}switch(f){case"input":Q(d),he(d,c,!1);break;case"textarea":Q(d),nt(d,c);break;case"option":null!=c.value&&d.setAttribute("value",""+le(c.value));break;case"select":l=d,l.multiple=!!c.multiple,d=c.value,null!=d?Ze(l,!!c.multiple,d,!1):null!=c.defaultValue&&Ze(l,!!c.multiple,c.defaultValue,!0);break;default:"function"==typeof l.onClick&&(d.onclick=ct)}(u=dt(o,u))&&er(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&i("166");break;case 6:a&&null!=t.stateNode?Du(a,t,a.memoizedProps,u):("string"!=typeof u&&(null===t.stateNode&&i("166")),a=en(Wo.current),en(Go.current),wn(t)?(u=t,o=u.stateNode,a=u.memoizedProps,o[Ri]=u,(u=o.nodeValue!==a)&&er(t)):(o=t,u=(9===a.nodeType?a:a.ownerDocument).createTextNode(u),u[Ri]=t,o.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=o,Bu=t;break e}u=null!==u,o=null!==a&&null!==a.memoizedState,null!==a&&!u&&o&&null!==(a=a.child.sibling)&&(l=t.firstEffect,null!==l?(t.firstEffect=a,a.nextEffect=l):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8),(u||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:nn(t),Ou(t);break;case 10:Bn(t);break;case 9:case 14:break;case 17:_t(t.type)&&Et(t);break;case 18:break;default:i("156")}Bu=null}if(t=e,1===Gu||1!==t.childExpirationTime){for(u=0,o=t.child;null!==o;)a=o.expirationTime,l=o.childExpirationTime,a>u&&(u=a),l>u&&(u=l),o=o.sibling;t.childExpirationTime=u}if(null!==Bu)return Bu;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),e.effectTag>1&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=dr(e,Gu)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Er(e){var t=Fn(e.alternate,e,Gu);return e.memoizedProps=e.pendingProps,null===t&&(t=_r(e)),Nu.current=null,t}function kr(e,t){Uu&&i("243"),mr(),Uu=!0;var n=Mu.current;Mu.current=du;var r=e.nextExpirationTimeToWorkOn;r===Gu&&e===ju&&null!==Bu||(hr(),ju=e,Gu=r,Bu=Pt(ju.current,null,Gu),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(t)for(;null!==Bu&&!Ur();)Bu=Er(Bu);else for(;null!==Bu;)Bu=Er(Bu)}catch(t){if(Tu=ku=Eu=null,sn(),null===Bu)a=!0,Vr(t);else{null===Bu&&i("271");var o=Bu,u=o.return;if(null!==u){e:{var l=e,s=u,f=o,c=t;if(u=Gu,f.effectTag|=1024,f.firstEffect=f.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c;c=s;var h=-1,p=-1;do{if(13===c.tag){var v=c.alternate;if(null!==v&&null!==(v=v.memoizedState)){p=10*(1073741822-v.timedOutAt);break}v=c.pendingProps.maxDuration,"number"==typeof v&&(v>0?(-1===h||h>v)&&(h=v):h=0)}c=c.return}while(null!==c);c=s;do{if((v=13===c.tag)&&(v=void 0!==c.memoizedProps.fallback&&null===c.memoizedState),v){if(s=c.updateQueue,null===s?(s=new Set,s.add(d),c.updateQueue=s):s.add(d),0==(1&c.mode)){c.effectTag|=64,f.effectTag&=-1957,1===f.tag&&(null===f.alternate?f.tag=17:(u=Vn(1073741823),u.tag=Ru,Kn(f,u))),f.expirationTime=1073741823;break e}f=l,s=u;var g=f.pingCache;null===g?(g=f.pingCache=new Iu,v=new Set,g.set(d,v)):void 0===(v=g.get(d))&&(v=new Set,g.set(d,v)),v.has(s)||(v.add(s),f=Sr.bind(null,f,d,s),d.then(f,f)),-1===h?l=1073741823:(-1===p&&(p=10*(1073741822-zt(l,u))-5e3),l=p+h),l>=0&&l>zu&&(zu=l),c.effectTag|=2048,c.expirationTime=u;break e}c=c.return}while(null!==c);c=Error((ee(f.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+te(f))}Wu=!0,c=Jn(c,f),l=s;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=u,u=fr(l,c,u),Yn(l,u);break e;case 1:if(h=c,p=l.type,f=l.stateNode,0==(64&l.effectTag)&&("function"==typeof p.getDerivedStateFromError||null!==f&&"function"==typeof f.componentDidCatch&&(null===Xu||!Xu.has(f)))){l.effectTag|=2048,l.expirationTime=u,u=cr(l,h,u),Yn(l,u);break e}}l=l.return}while(null!==l)}Bu=_r(o);continue}a=!0,Vr(t)}}break}if(Uu=!1,Mu.current=n,Tu=ku=Eu=null,sn(),a)ju=null,e.finishedWork=null;else if(null!==Bu)e.finishedWork=null;else{if(n=e.current.alternate,null===n&&i("281"),ju=null,Wu){if(a=e.latestPendingTime,o=e.latestSuspendedTime,u=e.latestPingedTime,0!==a&&r>a||0!==o&&r>o||0!==u&&r>u)return Gt(e,r),void Dr(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void Dr(e,n,r,t,-1)}t&&-1!==zu?(Gt(e,r),t=10*(1073741822-zt(e,r)),zu>t&&(zu=t),t=10*(1073741822-Mr()),t=zu-t,Dr(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Tr(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))return e=Jn(t,e),e=cr(n,e,1073741823),Kn(n,e),void Ar(n,1073741823);break;case 3:return e=Jn(t,e),e=fr(n,e,1073741823),Kn(n,e),void Ar(n,1073741823)}n=n.return}3===e.tag&&(n=Jn(t,e),n=fr(e,n,1073741823),Kn(e,n),Ar(e,1073741823))}function wr(e,t){var n=li.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(Uu&&!Hu)r=Gu;else{switch(n){case li.unstable_ImmediatePriority:r=1073741823;break;case li.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case li.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case li.unstable_LowPriority:case li.unstable_IdlePriority:r=1;break;default:i("313")}null!==ju&&r===Gu&&--r}return n===li.unstable_UserBlockingPriority&&(0===rl||rl>r)&&(rl=r),r}function Sr(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==ju&&Gu===n?ju=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===t||n>t||r>n||(e.didError=!1,t=e.latestPingedTime,(0===t||t>n)&&(e.latestPingedTime=n),Wt(n,e),0!==(n=e.expirationTime)&&Nr(e,n)))}function Rr(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Mr(),t=wr(t,e),null!==(e=xr(e,t))&&(Bt(e,t),0!==(t=e.expirationTime)&&Nr(e,t))}function xr(e,t){t>e.expirationTime&&(e.expirationTime=t);var n=e.alternate;null!==n&&t>n.expirationTime&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,t>r.childExpirationTime&&(r.childExpirationTime=t),null!==n&&t>n.childExpirationTime&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ar(e,t){null!==(e=xr(e,t))&&(!Uu&&0!==Gu&&t>Gu&&hr(),Bt(e,t),Uu&&!Hu&&ju===e||Nr(e,e.expirationTime),hl>dl&&(hl=0,i("185")))}function Lr(e,t,n,r,i){return li.unstable_runWithPriority(li.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}function Or(){fl=1073741822-((li.unstable_now()-sl)/10|0)}function Cr(e,t){if(0!==Zu){if(Zu>t)return;null!==Ju&&li.unstable_cancelCallback(Ju)}Zu=t,e=li.unstable_now()-sl,Ju=li.unstable_scheduleCallback(Br,{timeout:10*(1073741822-t)-e})}function Dr(e,t,n,r,i){e.expirationTime=r,0!==i||Ur()?i>0&&(e.timeoutHandle=To(Pr.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Pr(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,Or(),cl=fl,Gr(e,n)}function Ir(e,t){e.expirationTime=t,e.finishedWork=null}function Mr(){return el?cl:(Fr(),0!==nl&&1!==nl||(Or(),cl=fl),cl)}function Nr(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Qu?($u=Qu=e,e.nextScheduledRoot=e):(Qu=Qu.nextScheduledRoot=e,Qu.nextScheduledRoot=$u)):t>e.expirationTime&&(e.expirationTime=t),el||(ol?ul&&(tl=e,nl=1073741823,zr(e,1073741823,!1)):1073741823===t?jr(1073741823,!1):Cr(e,t))}function Fr(){var e=0,t=null;if(null!==Qu)for(var n=Qu,r=$u;null!==r;){var a=r.expirationTime;if(0===a){if((null===n||null===Qu)&&i("244"),r===r.nextScheduledRoot){$u=Qu=r.nextScheduledRoot=null;break}if(r===$u)$u=a=r.nextScheduledRoot,Qu.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===Qu){Qu=n,Qu.nextScheduledRoot=$u,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(a>e&&(e=a,t=r),r===Qu)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}tl=t,nl=e}function Ur(){return!!vl||!!li.unstable_shouldYield()&&(vl=!0)}function Br(){try{if(!Ur()&&null!==$u){Or();var e=$u;do{var t=e.expirationTime;0!==t&&t>=fl&&(e.nextExpirationTimeToWorkOn=fl),e=e.nextScheduledRoot}while(e!==$u)}jr(0,!0)}finally{vl=!1}}function jr(e,t){if(Fr(),t)for(Or(),cl=fl;!(null===tl||0===nl||e>nl||vl&&fl>nl);)zr(tl,nl,fl>nl),Fr(),Or(),cl=fl;else for(;null!==tl&&0!==nl&&nl>=e;)zr(tl,nl,!1),Fr();if(t&&(Zu=0,Ju=null),0!==nl&&Cr(tl,nl),hl=0,pl=null,null!==ll)for(e=ll,ll=null,t=0;e.length>t;t++){var n=e[t];try{n._onComplete()}catch(e){il||(il=!0,al=e)}}if(il)throw e=al,al=null,il=!1,e}function Gr(e,t){el&&i("253"),tl=e,nl=t,zr(e,t,!1),jr(1073741823,!1)}function zr(e,t,n){if(el&&i("245"),el=!0,n){var r=e.finishedWork;null!==r?Wr(e,r,t):(e.finishedWork=null,r=e.timeoutHandle,-1!==r&&(e.timeoutHandle=-1,wo(r)),kr(e,n),null!==(r=e.finishedWork)&&(Ur()?e.finishedWork=r:Wr(e,r,t)))}else r=e.finishedWork,null!==r?Wr(e,r,t):(e.finishedWork=null,r=e.timeoutHandle,-1!==r&&(e.timeoutHandle=-1,wo(r)),kr(e,n),null!==(r=e.finishedWork)&&Wr(e,r,t));el=!1}function Wr(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ll?ll=[r]:ll.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===pl?hl++:(pl=e,hl=0),li.unstable_runWithPriority(li.unstable_ImmediatePriority,function(){br(e,t)})}function Vr(e){null===tl&&i("246"),tl.expirationTime=0,il||(il=!0,al=e)}function Hr(e,t){var n=ol;ol=!0;try{return e(t)}finally{(ol=n)||el||jr(1073741823,!1)}}function Kr(e,t){if(ol&&!ul){ul=!0;try{return e(t)}finally{ul=!1}}return e(t)}function Yr(e,t,n){ol||el||0===rl||(jr(rl,!1),rl=0);var r=ol;ol=!0;try{return li.unstable_runWithPriority(li.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(ol=r)||el||jr(1073741823,!1)}}function qr(e,t,n,r,a){var o=t.current;e:if(n){n=n._reactInternalFiber;t:{2===Le(n)&&1===n.tag||i("170");var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(_t(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);i("171"),u=void 0}if(1===n.tag){var l=n.type;if(_t(l)){n=wt(n,l,u);break e}}n=u}else n=Lo;return null===t.context?t.context=n:t.pendingContext=n,t=a,a=Vn(r),a.payload={element:e},t=void 0===t?null:t,null!==t&&(a.callback=t),mr(),Kn(o,a),Ar(o,r),r}function Xr(e,t,n,r){var i=t.current;return i=wr(Mr(),i),qr(e,t,n,i,r)}function $r(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Qr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ua,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zr(e){var t=1073741822-25*(1+((1073741822-Mr()+500)/25|0));t>=Fu&&(t=Fu-1),this._expirationTime=Fu=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Jr(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ei(e,t,n){t=Ot(3,null,null,t?3:0),e={current:t,containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function ti(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ni(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ei(e,!1,t)}function ri(e,t,n,r,i){var a=n._reactRootContainer;if(a){if("function"==typeof i){var o=i;i=function(){var e=$r(a._internalRoot);o.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=ni(n,r),"function"==typeof i){var u=i;i=function(){var e=$r(a._internalRoot);u.call(e)}}Kr(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return $r(a._internalRoot)}function ii(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ti(t)||i("200"),Qr(e,t,null,n)}function ai(e,t){return ti(e)||i("299","unstable_createRoot"),new ei(e,!0,null!=t&&!0===t.hydrate)}var oi=n(0),ui=n(13),li=n(16);oi||i("227");var si=!1,fi=null,ci=!1,di=null,hi={onError:function(e){si=!0,fi=e}},pi=null,vi={},gi=[],yi={},mi={},bi={},_i=null,Ei=null,ki=null,Ti=null,wi={injectEventPluginOrder:function(e){pi&&i("101"),pi=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];vi.hasOwnProperty(t)&&vi[t]===r||(vi[t]&&i("102",t),vi[t]=r,n=!0)}n&&l()}},Si=Math.random().toString(36).slice(2),Ri="__reactInternalInstance$"+Si,xi="__reactEventHandlers$"+Si,Ai=!("undefined"==typeof window||!window.document||!window.document.createElement),Li={animationend:R("Animation","AnimationEnd"),animationiteration:R("Animation","AnimationIteration"),animationstart:R("Animation","AnimationStart"),transitionend:R("Transition","TransitionEnd")},Oi={},Ci={};Ai&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);var Di=x("animationend"),Pi=x("animationiteration"),Ii=x("animationstart"),Mi=x("transitionend"),Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=null,Ui=null,Bi=null;ui(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=L)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=L)},persist:function(){this.isPersistent=L},isPersistent:O,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=O,this._dispatchInstances=this._dispatchListeners=null}}),C.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},C.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return ui(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=ui({},r.Interface,e),n.extend=r.extend,I(n),n},I(C);var ji=C.extend({data:null}),Gi=C.extend({data:null}),zi=[9,13,27,32],Wi=Ai&&"CompositionEvent"in window,Vi=null;Ai&&"documentMode"in document&&(Vi=document.documentMode);var Hi=Ai&&"TextEvent"in window&&!Vi,Ki=Ai&&(!Wi||Vi&&Vi>8&&11>=Vi),Yi=String.fromCharCode(32),qi={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Xi=!1,$i=!1,Qi={eventTypes:qi,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(Wi)e:{switch(e){case"compositionstart":i=qi.compositionStart;break e;case"compositionend":i=qi.compositionEnd;break e;case"compositionupdate":i=qi.compositionUpdate;break e}i=void 0}else $i?M(e,n)&&(i=qi.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=qi.compositionStart);return i?(Ki&&"ko"!==n.locale&&($i||i!==qi.compositionStart?i===qi.compositionEnd&&$i&&(a=A()):(Fi=r,Ui="value"in Fi?Fi.value:Fi.textContent,$i=!0)),i=ji.getPooled(i,t,n,r),a?i.data=a:null!==(a=N(n))&&(i.data=a),S(i),a=i):a=null,(e=Hi?F(e,n):U(e,n))?(t=Gi.getPooled(qi.beforeInput,t,n,r),t.data=e,S(t)):t=null,null===a?t:null===t?a:[a,t]}},Zi=null,Ji=null,ea=null,ta=!1,na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ra=oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ra.hasOwnProperty("ReactCurrentDispatcher")||(ra.ReactCurrentDispatcher={current:null});var ia=/^(.*)[\\\/]/,aa="function"==typeof Symbol&&Symbol.for,oa=aa?Symbol.for("react.element"):60103,ua=aa?Symbol.for("react.portal"):60106,la=aa?Symbol.for("react.fragment"):60107,sa=aa?Symbol.for("react.strict_mode"):60108,fa=aa?Symbol.for("react.profiler"):60114,ca=aa?Symbol.for("react.provider"):60109,da=aa?Symbol.for("react.context"):60110,ha=aa?Symbol.for("react.concurrent_mode"):60111,pa=aa?Symbol.for("react.forward_ref"):60112,va=aa?Symbol.for("react.suspense"):60113,ga=aa?Symbol.for("react.memo"):60115,ya=aa?Symbol.for("react.lazy"):60116,ma="function"==typeof Symbol&&Symbol.iterator,ba=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a=Object.prototype.hasOwnProperty,Ea={},ka={},Ta={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ta[e]=new ae(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ta[t]=new ae(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ta[e]=new ae(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ta[e]=new ae(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ta[e]=new ae(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){Ta[e]=new ae(e,3,!0,e,null)}),["capture","download"].forEach(function(e){Ta[e]=new ae(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){Ta[e]=new ae(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){Ta[e]=new ae(e,5,!1,e.toLowerCase(),null)});var wa=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wa,oe);Ta[t]=new ae(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wa,oe);Ta[t]=new ae(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wa,oe);Ta[t]=new ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){Ta[e]=new ae(e,1,!1,e.toLowerCase(),null)});var Sa={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Ra=null,xa=null,Aa=!1;Ai&&(Aa=q("input")&&(!document.documentMode||document.documentMode>9));var La={eventTypes:Sa,_isInputEventSupported:Aa,extractEvents:function(e,t,n,r){var i=t?m(t):window,a=void 0,o=void 0,u=i.nodeName&&i.nodeName.toLowerCase();if("select"===u||"input"===u&&"file"===i.type?a=me:K(i)?Aa?a=we:(a=ke,o=Ee):(u=i.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Te),a&&(a=a(e,t)))return ve(a,n,r);o&&o(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&pe(i,"number",i.value)}},Oa=C.extend({view:null,detail:null}),Ca={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Da=0,Pa=0,Ia=!1,Ma=!1,Na=Oa.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Re,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Da;return Da=e.screenX,Ia?"mousemove"===e.type?e.screenX-t:0:(Ia=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pa;return Pa=e.screenY,Ma?"mousemove"===e.type?e.screenY-t:0:(Ma=!0,0)}}),Fa=Na.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ua={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ba={eventTypes:Ua,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?g(t):null):a=null,a===t)return null;var o=void 0,u=void 0,l=void 0,s=void 0;"mouseout"===e||"mouseover"===e?(o=Na,u=Ua.mouseLeave,l=Ua.mouseEnter,s="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Fa,u=Ua.pointerLeave,l=Ua.pointerEnter,s="pointer");var f=null==a?i:m(a);if(i=null==t?i:m(t),e=o.getPooled(u,a,n,r),e.type=s+"leave",e.target=f,e.relatedTarget=i,n=o.getPooled(l,t,n,r),n.type=s+"enter",n.target=i,n.relatedTarget=f,r=t,a&&r)e:{for(t=a,i=r,s=0,o=t;o;o=_(o))s++;for(o=0,l=i;l;l=_(l))o++;for(;s-o>0;)t=_(t),s--;for(;o-s>0;)i=_(i),o--;for(;s--;){if(t===i||t===i.alternate)break e;t=_(t),i=_(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(s=a.alternate)||s!==i);)t.push(a),a=_(a);for(a=[];r&&r!==i&&(null===(s=r.alternate)||s!==i);)a.push(r),r=_(r);for(r=0;t.length>r;r++)T(t[r],"bubbled",e);for(r=a.length;r-- >0;)T(a[r],"captured",n);return[e,n]}},ja=Object.prototype.hasOwnProperty,Ga=C.extend({animationName:null,elapsedTime:null,pseudoElement:null}),za=C.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wa=Oa.extend({relatedTarget:null}),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ha={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ka=Oa.extend({key:function(e){if(e.key){var t=Va[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Pe(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ha[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Re,charCode:function(e){return"keypress"===e.type?Pe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Pe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ya=Na.extend({dataTransfer:null}),qa=Oa.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Re}),Xa=C.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),$a=Na.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Qa=[["abort","abort"],[Di,"animationEnd"],[Pi,"animationIteration"],[Ii,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[Mi,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Za={},Ja={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Ie(e,!0)}),Qa.forEach(function(e){Ie(e,!1)});var eo={eventTypes:Za,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Ja[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=Ja[e];if(!i)return null;switch(e){case"keypress":if(0===Pe(n))return null;case"keydown":case"keyup":e=Ka;break;case"blur":case"focus":e=Wa;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=qa;break;case Di:case Pi:case Ii:e=Ga;break;case Mi:e=Xa;break;case"scroll":e=Oa;break;case"wheel":e=$a;break;case"copy":case"cut":case"paste":e=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fa;break;default:e=C}return t=e.getPooled(i,t,n,r),S(t),t}},to=eo.isInteractiveTopLevelEventType,no=[],ro=!0,io={},ao=0,oo="_reactListenersID"+(""+Math.random()).slice(2),uo=Ai&&"documentMode"in document&&11>=document.documentMode,lo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},so=null,fo=null,co=null,ho=!1,po={eventTypes:lo,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=je(a),i=bi.onSelect;for(var o=0;i.length>o;o++){var u=i[o];if(!a.hasOwnProperty(u)||!a[u]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?m(t):window,e){case"focus":(K(a)||"true"===a.contentEditable)&&(so=a,fo=t,co=null);break;case"blur":co=fo=so=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":return ho=!1,Xe(n,r);case"selectionchange":if(uo)break;case"keydown":case"keyup":return Xe(n,r)}return null}};wi.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_i=b,Ei=y,ki=m,wi.injectEventPluginsByName({SimpleEventPlugin:eo,EnterLeaveEventPlugin:Ba,ChangeEventPlugin:La,SelectEventPlugin:po,BeforeInputEventPlugin:Qi});var vo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},go=void 0,yo=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==vo.svg||"innerHTML"in e)e.innerHTML=t;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+t+"</svg>",t=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),mo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bo=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(e){bo.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mo[t]=mo[e]})});var _o=ui({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Eo=null,ko=null,To="function"==typeof setTimeout?setTimeout:void 0,wo="function"==typeof clearTimeout?clearTimeout:void 0,So=li.unstable_scheduleCallback,Ro=li.unstable_cancelCallback;new Set;var xo=[],Ao=-1,Lo={},Oo={current:Lo},Co={current:!1},Do=Lo,Po=null,Io=null,Mo=(new oi.Component).refs,No={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===Le(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Mr();r=wr(r,e);var i=Vn(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mr(),Kn(e,i),Ar(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Mr();r=wr(r,e);var i=Vn(r);i.tag=Su,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mr(),Kn(e,i),Ar(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Mr();n=wr(n,e);var r=Vn(n);r.tag=Ru,void 0!==t&&null!==t&&(r.callback=t),mr(),Kn(e,r),Ar(e,n)}},Fo=Array.isArray,Uo=Jt(!0),Bo=Jt(!1),jo={},Go={current:jo},zo={current:jo},Wo={current:jo},Vo=0,Ho=2,Ko=4,Yo=8,qo=16,Xo=32,$o=64,Qo=128,Zo=ra.ReactCurrentDispatcher,Jo=0,eu=null,tu=null,nu=null,ru=null,iu=null,au=null,ou=0,uu=null,lu=0,su=!1,fu=null,cu=0,du={readContext:Gn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on},hu={readContext:Gn,useCallback:function(e,t){return fn().memoizedState=[e,void 0===t?null:t],e},useContext:Gn,useEffect:function(e,t){return vn(516,Qo|$o,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,vn(4,Ko|Xo,yn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vn(4,Ko|Xo,e,t)},useMemo:function(e,t){var n=fn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=bn.bind(null,eu,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:function(e){var t=fn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={last:null,dispatch:null,lastRenderedReducer:dn,lastRenderedState:e},e=e.dispatch=bn.bind(null,eu,e),[t.memoizedState,e]},useDebugValue:mn},pu={readContext:Gn,useCallback:function(e,t){var n=cn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&un(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Gn,useEffect:function(e,t){return gn(516,Qo|$o,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,gn(4,Ko|Xo,yn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gn(4,Ko|Xo,e,t)},useMemo:function(e,t){var n=cn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&un(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:hn,useRef:function(){return cn().memoizedState},useState:function(e){return hn(dn)},useDebugValue:mn},vu=null,gu=null,yu=!1,mu=ra.ReactCurrentOwner,bu=!1,_u={current:null},Eu=null,ku=null,Tu=null,wu=0,Su=1,Ru=2,xu=3,Au=!1,Lu=void 0,Ou=void 0,Cu=void 0,Du=void 0;Lu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Cu=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o=t.stateNode;switch(en(Go.current),e=null,n){case"input":a=se(o,a),r=se(o,r),e=[];break;case"option":a=Qe(o,a),r=Qe(o,r),e=[];break;case"select":a=ui({},a,{value:void 0}),r=ui({},r,{value:void 0}),e=[];break;case"textarea":a=Je(o,a),r=Je(o,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(o.onclick=ct)}lt(n,r),o=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var l=a[n];for(o in l)l.hasOwnProperty(o)&&(u||(u={}),u[o]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(mi.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var s=r[n];if(l=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&s!==l&&(null!=s||null!=l))if("style"===n)if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(u||(u={}),u[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(u||(u={}),u[o]=s[o])}else u||(e||(e=[]),e.push(n,u)),u=s;else"dangerouslySetInnerHTML"===n?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(e=e||[]).push(n,""+s)):"children"===n?l===s||"string"!=typeof s&&"number"!=typeof s||(e=e||[]).push(n,""+s):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(mi.hasOwnProperty(n)?(null!=s&&ft(i,n),e||l===s||(e=[])):(e=e||[]).push(n,s))}u&&(e=e||[]).push("style",u),i=e,(t.updateQueue=i)&&er(t)}},Du=function(e,t,n,r){n!==r&&er(t)};var Pu="function"==typeof WeakSet?WeakSet:Set,Iu="function"==typeof WeakMap?WeakMap:Map,Mu=ra.ReactCurrentDispatcher,Nu=ra.ReactCurrentOwner,Fu=1073741822,Uu=!1,Bu=null,ju=null,Gu=0,zu=-1,Wu=!1,Vu=null,Hu=!1,Ku=null,Yu=null,qu=null,Xu=null,$u=null,Qu=null,Zu=0,Ju=void 0,el=!1,tl=null,nl=0,rl=0,il=!1,al=null,ol=!1,ul=!1,ll=null,sl=li.unstable_now(),fl=1073741822-(sl/10|0),cl=fl,dl=50,hl=0,pl=null,vl=!1;Zi=function(e,t,n){switch(t){case"input":if(de(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;n.length>t;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=b(r);a||i("90"),Z(r),de(r,a)}}}break;case"textarea":tt(e,n);break;case"select":null!=(t=n.value)&&Ze(e,!!n.multiple,t,!1)}},Zr.prototype.render=function(e){this._defer||i("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Jr;return qr(e,t,null,n,r._onCommit),r},Zr.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Zr.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||i("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,a=t;a!==this;)r=a,a=a._next;null===r&&i("251"),r._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,Gr(e,n),t=this._next,this._next=null,t=e.firstBatch=t,null!==t&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Zr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;e.length>t;t++)(0,e[t])()}},Jr.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Jr.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;e.length>t;t++){var n=e[t];"function"!=typeof n&&i("191",n),n()}}},ei.prototype.render=function(e,t){var n=this._internalRoot,r=new Jr;return t=void 0===t?null:t,null!==t&&r.then(t),Xr(e,n,null,r._onCommit),r},ei.prototype.unmount=function(e){var t=this._internalRoot,n=new Jr;return e=void 0===e?null:e,null!==e&&n.then(e),Xr(null,t,null,n._onCommit),n},ei.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Jr;return n=void 0===n?null:n,null!==n&&i.then(n),Xr(t,r,e,i._onCommit),i},ei.prototype.createBatch=function(){var e=new Zr(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},z=Hr,W=Yr,V=function(){el||0===rl||(jr(rl,!1),rl=0)};var gl={createPortal:ii,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?i("188"):i("268",Object.keys(e))),e=De(t),e=null===e?null:e.stateNode},hydrate:function(e,t,n){return ti(t)||i("200"),ri(null,e,t,!0,n)},render:function(e,t,n){return ti(t)||i("200"),ri(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return ti(n)||i("200"),(null==e||void 0===e._reactInternalFiber)&&i("38"),ri(e,t,n,!1,r)},unmountComponentAtNode:function(e){return ti(e)||i("40"),!!e._reactRootContainer&&(Kr(function(){ri(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ii.apply(void 0,arguments)},unstable_batchedUpdates:Hr,unstable_interactiveUpdates:Yr,flushSync:function(e,t){el&&i("187");var n=ol;ol=!0;try{return Lr(e,t)}finally{ol=n,jr(1073741823,!1)}},unstable_createRoot:ai,unstable_flushControlled:function(e){var t=ol;ol=!0;try{Lr(e)}finally{(ol=t)||el||jr(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[y,m,b,wi.injectEventPluginsByName,yi,S,function(e){d(e,w)},j,G,Be,v]}};!function(e){var t=e.findFiberByHostInstance;At(ui({},e,{overrideProps:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=De(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:g,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var yl={default:gl},ml=yl&&gl||yl;e.exports=ml.default||ml},function(e,t,n){"use strict";(function(e){function n(){if(!p){var e=s.expirationTime;v?T():v=!0,k(a,e)}}function r(){var e=s,t=s.next;if(s===t)s=null;else{var r=s.previous;s=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=c,a=h;c=e,h=t;try{var o=r()}finally{c=i,h=a}if("function"==typeof o)if(o={callback:o,priorityLevel:e,expirationTime:t,next:null,previous:null},null===s)s=o.next=o.previous=o;else{r=null,e=s;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==s);null===r?r=s:r===s&&(s=o,n()),t=r.previous,t.next=r.previous=o,o.next=r,o.previous=t}}function i(){if(-1===d&&null!==s&&1===s.priorityLevel){p=!0;try{do{r()}while(null!==s&&1===s.priorityLevel)}finally{p=!1,null!==s?n():v=!1}}}function a(e){p=!0;var a=f;f=e;try{if(e)for(;null!==s;){var o=t.unstable_now();if(s.expirationTime>o)break;do{r()}while(null!==s&&o>=s.expirationTime)}else if(null!==s)do{r()}while(null!==s&&!w())}finally{p=!1,f=a,null!==s?n():v=!1,i()}}function o(e){u=b(function(t){m(l),e(t)}),l=y(function(){_(u),e(t.unstable_now())},100)}Object.defineProperty(t,"__esModule",{value:!0});var u,l,s=null,f=!1,c=3,d=-1,h=-1,p=!1,v=!1,g=Date,y="function"==typeof setTimeout?setTimeout:void 0,m="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,_="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if("object"==typeof performance&&"function"==typeof performance.now){var E=performance;t.unstable_now=function(){return E.now()}}else t.unstable_now=function(){return g.now()};var k,T,w,S=null;if("undefined"!=typeof window?S=window:void 0!==e&&(S=e),S&&S._schedMock){var R=S._schedMock;k=R[0],T=R[1],w=R[2],t.unstable_now=R[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var x=null,A=function(e){if(null!==x)try{x(e)}finally{x=null}};k=function(e){null!==x?setTimeout(k,0,e):(x=e,setTimeout(A,0,!1))},T=function(){x=null},w=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var L=null,O=!1,C=-1,D=!1,P=!1,I=0,M=33,N=33;w=function(){return I<=t.unstable_now()};var F=new MessageChannel,U=F.port2;F.port1.onmessage=function(){O=!1;var e=L,n=C;L=null,C=-1;var r=t.unstable_now(),i=!1;if(0>=I-r){if(-1===n||n>r)return D||(D=!0,o(B)),L=e,void(C=n);i=!0}if(null!==e){P=!0;try{e(i)}finally{P=!1}}};var B=function(e){if(null!==L){o(B);var t=e-I+N;N>t&&N>M?(8>t&&(t=8),N=M>t?M:t):M=t,I=e+N,O||(O=!0,U.postMessage(void 0))}else D=!1};k=function(e,t){L=e,C=t,P||0>t?U.postMessage(void 0):D||(D=!0,o(B))},T=function(){L=null,O=!1,C=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=c,a=d;c=e,d=t.unstable_now();try{return n()}finally{c=r,d=a,i()}},t.unstable_next=function(e){switch(c){case 1:case 2:case 3:var n=3;break;default:n=c}var r=c,a=d;c=n,d=t.unstable_now();try{return e()}finally{c=r,d=a,i()}},t.unstable_scheduleCallback=function(e,r){var i=-1!==d?d:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=i+r.timeout;else switch(c){case 1:r=i+-1;break;case 2:r=i+250;break;case 5:r=i+1073741823;break;case 4:r=i+1e4;break;default:r=i+5e3}if(e={callback:e,priorityLevel:c,expirationTime:r,next:null,previous:null},null===s)s=e.next=e.previous=e,n();else{i=null;var a=s;do{if(a.expirationTime>r){i=a;break}a=a.next}while(a!==s);null===i?i=s:i===s&&(s=e,n()),r=i.previous,r.next=i.previous=e,e.next=i,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)s=null;else{e===s&&(s=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=c;return function(){var r=c,a=d;c=n,d=t.unstable_now();try{return e.apply(this,arguments)}finally{c=r,d=a,i()}}},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_shouldYield=function(){return!f&&(null!==s&&h>s.expirationTime||w())},t.unstable_continueExecution=function(){null!==s&&n()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return s}}).call(t,n(6))},function(e,t,n){"use strict";e.exports=n(15)},function(e,t){function n(e,t){for(var n=0;e.length>n;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(var a=0;i.parts.length>a;a++)i.parts[a](r.parts[a]);for(;r.parts.length>a;a++)i.parts.push(l(r.parts[a],t))}else{for(var o=[],a=0;r.parts.length>a;a++)o.push(l(r.parts[a],t));d[r.id]={id:r.id,refs:1,parts:o}}}}function r(e){for(var t=[],n={},r=0;e.length>r;r++){var i=e[r],a=i[0],o=i[1],u=i[2],l=i[3],s={css:o,media:u,sourceMap:l};n[a]?n[a].parts.push(s):t.push(n[a]={id:a,parts:[s]})}return t}function i(e,t){var n=v(),r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=m.indexOf(e);0>t||m.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function l(e,t){var n,r,i;if(t.singleton){var l=y++;n=g||(g=o(t)),r=s.bind(null,n,l,!1),i=s.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=c.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),r=f.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function s(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0,m=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=p()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var a=[],o=0;i.length>o;o++){var u=i[o],l=d[u.id];l.refs--,a.push(l)}if(e){n(r(e),t)}for(var o=0;a.length>o;o++){var l=a[o];if(0===l.refs){for(var s=0;l.parts.length>s;s++)l.parts[s]();delete d[l.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])});